import{a as qt,b as Br,c as De,d as Hr,e as $r,f as qr,g as Ur,h as Gr,i as Wr,j as Qr,k as En,l as Yr,m as Kr,n as Tn,o as ye,p as Ut,q as B,r as Ce,s as Zr,t as Xr,u as Jr,v as $e,w as ne,x as Je,y as Ys}from"./chunk-J24RPUX3.js";import{$a as yr,$b as Fr,$c as en,A as Ye,Ab as T,B as Ke,Bb as Mr,C as Ft,Cb as v,D as mr,Da as Lt,Db as h,Ea as li,Eb as Or,Ec as On,F as ur,Fb as Er,Gb as Tr,Gc as ve,H as ri,Hb as kr,Hc as te,Ib as Ir,Ic as K,J as gr,Jb as Sn,Jc as zr,K as fr,Kb as Bt,Kc as Lr,Lb as Ht,Lc as He,M as hn,Mb as Pn,Mc as Vr,Nb as l,Nc as be,Ob as C,Oc as jr,Pb as S,Pc as $,Q as oi,Qa as xr,Qb as ut,Ra as Ue,Rb as Te,Rc as $t,S as Nt,Sa as ee,Sb as ke,T as Ze,Tb as Ie,U as Y,Ua as bn,Ub as Dr,V as W,Va as yn,Vb as O,Vc as ae,Wb as pe,Wc as D,X as H,Xa as c,Xb as oe,Xc as le,Y as yt,Ya as y,Yb as Ar,Yc as ge,Zb as ci,Zc as eo,_ as Ct,_a as br,_b as U,_c as to,a as q,aa as j,ab as Cr,ac as J,ad as kn,b as Re,ba as Z,bb as Sr,bc as Nr,bd as fe,c as cr,cb as Pr,cc as di,cd as no,db as wr,dd as Se,e as Qs,eb as mt,ed as Pe,fd as io,ga as M,gd as ro,ha as St,hb as Cn,hd as Ae,ia as si,id as gt,ja as hr,jd as he,ka as ai,l as Q,la as _r,m as un,mb as _,mc as wn,nb as Xe,o as dr,ob as u,p as bt,pa as _n,pb as Oe,pc as Rr,q as gn,qa as P,qb as re,qc as Mn,ra as w,rb as se,sa as Xt,sb as R,t as fn,ta as vn,tb as Pt,ub as wt,vb as a,wa as xn,wb as s,xa as vr,xb as f,ya as Rt,yb as Vt,z as pr,za as zt,zb as jt,zc as Jt}from"./chunk-XQ2V4OED.js";var oo=(()=>{class i{constructor(){this.isScrolling=!1}onwindowscroll(){this.isScrolling=window.scrollY>30}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-nav-auth"]],hostBindings:function(t,n){t&1&&v("scroll",function(){return n.onwindowscroll()},!1,bn)},standalone:!0,features:[O],decls:20,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","fixed-top","shadow-sm"],[1,"container","position-relative"],["routerLink","login",1,"navbar-brand"],["src","./../../../assets/imgs/Vector 78.png","alt","logo",1,"logo"],[1,"navdot"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["routerLink","explore","routerLinkActive","active-link",1,"nav-link","text-main","fw-bold","nav-links"],["routerLink","login","routerLinkActive","active-link",1,"nav-link","text-main","fw-bold","nav-links"],[1,"nav-item"],["routerLink","register","routerLinkActive","active-link",1,"nav-link","text-main","fw-bolder","nav-links"]],template:function(t,n){t&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),f(3,"img",3),s(),a(4,"div",4)(5,"a",5),l(6,"PharmAssist"),s()(),a(7,"button",6),f(8,"span",7),s(),a(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),l(13,"Explore"),s()(),a(14,"li",10)(15,"a",12),l(16,"Login"),s()(),a(17,"li",13)(18,"a",14),l(19,"Register"),s()()()()()()),t&2&&se(n.isScrolling==!1?"scrollPading":"")},dependencies:[Ce,Zr],styles:['.logo[_ngcontent-%COMP%]{width:55px;height:60px}.scrollPading[_ngcontent-%COMP%]{padding:15px}nav[_ngcontent-%COMP%]{transition:all .5s}.navdot[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";width:6px;height:6px;position:absolute;border:1px solid var(--light-color);top:45px;border-radius:20px;background-color:var(--light-color)}.nav-links.active[_ngcontent-%COMP%]   .navdot[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{width:20px;height:20px;top:40px;left:-7px;background-color:var(--primary-color)}.active-link[_ngcontent-%COMP%]:hover{color:#fff!important}']})}}return i})();var so=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-footer"]],standalone:!0,features:[O],decls:24,vars:0,consts:[[1,"bluebk","py-1","py-md-3","overflow-hidden"],[1,"container"],[1,"row","align-items-center","flex-column","flex-md-row"],[1,"col-12","col-md-2","text-center","mb-4","mb-md-0"],["src","./../../../assets/imgs/medicines.png","alt","medicine",1,"img-fluid","w-100","w-md-75","animate-float"],[1,"col-12","col-md-10"],[1,"fw-bold","mb-3","text-center","text-md-start"],[1,"text-center","text-md-start"],[1,"my-3"],[1,"input-group","mx-auto"],[1,"input-group-text","border-end-0","rounded-start-pill","text-main"],[1,"fa-solid","fa-envelope","text-main"],["type","email","placeholder","Enter your email",1,"form-control","border-start-0","border-end-0","rounded-0","ps-0"],["type","submit",1,"btn","btngrad","px-3","px-md-4","rounded-end-pill","p-1"],[1,"small","mb-0","text-center","text-md-start"],["href","#",1,"text-white","text-decoration-underline"]],template:function(t,n){t&1&&(a(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"img",4),s(),a(5,"div",5)(6,"h3",6),l(7," Subscribe to our newsletter to get updates to our latest collections "),s(),a(8,"p",7),l(9,"Get 20% off on your first order just by subscribing to our newsletter"),s(),a(10,"form",8)(11,"div",9)(12,"span",10),f(13,"i",11),s(),f(14,"input",12),a(15,"button",13),l(16," Subscribe "),s()()(),a(17,"p",14),l(18," You will be able to unsubscribe at any time."),f(19,"br"),l(20," Read our privacy policy "),a(21,"a",15),l(22,"here"),s(),l(23,". "),s()()()()())},styles:["body[_ngcontent-%COMP%]{background-color:#f0f4ff}.bluebk[_ngcontent-%COMP%]{background-color:#2d94ea;color:#fff;padding:2rem 0}.subscription-container[_ngcontent-%COMP%]{position:relative;overflow-x:hidden}.subscription-card[_ngcontent-%COMP%]{background-color:#2d94ea;max-width:100%;color:#fff;padding:2rem 1.5rem;position:relative;z-index:1}.subscription-img[_ngcontent-%COMP%]{max-width:100%;height:auto}.overflow-image[_ngcontent-%COMP%]{position:absolute;left:50px;top:-100px;width:270px;z-index:2}.form-wrapper[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;padding:5px;display:flex;align-items:center}.form-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;border-radius:30px}.form-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.form-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{white-space:nowrap;border-radius:30px;background-color:var(--main-color)}.input-group[_ngcontent-%COMP%]{width:100%;max-width:600px}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;transition:all .3s ease}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:transparent}.input-group-text[_ngcontent-%COMP%]{border:1px solid #ced4da;background-color:#fff}.btn-primary[_ngcontent-%COMP%]{transition:all .3s ease}.btngrad[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;border:none;padding:10px 20px;border-radius:30px}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3754d8,#07866bdc);transform:scale(1.05);box-shadow:0 4px 12px #0003}@media (max-width: 767.98px){.subscription-card[_ngcontent-%COMP%]{padding:1.5rem}.overflow-image[_ngcontent-%COMP%]{width:180px;left:20px;top:-70px}.input-group[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-group-text[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;border-radius:30px!important}.input-group-text[_ngcontent-%COMP%]{border-radius:30px 30px 0 0!important}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0 0 30px 30px!important}}@media (min-width: 768px){.bluebk[_ngcontent-%COMP%]{padding:3rem 0}.subscription-card[_ngcontent-%COMP%]{padding:3rem 2rem}}.animate-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}"]})}}return i})();var ao=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-auth"]],standalone:!0,features:[O],decls:2,vars:0,template:function(t,n){t&1&&f(0,"app-nav-auth")(1,"router-outlet")},dependencies:[oo,Ut]})}}return i})();var Ks=(i,r)=>r.id;function Zs(i,r){i&1&&(a(0,"div",6)(1,"h1",19),l(2,"Pharm Assist"),s(),a(3,"p",20),l(4,"Your Health Partner"),s()())}function Xs(i,r){if(i&1&&(a(0,"div",10)(1,"div",21)(2,"div",22),f(3,"i",23),s(),f(4,"div",24),s(),a(5,"div",25)(6,"p",26),l(7),s(),a(8,"p",27),l(9),s()()()),i&2){let e=h();c(7),S("",e.getUserGreeting(),","),c(2),C(e.username)}}function Js(i,r){if(i&1&&(a(0,"span",31),l(1),s()),i&2){let e=h().$implicit;c(),C(e.label)}}function ea(i,r){i&1&&f(0,"div",32)}function ta(i,r){if(i&1){let e=T();a(0,"li",28)(1,"a",29),v("click",function(){let n=P(e).$implicit,o=h();return w(o.navigateToRoute(n))})("keydown.enter",function(){let n=P(e).$implicit,o=h();return w(o.navigateToRoute(n))})("keydown.space",function(){let n=P(e).$implicit,o=h();return w(o.navigateToRoute(n))}),a(2,"div",30),f(3,"i"),s(),_(4,Js,2,1,"span",31)(5,ea,1,0,"div",32),s()()}if(i&2){let e=r.$implicit,t=r.$index,n=h();Oe("animation-delay",n.getAnimationDelay(t)),c(),re("active",e.isActive),Xe("data-tooltip",n.isSidebarOpen?null:e.label)("aria-label",e.label),c(2),se(e.icon),c(),R(4,n.isSidebarOpen?4:-1),c(),R(5,e.isActive?5:-1)}}function na(i,r){i&1&&(a(0,"span",17),l(1,"Logout"),s())}function ia(i,r){if(i&1){let e=T();a(0,"div",33),v("click",function(){P(e);let n=h();return w(n.closeSidebar())}),s()}}function ra(i,r){i&1&&f(0,"span",43)}function oa(i,r){if(i&1){let e=T();a(0,"div",34),v("click",function(){P(e);let n=h();return w(n.cancelLogout())}),s(),a(1,"div",35)(2,"div",36)(3,"div",37),f(4,"i",16),s(),a(5,"h2",38),l(6,"confirm Logout"),s()(),a(7,"p",39),l(8,"Are you sure you want to log out? The current session will be closed."),s(),a(9,"div",40)(10,"button",41),v("click",function(){P(e);let n=h();return w(n.cancelLogout())}),l(11," Cancel "),s(),a(12,"button",42),v("click",function(){P(e);let n=h();return w(n.confirmLogout())}),_(13,ra,1,0,"span",43),l(14,`
Logout `),s()()()}if(i&2){let e=h();c(10),u("disabled",e.logoutInProgress),c(2),u("disabled",e.logoutInProgress),c(),R(13,e.logoutInProgress?13:-1)}}var lo=(()=>{class i{constructor(){this._destroy$=new Q,this._router=Z(B),this.isSidebarOpen=!1,this.isAnimating=!1,this.currentRoute="",this.isMobile=!1,this.showLogoutConfirmation=!1,this.logoutInProgress=!1,this.username=sessionStorage.getItem("displayName"),this.navItems=[{id:"medicines",label:"Medicines",icon:"fa-solid fa-capsules",route:"/main/AllProducts"},{id:"request",label:"Orders",icon:"fa-solid fa-file-medical",route:"/main/orders-list",badge:3},{id:"cart",label:"Cart",icon:"fa-solid fa-cart-shopping",route:"/main/cart",badge:5},{id:"chatbot",label:"Chatbot",icon:"fa-solid fa-robot",route:"/main/chatbot"},{id:"profile",label:"Profile",icon:"fa-solid fa-user-circle",route:"/main/profile"}],this.isMobileMenuOpen=!1,this.checkScreenSize()}ngOnInit(){this.trackRouteChanges(),this.setInitialRoute(),this.initializeComponent()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}initializeComponent(){setTimeout(()=>{this.navItems.forEach((e,t)=>{let n=document.querySelector(`.nav-item:nth-child(${t+1})`);n&&(n.style.animationDelay=`${(t+1)*.1}s`)})},100)}trackRouteChanges(){this._router.events.pipe(Ke(e=>e instanceof Tn),Ze(this._destroy$)).subscribe(e=>{this.currentRoute=e.urlAfterRedirects,this.updateActiveStates(),this.announceRouteChange()})}setInitialRoute(){this.currentRoute=this._router.url,this.updateActiveStates()}updateActiveStates(){this.navItems.forEach(e=>{e.isActive=this.currentRoute.includes(e.route)})}announceRouteChange(){let e=this.navItems.find(t=>t.isActive);e&&this.announceForScreenReader(`Navigated to ${e.label}`)}announceForScreenReader(e){let t=document.getElementById("live-region");t&&(t.textContent=e,setTimeout(()=>t.textContent="",1e3))}toggleSidebar(){this.isAnimating||(this.isAnimating=!0,this.isSidebarOpen=!this.isSidebarOpen,this.isSidebarOpen&&this.isMobile?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open"),setTimeout(()=>{this.isAnimating=!1},300),this.announceForScreenReader(`Sidebar ${this.isSidebarOpen?"opened":"closed"}`))}closeSidebar(){this.isSidebarOpen&&(this.isSidebarOpen=!1,document.body.classList.remove("sidebar-open"))}navigateToRoute(e){e.route&&!this.isAnimating&&(this.isAnimating=!0,this._router.navigate([e.route]).then(()=>{this.isMobile&&setTimeout(()=>{this.closeSidebar()},150),setTimeout(()=>{this.isAnimating=!1},300)}).catch(t=>{console.error("Navigation error:",t),this.isAnimating=!1}))}logout(){this.showLogoutConfirmation=!0,this.announceForScreenReader("Logout confirmation dialog opened")}confirmLogout(){this.logoutInProgress=!0,this.announceForScreenReader("Logging out, please wait"),setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),this._router.navigate(["/auth/login"]).then(()=>{this.announceForScreenReader("Logged out successfully"),this.logoutInProgress=!1,this.showLogoutConfirmation=!1})},1e3)}cancelLogout(){this.showLogoutConfirmation=!1,this.announceForScreenReader("Logout cancelled")}onDocumentClick(e){let t=e.target;!document.querySelector(".sidebar")?.contains(t)&&this.isSidebarOpen&&this.isMobile&&this.closeSidebar()}onResize(){this.checkScreenSize()}onKeyDown(e){e.ctrlKey&&e.key==="b"&&(e.preventDefault(),this.toggleSidebar()),e.key==="Escape"&&this.isSidebarOpen&&this.closeSidebar()}getAnimationDelay(e){return`${(e+1)*.1}s`}isRouteActive(e){return this.currentRoute.includes(e)}getTooltipText(e){return e.label}getUserGreeting(){let e=new Date().getHours();return e<12?"Good morning":e<17?"Good afternoon":"Good evening"}manageFocus(){this.isSidebarOpen&&setTimeout(()=>{let e=document.querySelector(".nav-link");e&&e.focus()},100)}getBadgeCount(e){return this.navItems.find(n=>n.id===e)?.badge}updateBadgeCount(e,t){let n=this.navItems.find(o=>o.id===e);n&&(n.badge=t>0?t:void 0)}checkScreenSize(){this.isMobile=window.innerWidth<=768,this.isMobile?(this.isSidebarOpen=!1,this.isMobileMenuOpen=!1,document.body.classList.remove("sidebar-open")):window.innerWidth>1024&&(this.isSidebarOpen=!0)}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen?document.body.classList.add("mobile-menu-open"):document.body.classList.remove("mobile-menu-open")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-nav-main"]],hostBindings:function(t,n){t&1&&v("click",function(d){return n.onDocumentClick(d)},!1,yn)("resize",function(d){return n.onResize(d)},!1,bn)("keydown",function(d){return n.onKeyDown(d)})},standalone:!0,features:[O],decls:21,vars:9,consts:[["id","live-region","aria-live","polite","aria-atomic","true",2,"position","absolute","left","-10000px","width","1px","height","1px","overflow","hidden"],[1,"sidebar"],[1,"sidebar-header"],[1,"logo-container"],["src","../../../assets/imgs/Vector 78.png","alt","PharmaCare Logo","onerror","this.style.display='none'; this.nextElementSibling.style.display='flex';",1,"logo"],[1,"fa-solid","fa-pills","backup-logo",2,"display","none"],[1,"nav-title"],["aria-label","Toggle navigation",1,"toggle-btn",3,"click"],[1,"fa-solid","fa-bars"],[1,"nav-content"],[1,"welcome-section"],[1,"nav-links"],[1,"nav-item",3,"animation-delay"],[1,"logout-container"],["aria-label","Logout",1,"logout-btn",3,"click"],[1,"logout-icon"],[1,"fa-solid","fa-sign-out-alt"],[1,"logout-text"],[1,"sidebar-overlay"],[1,"app-name"],[1,"app-tagline"],[1,"user-avatar"],[1,"avatar-circle"],[1,"fa-solid","fa-user"],[1,"online-indicator"],[1,"welcome-text"],[1,"greeting"],[1,"user-name"],[1,"nav-item"],["role","menuitem","tabindex","0",1,"nav-link",3,"click","keydown.enter","keydown.space"],[1,"nav-icon"],[1,"nav-label"],[1,"active-indicator"],[1,"sidebar-overlay",3,"click"],[1,"logout-dialog-overlay",3,"click"],["role","dialog","aria-labelledby","logout-dialog-title",1,"logout-dialog","bg-dark-subtle"],[1,"logout-dialog-header"],[1,"logout-dialog-icon"],["id","logout-dialog-title",1,"logout-dialog-title"],[1,"logout-dialog-message"],[1,"logout-dialog-actions"],[1,"dialog-btn","dialog-btn-cancel",3,"click","disabled"],[1,"dialog-btn","dialog-btn-confirm","bg-black",3,"click","disabled"],[1,"spinner"]],template:function(t,n){t&1&&(f(0,"div",0),a(1,"nav",1)(2,"div",2)(3,"div",3),f(4,"img",4)(5,"i",5),s(),_(6,Zs,5,0,"div",6),a(7,"button",7),v("click",function(){return n.toggleSidebar()}),f(8,"i",8),s()(),a(9,"div",9),_(10,Xs,10,2,"div",10),a(11,"ul",11),Pt(12,ta,6,10,"li",12,Ks),s(),a(14,"div",13)(15,"button",14),v("click",function(){return n.logout()}),a(16,"div",15),f(17,"i",16),s(),_(18,na,2,0,"span",17),s()()()(),_(19,ia,1,0,"div",18)(20,oa,15,3)),t&2&&(c(),re("open",n.isSidebarOpen),c(5),R(6,n.isSidebarOpen?6:-1),c(),Xe("aria-expanded",n.isSidebarOpen),c(3),R(10,n.isSidebarOpen?10:-1),c(2),wt(n.navItems),c(3),Xe("data-tooltip",n.isSidebarOpen?null:"Logout"),c(3),R(18,n.isSidebarOpen?18:-1),c(),R(19,n.isSidebarOpen&&n.isMobile?19:-1),c(),R(20,n.showLogoutConfirmation?20:-1))},dependencies:[$,$e],styles:['[_ngcontent-%COMP%]:root{--sidebar-width: 280px;--sidebar-collapsed-width: 70px;--primary-color: #6366f1;--primary-hover: #4f46e5;--primary-light: rgba(99, 102, 241, .1);--success-color: #10b981;--danger-color: #ef4444;--warning-color: #f59e0b;--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--text-primary: #f1f5f9;--text-secondary: #cbd5e1;--text-muted: #64748b;--border-color: #334155;--shadow-color: rgba(0, 0, 0, .3);--transition-fast: .2s ease;--transition-normal: .3s ease;--transition-slow: .4s ease}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:var(--sidebar-collapsed-width);background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-right:1px solid var(--border-color);transition:width var(--transition-normal),box-shadow var(--transition-normal);z-index:1000;display:flex;flex-direction:column;overflow:hidden;box-shadow:4px 0 20px var(--shadow-color)}.sidebar.open[_ngcontent-%COMP%]{width:var(--sidebar-width);box-shadow:6px 0 30px var(--shadow-color)}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1rem;display:flex;align-items:center;gap:1rem;border-bottom:1px solid var(--border-color);background:linear-gradient(135deg,var(--primary-color),var(--primary-hover));position:relative;overflow:hidden}.sidebar-header[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);transform:translate(-100%);transition:transform var(--transition-slow)}.sidebar.open[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]:after{transform:translate(100%)}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:45px;height:45px;background:#ffffff1a;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.logo[_ngcontent-%COMP%]{width:36px;height:36px;object-fit:contain;filter:brightness(1.2)}.backup-logo[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.nav-title[_ngcontent-%COMP%]{flex:1;opacity:0;transform:translate(-20px);animation:_ngcontent-%COMP%_slideInFromLeft .3s ease forwards;animation-delay:.1s}.app-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:var(--text-primary);margin:0;line-height:1.2;text-shadow:0 2px 4px rgba(0,0,0,.3)}.app-tagline[_ngcontent-%COMP%]{font-size:.75rem;color:#fffc;margin:0;font-weight:500}.toggle-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-fast);color:var(--text-primary);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1001;position:relative}.toggle-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;transition:transform var(--transition-fast)}.sidebar.open[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(90deg)}.nav-content[_ngcontent-%COMP%]{flex:1;padding:1.5rem 0;overflow-y:auto;overflow-x:hidden}.nav-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.nav-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.nav-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:2px}.welcome-section[_ngcontent-%COMP%]{padding:0 1rem 1.5rem;border-bottom:1px solid var(--border-color);margin-bottom:1.5rem;opacity:0;animation:_ngcontent-%COMP%_fadeInUp .4s ease forwards;animation-delay:.2s}.user-avatar[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.avatar-circle[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,var(--primary-color),var(--primary-hover));border-radius:50%;display:flex;align-items:center;justify-content:center;border:3px solid rgba(255,255,255,.1);position:relative}.avatar-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-primary)}.online-indicator[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;width:12px;height:12px;background:var(--success-color);border-radius:50%;border:2px solid var(--bg-secondary);animation:_ngcontent-%COMP%_pulse 2s infinite}.welcome-text[_ngcontent-%COMP%]{text-align:center}.greeting[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin:0 0 .25rem}.user-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary);margin:0}.nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem;opacity:0;transform:translate(-20px);animation:_ngcontent-%COMP%_slideInFromLeft .3s ease forwards}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.875rem 1rem;margin:0 .5rem;color:var(--text-secondary);text-decoration:none;border-radius:12px;transition:all var(--transition-fast);position:relative;cursor:pointer;border:1px solid transparent;overflow:hidden}.nav-link[_ngcontent-%COMP%]:hover{color:var(--text-primary);transform:translate(5px);border-color:var(--border-color)}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--primary-hover));color:var(--text-primary);box-shadow:0 4px 12px #6366f14d;border-color:var(--primary-color)}.nav-link.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.nav-icon[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:transform var(--transition-fast);flex-shrink:0}.nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.nav-label[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem;white-space:nowrap;opacity:0;transform:translate(-10px);animation:_ngcontent-%COMP%_slideInFromLeft .3s ease forwards;animation-delay:.15s}.active-indicator[_ngcontent-%COMP%]{position:absolute;right:1rem;width:6px;height:6px;background:var(--text-primary);border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid var(--border-color);background:linear-gradient(180deg,transparent,rgba(0,0,0,.1))}.logout-container[_ngcontent-%COMP%]{margin-top:1rem}.logout-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:1rem;padding:.875rem;background:linear-gradient(135deg,var(--danger-color),#dc2626);color:var(--text-primary);border:none;border-radius:12px;cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;font-weight:500;position:relative;overflow:hidden}.logout-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ef444466}.logout-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.logout-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.logout-text[_ngcontent-%COMP%]{opacity:0;transform:translate(-10px);animation:_ngcontent-%COMP%_slideInFromLeft .3s ease forwards;animation-delay:.2s}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:999;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .3s ease}.logout-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg-secondary);border-radius:16px;padding:1.5rem;width:90%;max-width:400px;box-shadow:0 10px 30px #0000004d;z-index:1100;border:1px solid var(--border-color);animation:_ngcontent-%COMP%_fadeInUp .3s ease}.logout-dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:1099;animation:_ngcontent-%COMP%_fadeIn .3s ease}.logout-dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.logout-dialog-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#ef444433;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.logout-dialog-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--danger-color);font-size:1.2rem}.logout-dialog-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:var(--text-primary);margin:0}.logout-dialog-message[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:1.5rem;line-height:1.5}.logout-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.dialog-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;cursor:pointer;transition:all var(--transition-fast);border:none;font-size:.9rem}.dialog-btn-cancel[_ngcontent-%COMP%]{background:var(--bg-tertiary);color:var(--text-primary)}.dialog-btn-cancel[_ngcontent-%COMP%]:hover{background:var(--border-color)}.dialog-btn-confirm[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.dialog-btn-confirm[_ngcontent-%COMP%]:hover{background:#dc2626;box-shadow:0 4px 12px #ef44444d;transition:all .5s}.dialog-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;display:inline-block;vertical-align:middle;margin-right:8px}@keyframes _ngcontent-%COMP%_slideInFromLeft{to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:0;transform:translate(-100%);transition:all var(--transition-normal)}.sidebar.open[_ngcontent-%COMP%]{width:var(--sidebar-width);transform:translate(0)}}@media (max-width: 480px){.sidebar.open[_ngcontent-%COMP%]{width:100vw}.nav-title[_ngcontent-%COMP%]{margin-right:1rem}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:70px;transform:none}.sidebar.open[_ngcontent-%COMP%]{width:var(--sidebar-width)}.toggle-btn[_ngcontent-%COMP%]{display:block!important}}']})}}return i})();var co=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-home"]],standalone:!0,features:[O],decls:2,vars:0,template:function(t,n){t&1&&(a(0,"p"),l(1,"home works!"),s())}})}}return i})();var po=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-main"]],standalone:!0,features:[O],decls:2,vars:0,template:function(t,n){t&1&&f(0,"app-nav-main")(1,"router-outlet")},dependencies:[lo,Ut]})}}return i})();var mo=(()=>{class i{constructor(e,t){this.router=e,this.location=t}goBack(){window.history.length>1?this.location.back():this.router.navigate(["/"])}goHome(){this.router.navigate(["/"])}goToProducts(){this.router.navigate(["/main/AllProducts"])}static{this.\u0275fac=function(t){return new(t||i)(y(B),y(On))}}static{this.\u0275cmp=M({type:i,selectors:[["app-not-found"]],standalone:!0,features:[O],decls:32,vars:0,consts:[[1,"not-found-container"],[1,"not-found-content"],[1,"pharmacy-icon"],["width","120","height","120","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19 8H16V5C16 3.9 15.1 3 14 3H10C8.9 3 8 3.9 8 5V8H5C3.9 8 3 8.9 3 10V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V10C21 8.9 20.1 8 19 8ZM10 5H14V8H10V5ZM17 16H13V20H11V16H7V14H11V10H13V14H17V16Z","fill","currentColor"],[1,"error-code"],[1,"four"],[1,"zero"],[1,"main-title"],[1,"subtitle"],[1,"help-message"],[1,"action-buttons"],[1,"btn","btn-primary",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z","fill","currentColor"],[1,"btn","btn-secondary",3,"click"],["d","M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z","fill","currentColor"],[1,"btn","btn-outline",3,"click"],["d","M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z","fill","currentColor"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),Xt(),a(3,"svg",3),f(4,"path",4),s()(),vn(),a(5,"div",5)(6,"span",6),l(7,"4"),s(),a(8,"span",7),l(9,"0"),s(),a(10,"span",6),l(11,"4"),s()(),a(12,"h1",8),l(13,"Page Not Found"),s(),a(14,"p",9),l(15," The medication or page you're looking for seems to have been moved or doesn't exist. "),s(),a(16,"div",10)(17,"p"),l(18,"Don't worry! Let us help you find what you need:"),s()(),a(19,"div",11)(20,"button",12),v("click",function(){return n.goHome()}),Xt(),a(21,"svg",13),f(22,"path",14),s(),l(23," Go Home "),s(),vn(),a(24,"button",15),v("click",function(){return n.goToProducts()}),Xt(),a(25,"svg",13),f(26,"path",16),s(),l(27," Browse Products "),s(),vn(),a(28,"button",17),v("click",function(){return n.goBack()}),Xt(),a(29,"svg",13),f(30,"path",18),s(),l(31," Go Back "),s()()()())},dependencies:[$],styles:[".not-found-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f8f9ff,#e8f2ff);padding:2rem 1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.not-found-content[_ngcontent-%COMP%]{text-align:center;max-width:600px;background:#fff;padding:3rem 2rem;border-radius:20px;box-shadow:0 20px 60px #0000001a;border:1px solid rgba(59,130,246,.1)}.pharmacy-icon[_ngcontent-%COMP%]{margin-bottom:2rem;color:#3b82f6;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.error-code[_ngcontent-%COMP%]{font-size:8rem;font-weight:900;margin-bottom:1rem;letter-spacing:-.5rem;line-height:1}.error-code[_ngcontent-%COMP%]   .four[_ngcontent-%COMP%]{color:#3b82f6;text-shadow:0 5px 15px rgba(59,130,246,.3)}.error-code[_ngcontent-%COMP%]   .zero[_ngcontent-%COMP%]{color:#10b981;text-shadow:0 5px 15px rgba(16,185,129,.3);display:inline-block;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.main-title[_ngcontent-%COMP%]{font-size:2.5rem;color:#1f2937;margin-bottom:1rem;font-weight:700}.subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#6b7280;margin-bottom:2rem;line-height:1.6}.help-message[_ngcontent-%COMP%]{margin-bottom:2rem}.help-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#374151;font-weight:500}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-bottom:3rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border-radius:10px;font-weight:600;font-size:1rem;text-decoration:none;border:none;cursor:pointer;transition:all .3s ease;min-width:140px;justify-content:center}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;box-shadow:0 4px 15px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #3b82f666}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 15px #10b9814d}.btn-secondary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #10b98166}.btn-outline[_ngcontent-%COMP%]{background:#fff;color:#6b7280;border:2px solid #e5e7eb}.btn-outline[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db;transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}.contact-info[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#f0f9ff;border-radius:10px;border-left:4px solid #3b82f6}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#374151;font-size:1rem}.contact-link[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-weight:600;border-bottom:1px solid transparent;transition:border-color .3s ease}.contact-link[_ngcontent-%COMP%]:hover{border-bottom-color:#3b82f6}.additional-help[_ngcontent-%COMP%]{background:#f8fafc;padding:2rem;border-radius:10px;margin-top:2rem}.additional-help[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;font-size:1.3rem;margin-bottom:1rem;font-weight:600}.help-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.5rem}.help-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.75rem 1rem;color:#3b82f6;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.help-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#dbeafe;transform:translate(5px)}@media (max-width: 768px){.not-found-content[_ngcontent-%COMP%]{padding:2rem 1rem;margin:1rem}.error-code[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:-.25rem}.main-title[_ngcontent-%COMP%]{font-size:2rem}.subtitle[_ngcontent-%COMP%]{font-size:1rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:300px}.help-links[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.not-found-container[_ngcontent-%COMP%]{padding:1rem .5rem}.error-code[_ngcontent-%COMP%]{font-size:4rem}.main-title[_ngcontent-%COMP%]{font-size:1.75rem}}"]})}}return i})();var uo=(i,r)=>({"is-valid":i,"is-invalid":r}),sa=(i,r)=>({"alert-danger":i,"alert-success":r});function aa(i,r){i&1&&(a(0,"p",16),l(1,"Email is Required"),s())}function la(i,r){i&1&&(a(0,"p",16),l(1,"Email format is not correct"),s())}function ca(i,r){if(i&1&&(a(0,"div",6),_(1,aa,2,0,"p",16)(2,la,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.loginForm.get("email"))!=null&&e.getError("required")?1:(e=t.loginForm.get("email"))!=null&&e.getError("email")?2:-1)}}function da(i,r){i&1&&(a(0,"p",16),l(1,"password is Required"),s())}function pa(i,r){i&1&&(a(0,"p",16),l(1," Password must be at least 8 characters, least 1 lowercase letters, 1 uppercase letters, 2 numbers, and 1 special character "),s())}function ma(i,r){if(i&1&&(a(0,"div",6),_(1,da,2,0,"p",16)(2,pa,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.loginForm.get("password"))!=null&&e.getError("required")?1:(e=t.loginForm.get("password"))!=null&&e.getError("pattern")?2:-1)}}function ua(i,r){if(i&1&&(a(0,"p",11),l(1),s()),i&2){let e=h();u("ngClass",oe(2,sa,e.errorOrSuccess=="error",e.errorOrSuccess=="success")),c(),S(" ",e.responseMssg," ")}}function ga(i,r){i&1&&(a(0,"span"),f(1,"i",17),s())}var go=(()=>{class i{constructor(e,t,n){this._FormBuilder=e,this._AuthService=t,this._Router=n,this.loading=!1,this.submitted=!1,this.loginForm=this._FormBuilder.group({email:[null,[D.required,D.email]],password:[null,[D.required,D.pattern(/^(?=(.*[a-z]){1,})(?=(.*[A-Z]){1,})(?=(.*[0-9]){1,})(?=(.*[!@#$%^&*()\-__+.]){1,}).{8,}$/)]]})}loginUser(){this.loginForm.valid?(this.loading=!0,console.log(this.loginForm),this.loginSub=this._AuthService.loginUser(this.loginForm.value).subscribe({next:e=>{console.log(e.displayName),console.log(e.token),sessionStorage.setItem("token",e.token),sessionStorage.setItem("displayName",e.displayName),sessionStorage.setItem("email",e.email),this._AuthService.saveDecodedInfo(),this.responseMssg=e.message,this.errorOrSuccess="success",this.loading=!1,this.intervalId=setInterval(()=>{this._Router.navigate(["/main/AllProducts"])},2e3)},error:e=>{this.errorOrSuccess="error",this.responseMssg=e.error.message,this.loading=!1}})):this.loginForm.markAllAsTouched()}submit(){this._Router.navigate(["/main/AllProducts"])}ngOnDestroy(){this.loginSub?.unsubscribe(),clearInterval(this.intervalId)}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(Je),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-login"]],standalone:!0,features:[O],decls:26,vars:14,consts:[[1,"header"],[1,"registration"],[1,"font"],[3,"ngSubmit","formGroup"],[1,"my-2"],["formControlName","email","type","email","id","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","my-2","p-2","fs-6","fw-bold","rounded-2"],["formControlName","password","type","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"my-4"],[1,"text-main","fw-bold"],["routerLink","/auth/forgetPassword",1,"text-secondary","fw-bold","text-decoration-underline"],[1,"alert","p-2","text-center","rounded","w-50","mx-auto",3,"ngClass"],["type","submit",1,"btn-main","ms-auto","d-block",3,"disabled"],[1,"d-flex","justify-content-center","my-3"],[1,"d-flex","justify-content-center"],["routerLink","/auth/register",1,"btn-main","ms-auto","d-block"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(t,n){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Welcome Back!"),s(),a(4,"form",3),v("ngSubmit",function(){return n.loginUser()}),a(5,"div",4),f(6,"input",5),_(7,ca,3,1,"div",6),s(),a(8,"div",4),f(9,"input",7),_(10,ma,3,1,"div",6),s(),a(11,"div",8)(12,"span",9),l(13,"Forget Password? "),s(),a(14,"a",10),l(15,"Reset Password"),s()(),_(16,ua,2,5,"p",11),a(17,"button",12),l(18," Log In "),_(19,ga,2,0,"span"),s()(),a(20,"div",13)(21,"span"),l(22,"Or"),s()(),a(23,"div",14)(24,"button",15),l(25," Sign Up "),s()()()()),t&2){let o,d,p,m;c(4),u("formGroup",n.loginForm),c(2),u("ngClass",oe(8,uo,!((o=n.loginForm.get("email"))!=null&&o.errors)&&(((o=n.loginForm.get("email"))==null?null:o.touched)||((o=n.loginForm.get("email"))==null?null:o.dirty)),((o=n.loginForm.get("email"))==null?null:o.errors)&&(((o=n.loginForm.get("email"))==null?null:o.touched)||((o=n.loginForm.get("email"))==null?null:o.dirty)))),c(),R(7,(d=n.loginForm.get("email"))!=null&&d.errors&&((d=n.loginForm.get("email"))!=null&&d.touched)?7:-1),c(2),u("ngClass",oe(11,uo,!((p=n.loginForm.get("password"))!=null&&p.errors)&&(((p=n.loginForm.get("password"))==null?null:p.touched)||((p=n.loginForm.get("password"))==null?null:p.dirty)),((p=n.loginForm.get("password"))==null?null:p.errors)&&(((p=n.loginForm.get("password"))==null?null:p.touched)||((p=n.loginForm.get("password"))==null?null:p.dirty)))),c(),R(10,(m=n.loginForm.get("password"))!=null&&m.errors&&((m=n.loginForm.get("password"))!=null&&m.touched)?10:-1),c(6),R(16,n.responseMssg?16:-1),c(),u("disabled",n.loginForm.invalid),c(2),R(19,n.loading?19:-1)}},dependencies:[he,fe,ae,le,ge,Se,Pe,ve,Ce,gt,$],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}.header[_ngcontent-%COMP%]{background:#000c url("./media/login-FSDU2RC7.jpg") no-repeat;min-height:100vh;background-position:center center;background-size:cover;display:flex;justify-content:center;align-items:center}.registration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;text-align:center;margin-left:15px;font-family:var(--main-font);color:var(--main-color)}.registration[_ngcontent-%COMP%]{background-color:#fff;width:100%;max-width:400px;padding:25px;border-radius:15px;box-shadow:0 4px 8px #0000001a}.container[_ngcontent-%COMP%]{position:relative}h2[_ngcontent-%COMP%]{margin-bottom:15px;font-size:30px;font-weight:700;color:#365fda;text-align:center}p.size[_ngcontent-%COMP%]{font-size:15px;color:#787979;text-align:center}input.form-control[_ngcontent-%COMP%]{border-radius:20px;padding:10px 40px 10px 10px;margin-bottom:15px;border:1px solid rgb(211,206,206)}.icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:88%;transform:translateY(-50%);font-size:18px}button[_ngcontent-%COMP%]{border-radius:20px;width:100%;padding:10px;font-weight:700;color:#f0f8ff;border:none}.color[_ngcontent-%COMP%]{background-color:#6d89e7}.sizing[_ngcontent-%COMP%]{margin-top:20px;text-align:center}@media (max-width: 768px){.registration[_ngcontent-%COMP%]{width:80%;padding:20px}.header[_ngcontent-%COMP%]{height:auto;padding:20px;height:100vh}.icon[_ngcontent-%COMP%]{left:86%}}.siz[_ngcontent-%COMP%]{margin-top:3%}a[_ngcontent-%COMP%]{text-decoration:none;color:#365fda}.icon-input[_ngcontent-%COMP%]{position:absolute;top:50%;right:15px;transform:translateY(-50%);pointer-events:none;color:#2a2a46;font-size:15px}.layer[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000034;z-index:1000000}']})}}return i})();var fo=(()=>{class i{constructor(e){this._HttpClient=e}register(e){return this._HttpClient.post(`${ne.baseUrl}/api/Accounts/Register`,e)}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Dn=(i,r)=>({"is-valid":i,"is-invalid":r}),ha=(i,r)=>({"alert-danger":i,"alert-success":r});function _a(i,r){i&1&&(a(0,"p",15),l(1,"Name is Required"),s())}function va(i,r){i&1&&(a(0,"p",15),l(1,"Name length must be at least 3"),s())}function xa(i,r){i&1&&(a(0,"p",15),l(1,"Name length must be maximum 15 "),s())}function ba(i,r){i&1&&(a(0,"p",15),l(1,"Username must start with a letter and can contain letters, numbers, or _"),s())}function ya(i,r){if(i&1&&(a(0,"div",6),_(1,_a,2,0,"p",15)(2,va,2,0)(3,xa,2,0)(4,ba,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.registerForm.get("name"))!=null&&e.getError("required")?1:(e=t.registerForm.get("name"))!=null&&e.getError("minlength")?2:(e=t.registerForm.get("name"))!=null&&e.getError("maxlength")?3:(e=t.registerForm.get("name"))!=null&&e.getError("pattern")?4:-1)}}function Ca(i,r){i&1&&(a(0,"p",15),l(1,"Email is Required"),s())}function Sa(i,r){i&1&&(a(0,"p",15),l(1,"Email format is not correct "),s())}function Pa(i,r){if(i&1&&(a(0,"div",6),_(1,Ca,2,0,"p",15)(2,Sa,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.registerForm.get("email"))!=null&&e.getError("required")?1:(e=t.registerForm.get("email"))!=null&&e.getError("email")?2:-1)}}function wa(i,r){i&1&&(a(0,"p",15),l(1,"password is Required"),s())}function Ma(i,r){i&1&&(a(0,"p",15),l(1,"Password must be at least 8 characters, least 1 lowercase letters, 1 uppercase letters, 2 numbers, and 1 special character"),s())}function Oa(i,r){if(i&1&&(a(0,"div",6),_(1,wa,2,0,"p",15)(2,Ma,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.registerForm.get("password"))!=null&&e.getError("required")?1:(e=t.registerForm.get("password"))!=null&&e.getError("pattern")?2:-1)}}function Ea(i,r){i&1&&(a(0,"div",6)(1,"p",15),l(2,"Confirm password is not match"),s()())}function Ta(i,r){if(i&1&&(a(0,"p",10),l(1),s()),i&2){let e=h();u("ngClass",oe(2,ha,e.errorOrSuccess=="error",e.errorOrSuccess=="success")),c(),S(" ",e.responseMssg,"")}}function ka(i,r){i&1&&(a(0,"span"),f(1,"i",16),s())}var ho=(()=>{class i{constructor(e,t){this._AuthService=e,this._Router=t,this.loading=!1,this.passwordVisible=!1,this.confirmPasswordVisible=!1,this.registerForm=new eo({name:new en(null,[D.required,D.minLength(3),D.maxLength(15),D.pattern(/^[A-Za-z][A-Za-z0-9_]{2,14}$/)]),email:new en(null,[D.required,D.email]),password:new en(null,[D.required,D.pattern(/^(?=(.*[a-z]){1,})(?=(.*[A-Z]){1,})(?=(.*[0-9]){1,})(?=(.*[!@#$%^&*()\-__+.]){1,}).{8,}$/)]),confirmPassword:new en(null,[D.required,D.pattern(/^(?=(.*[a-z]){1,})(?=(.*[A-Z]){1,})(?=(.*[0-9]){1,})(?=(.*[!@#$%^&*()\-__+.]){1,}).{8,}$/)])},this.confirmPass)}get isPasswordFilled(){return!!this.registerForm.get("password")?.value}confirmPass(e){return e.get("password")?.value===e.get("confirmPassword")?.value?null:{missMatch:!0}}submit(){this.registerForm.valid?(console.log(this.registerForm),this.loading=!0,this.registerSub=this._AuthService.register(this.registerForm.value).subscribe({next:e=>{console.log(e),this.responseMssg=e.message,this.loading=!1,this.errorOrSuccess="success",sessionStorage.setItem("username",this.registerForm.value.name),this.intervalId=setInterval(()=>{this._Router.navigate(["/auth/CodeVerfication"],{queryParams:{email:this.registerForm.value.email}})},2e3)},error:e=>{console.log(e),this.responseMssg=e.error.message,this.loading=!1,this.errorOrSuccess="error"},complete:()=>{}})):(this.registerForm.setErrors({missMatch:!0}),this.registerForm.markAllAsTouched())}ngOnDestroy(){this.registerSub?.unsubscribe(),clearInterval(this.intervalId)}static{this.\u0275fac=function(t){return new(t||i)(y(fo),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-register"]],standalone:!0,features:[O],decls:27,vars:24,consts:[[1,"header","mt-5"],[1,"registration","mt-4"],[1,"font"],[3,"ngSubmit","formGroup"],[1,"my-2"],["formControlName","name","type","text","id","name","placeholder","Username",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","my-2","p-2","fs-6","fw-bold","rounded-2"],["formControlName","email","type","email","id","email","placeholder","Email",1,"form-control",3,"ngClass"],["formControlName","password","type","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],["formControlName","confirmPassword","type","password","id","confirmPassword","placeholder","Re-password",1,"form-control",3,"ngClass"],[1,"alert","p-2","text-center","rounded","w-50","mx-auto",3,"ngClass"],["type","submit",1,"btn-main","ms-auto","d-block",3,"disabled"],[1,"d-flex","justify-content-center","my-3"],[1,"d-flex","justify-content-center"],["routerLink","/auth/login",1,"btn-main","ms-auto","d-block"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(t,n){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Sign Up"),s(),a(4,"form",3),v("ngSubmit",function(){return n.submit()}),a(5,"div",4),f(6,"input",5),_(7,ya,5,1,"div",6),s(),a(8,"div",4),f(9,"input",7),_(10,Pa,3,1,"div",6),s(),a(11,"div",4),f(12,"input",8),_(13,Oa,3,1,"div",6),s(),a(14,"div",4),f(15,"input",9),_(16,Ea,3,0,"div",6),s(),_(17,Ta,2,5,"p",10),a(18,"button",11),l(19,"Register "),_(20,ka,2,0,"span"),s()(),a(21,"div",12)(22,"span"),l(23,"Or"),s()(),a(24,"div",13)(25,"button",14),l(26,"Login"),s()()()()),t&2){let o,d,p,m,g,x,b,F;c(4),u("formGroup",n.registerForm),c(2),u("ngClass",oe(12,Dn,!((o=n.registerForm.get("name"))!=null&&o.errors)&&(((o=n.registerForm.get("name"))==null?null:o.touched)||((o=n.registerForm.get("name"))==null?null:o.dirty)),((o=n.registerForm.get("name"))==null?null:o.errors)&&(((o=n.registerForm.get("name"))==null?null:o.touched)||((o=n.registerForm.get("name"))==null?null:o.dirty)))),c(),R(7,(d=n.registerForm.get("name"))!=null&&d.errors&&((d=n.registerForm.get("name"))!=null&&d.touched)?7:-1),c(2),u("ngClass",oe(15,Dn,!((p=n.registerForm.get("email"))!=null&&p.errors)&&(((p=n.registerForm.get("email"))==null?null:p.touched)||((p=n.registerForm.get("email"))==null?null:p.dirty)),((p=n.registerForm.get("email"))==null?null:p.errors)&&(((p=n.registerForm.get("email"))==null?null:p.touched)||((p=n.registerForm.get("email"))==null?null:p.dirty)))),c(),R(10,(m=n.registerForm.get("email"))!=null&&m.errors&&((m=n.registerForm.get("email"))!=null&&m.touched)?10:-1),c(2),u("ngClass",oe(18,Dn,!((g=n.registerForm.get("password"))!=null&&g.errors)&&(((g=n.registerForm.get("password"))==null?null:g.touched)||((g=n.registerForm.get("password"))==null?null:g.dirty)),((g=n.registerForm.get("password"))==null?null:g.errors)&&(((g=n.registerForm.get("password"))==null?null:g.touched)||((g=n.registerForm.get("password"))==null?null:g.dirty)))),c(),R(13,(x=n.registerForm.get("password"))!=null&&x.errors&&((x=n.registerForm.get("password"))!=null&&x.touched)?13:-1),c(2),u("ngClass",oe(21,Dn,!n.registerForm.getError("missMatch")&&(((b=n.registerForm.get("confirmPassword"))==null?null:b.touched)||((b=n.registerForm.get("confirmPassword"))==null?null:b.dirty)),n.registerForm.getError("missMatch")&&(((b=n.registerForm.get("confirmPassword"))==null?null:b.touched)||((b=n.registerForm.get("confirmPassword"))==null?null:b.dirty)))),c(),R(16,n.registerForm.getError("missMatch")&&((F=n.registerForm.get("confirmPassword"))!=null&&F.touched)?16:-1),c(),R(17,n.responseMssg?17:-1),c(),u("disabled",n.registerForm.invalid),c(2),R(20,n.loading?20:-1)}},dependencies:[he,fe,ae,le,ge,Se,Pe,ve,Ce],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}.header[_ngcontent-%COMP%]{background:#000curl("./media/login-FSDU2RC7.jpg")no-repeat;min-height:100vh;background-position:center center;background-size:cover;display:flex;justify-content:center;align-items:center}.registration[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;text-align:center;margin-left:15px;font-family:var(--main-font);color:var(--main-color)}.registration[_ngcontent-%COMP%]{background-color:#fff;width:100%;max-width:400px;padding:25px;border-radius:15px;box-shadow:0 4px 8px #0000001a}.container[_ngcontent-%COMP%]{position:relative}h2[_ngcontent-%COMP%]{margin-bottom:15px;font-size:30px;font-weight:700;color:#365fda;text-align:center}p.size[_ngcontent-%COMP%]{font-size:15px;color:#787979;text-align:center}input.form-control[_ngcontent-%COMP%]{border-radius:20px;padding:10px 40px 10px 10px;margin-bottom:15px;border:1px solid rgb(211,206,206)}.icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:88%;transform:translateY(-50%);font-size:18px}button[_ngcontent-%COMP%]{border-radius:20px;width:100%;padding:10px;font-weight:700;color:#f0f8ff;border:none}.color[_ngcontent-%COMP%]{background-color:#6d89e7}.sizing[_ngcontent-%COMP%]{margin-top:20px;text-align:center}@media (max-width: 768px){.registration[_ngcontent-%COMP%]{width:80%;padding:20px}.header[_ngcontent-%COMP%]{height:auto;padding:20px;height:100vh}.icon[_ngcontent-%COMP%]{left:86%}}.siz[_ngcontent-%COMP%]{margin-top:3%}a[_ngcontent-%COMP%]{text-decoration:none;color:#365fda}.icon-input[_ngcontent-%COMP%]{position:absolute;top:50%;right:15px;transform:translateY(-50%);pointer-events:none;color:#2a2a46;font-size:15px}']})}}return i})();function pi(){return pi=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}return i},pi.apply(this,arguments)}var Ia={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(i){},onComplete:function(i){},preStringTyped:function(i,r){},onStringTyped:function(i,r){},onLastStringBackspaced:function(i){},onTypingPaused:function(i,r){},onTypingResumed:function(i,r){},onReset:function(i){},onStop:function(i,r){},onStart:function(i,r){},onDestroy:function(i){}},Da=new(function(){function i(){}var r=i.prototype;return r.load=function(e,t,n){if(e.el=typeof n=="string"?document.querySelector(n):n,e.options=pi({},Ia,t),e.isInput=e.el.tagName.toLowerCase()==="input",e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map(function(g){return g.trim()}),e.stringsElement=typeof e.options.stringsElement=="string"?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var o=Array.prototype.slice.apply(e.stringsElement.children),d=o.length;if(d)for(var p=0;p<d;p+=1)e.strings.push(o[p].innerHTML.trim())}for(var m in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[m]=m;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},r.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:e.contentType==="html"?e.el.innerHTML:e.el.textContent},r.appendCursorAnimationCss=function(e){var t="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.setAttribute(t,"true"),n.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(n)}},r.appendFadeOutAnimationCss=function(e){var t="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.setAttribute(t,"true"),n.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(n)}},i}()),_o=new(function(){function i(){}var r=i.prototype;return r.typeHtmlChars=function(e,t,n){if(n.contentType!=="html")return t;var o=e.substring(t).charAt(0);if(o==="<"||o==="&"){var d;for(d=o==="<"?">":";";e.substring(t+1).charAt(0)!==d&&!(1+ ++t>e.length););t++}return t},r.backSpaceHtmlChars=function(e,t,n){if(n.contentType!=="html")return t;var o=e.substring(t).charAt(0);if(o===">"||o===";"){var d;for(d=o===">"?"<":"&";e.substring(t-1).charAt(0)!==d&&!(--t<0););t--}return t},i}()),vo=function(){function i(e,t){Da.load(this,t,e),this.begin()}var r=i.prototype;return r.toggle=function(){this.pause.status?this.start():this.stop()},r.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},r.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},r.destroy=function(){this.reset(!1),this.options.onDestroy(this)},r.reset=function(e){e===void 0&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},r.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){e.strPos===0?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)},this.startDelay)},r.typewrite=function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var o=this.humanizer(this.typeSpeed),d=1;this.pause.status!==!0?this.timeout=setTimeout(function(){t=_o.typeHtmlChars(e,t,n);var p=0,m=e.substring(t);if(m.charAt(0)==="^"&&/^\^\d+/.test(m)){var g=1;g+=(m=/\d+/.exec(m)[0]).length,p=parseInt(m),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+g),n.toggleBlinking(!0)}if(m.charAt(0)==="`"){for(;e.substring(t+d).charAt(0)!=="`"&&(d++,!(t+d>e.length)););var x=e.substring(0,t),b=e.substring(x.length+1,t+d),F=e.substring(t+d+1);e=x+b+F,d--}n.timeout=setTimeout(function(){n.toggleBlinking(!1),t>=e.length?n.doneTyping(e,t):n.keepTyping(e,t,d),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))},p)},o):this.setPauseStatus(e,t,!0)},r.keepTyping=function(e,t,n){t===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var o=e.substring(0,t+=n);this.replaceText(o),this.typewrite(e,t)},r.doneTyping=function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){n.backspace(e,t)},this.backDelay))},r.backspace=function(e,t){var n=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var o=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){t=_o.backSpaceHtmlChars(e,t,n);var d=e.substring(0,t);if(n.replaceText(d),n.smartBackspace){var p=n.strings[n.arrayPos+1];n.stopNum=p&&d===p.substring(0,t)?t:0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))},o)}else this.setPauseStatus(e,t,!1)},r.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},r.setPauseStatus=function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t},r.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},r.humanizer=function(e){return Math.round(Math.random()*e/2)+e},r.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},r.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)},this.fadeOutDelay)},r.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:this.contentType==="html"?this.el.innerHTML=e:this.el.textContent=e},r.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",function(t){e.stop()}),this.el.addEventListener("blur",function(t){e.el.value&&e.el.value.length!==0||e.start()}))},r.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},i}();var xo=(()=>{class i{ngAfterViewInit(){let e={strings:["To Your Health.","PharmAssist."],typeSpeed:70,backSpeed:50,backDelay:1500,startDelay:500,loop:!0,showCursor:!0,cursorChar:"|"};new vo("#typed-text",e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-firstpage"]],standalone:!0,features:[O],decls:45,vars:0,consts:[[1,"vh-100"],[1,"d-flex","justify-content-center","align-items-center","myvh","position-relative"],[1,"col-2"],["src","../../../assets/imgs/image-removebg-preview (2).png","alt","",1,"overflow-image"],[1,"col-8","d-flex","justify-content-center","align-items-center","flex-column","text-center"],[1,"fw-bolder","text-main","display-2","secondFont","color-gradient"],["id","typed-text"],[1,"mt-3","textmax","darkblue","fw-bold"],["src","../../../assets/imgs/image-removebg-preview (3).png","alt","",1,"overflow-image2"],[1,"features-section"],[1,"text-main"],[1,"row","features-grid"],[1,"col-lg-3","col-md-6","col-sm-12","feature-card","d-flex","justify-content-center","align-items-center","flex-column"],[1,"feature-icon"],[1,"fas","fa-mobile-alt"],[1,"feature-title"],[1,"feature-text"],[1,"fas","fa-user-md"],[1,"fas","fa-file-medical"],[1,"fas","fa-headset"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2),f(3,"img",3),s(),a(4,"div",4)(5,"h1",5),f(6,"span",6),s(),a(7,"h5",7),l(8," Our licensed pharmacists are available to answer any questions you may have about your medications and offer expert advice on managing your health."),s()(),a(9,"div",2),f(10,"img",8),s()()(),a(11,"section",9)(12,"h5",10),l(13,"Medical Checkup"),s(),a(14,"h2"),l(15,"Why Choose PharmAssist For Your Healthcare?"),s(),a(16,"div",11)(17,"div",12)(18,"div",13),f(19,"i",14),s(),a(20,"div",15),l(21,"Our Journey"),s(),a(22,"div",16),l(23,"Delivering on our promise toward innovative science and healthcare"),s()(),a(24,"div",12)(25,"div",13),f(26,"i",17),s(),a(27,"div",15),l(28,"Quality"),s(),a(29,"div",16),l(30,"Our vision is to globalize, harmonize and simplify GxP processes to achieve sustainable"),s()(),a(31,"div",12)(32,"div",13),f(33,"i",18),s(),a(34,"div",15),l(35,"Medical Record"),s(),a(36,"div",16),l(37,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."),s()(),a(38,"div",12)(39,"div",13),f(40,"i",19),s(),a(41,"div",15),l(42,"ChatBot"),s(),a(43,"div",16),l(44,"ChatBot to recommed the suitable medicine and price for you."),s()()()())},styles:['section[_ngcontent-%COMP%]{margin-top:60px;min-height:100vh;background-image:url("./media/background-2W44ZNAM.png");background-size:cover}.textmax[_ngcontent-%COMP%]{max-width:700px}.myvh[_ngcontent-%COMP%]{height:100vh}.overflow-image[_ngcontent-%COMP%]{position:absolute;right:70px;top:400px;width:370px;z-index:2;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%{top:80px}50%{top:30px}to{top:80px}}.overflow-image2[_ngcontent-%COMP%]{position:absolute;left:240px;transform:translate(-50%);bottom:20%;width:260px;z-index:1;animation:_ngcontent-%COMP%_float2 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float2{0%{bottom:40px}50%{bottom:20px}to{bottom:40px}}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;background:#fff;color:#333}.features-section[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.features-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#79a7c4;font-weight:600;margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2a5d78;margin-bottom:40px}.features-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.feature-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #d8ecf4;border-radius:15px;padding:30px 20px;width:220px;box-shadow:0 4px 12px #0000000d;transition:.3s ease}.feature-card[_ngcontent-%COMP%]:hover{border-color:#35a6e1;transform:translateY(-5px)}.feature-icon[_ngcontent-%COMP%]{background:#e6f6fd;color:#35a6e1;font-size:24px;padding:15px;width:60px;height:60px;border-radius:50%;margin-bottom:15px}.feature-title[_ngcontent-%COMP%]{font-weight:600;color:#2a5d78;margin-bottom:10px}.feature-text[_ngcontent-%COMP%]{font-size:14px;color:#777}@media (max-width: 1200px){.overflow-image[_ngcontent-%COMP%]{width:200px;right:20px;top:200px}.overflow-image2[_ngcontent-%COMP%]{width:160px;left:60px}}']})}}return i})();var V=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(V||{}),et="*";function Wt(i,r){return{type:V.Trigger,name:i,definitions:r,options:{}}}function ot(i,r=null){return{type:V.Animate,styles:r,timings:i}}function bo(i,r=null){return{type:V.Sequence,steps:i,options:r}}function Fe(i){return{type:V.Style,styles:i,offset:null}}function st(i,r,e){return{type:V.State,name:i,styles:r,options:e}}function at(i,r,e=null){return{type:V.Transition,expr:i,animation:r,options:e}}var ft=class{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){let e=r=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},tn=class{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,t=0,n=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==o&&this._onFinish()}),d.onDestroy(()=>{++t==o&&this._onDestroy()}),d.onStart(()=>{++n==o&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){let e=r*this.totalTime;this.players.forEach(t=>{let n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let r=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return r!=null?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){let e=r=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},An="!";var yo=["toast-component",""];function Fa(i,r){if(i&1){let e=T();a(0,"button",5),v("click",function(){P(e);let n=h();return w(n.remove())}),a(1,"span",6),l(2,"\xD7"),s()()}}function Na(i,r){if(i&1&&(Vt(0),l(1),jt()),i&2){let e=h(2);c(),S("[",e.duplicatesCount+1,"]")}}function Ra(i,r){if(i&1&&(a(0,"div"),l(1),_(2,Na,2,1,"ng-container",4),s()),i&2){let e=h();se(e.options.titleClass),Xe("aria-label",e.title),c(),S(" ",e.title," "),c(),u("ngIf",e.duplicatesCount)}}function za(i,r){if(i&1&&f(0,"div",7),i&2){let e=h();se(e.options.messageClass),u("innerHTML",e.message,Ue)}}function La(i,r){if(i&1&&(a(0,"div",8),l(1),s()),i&2){let e=h();se(e.options.messageClass),Xe("aria-label",e.message),c(),S(" ",e.message," ")}}function Va(i,r){if(i&1&&(a(0,"div"),f(1,"div",9),s()),i&2){let e=h();c(),Oe("width",e.width+"%")}}function ja(i,r){if(i&1){let e=T();a(0,"button",5),v("click",function(){P(e);let n=h();return w(n.remove())}),a(1,"span",6),l(2,"\xD7"),s()()}}function Ba(i,r){if(i&1&&(Vt(0),l(1),jt()),i&2){let e=h(2);c(),S("[",e.duplicatesCount+1,"]")}}function Ha(i,r){if(i&1&&(a(0,"div"),l(1),_(2,Ba,2,1,"ng-container",4),s()),i&2){let e=h();se(e.options.titleClass),Xe("aria-label",e.title),c(),S(" ",e.title," "),c(),u("ngIf",e.duplicatesCount)}}function $a(i,r){if(i&1&&f(0,"div",7),i&2){let e=h();se(e.options.messageClass),u("innerHTML",e.message,Ue)}}function qa(i,r){if(i&1&&(a(0,"div",8),l(1),s()),i&2){let e=h();se(e.options.messageClass),Xe("aria-label",e.message),c(),S(" ",e.message," ")}}function Ua(i,r){if(i&1&&(a(0,"div"),f(1,"div",9),s()),i&2){let e=h();c(),Oe("width",e.width+"%")}}var mi=class{_attachedHost;component;viewContainerRef;injector;constructor(r,e){this.component=r,this.injector=e}attach(r,e){return this._attachedHost=r,r.attach(this,e)}detach(){let r=this._attachedHost;if(r)return this._attachedHost=void 0,r.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},ui=class{_attachedPortal;_disposeFn;attach(r,e){return this._attachedPortal=r,this.attachComponentPortal(r,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(r){this._disposeFn=r}},gi=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Q;_activate=new Q;_manualClose=new Q;_resetTimeout=new Q;_countDuplicate=new Q;constructor(r){this._overlayRef=r}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(r,e){r&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Qt=class{toastId;config;message;title;toastType;toastRef;_onTap=new Q;_onAction=new Q;constructor(r,e,t,n,o,d){this.toastId=r,this.config=e,this.message=t,this.title=n,this.toastType=o,this.toastRef=d,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(r){this._onAction.next(r)}onAction(){return this._onAction.asObservable()}},Co={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},So=new Ct("ToastConfig"),fi=class extends ui{_hostDomElement;_componentFactoryResolver;_appRef;constructor(r,e,t){super(),this._hostDomElement=r,this._componentFactoryResolver=e,this._appRef=t}attachComponentPortal(r,e){let t=this._componentFactoryResolver.resolveComponentFactory(r.component),n;return n=t.create(r.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(r){return r.hostView.rootNodes[0]}},Ga=(()=>{class i{_document=Z(Jt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hi=class{_portalHost;constructor(r){this._portalHost=r}attach(r,e=!0){return this._portalHost.attach(r,e)}detach(){return this._portalHost.detach()}},Wa=(()=>{class i{_overlayContainer=Z(Ga);_componentFactoryResolver=Z(Cr);_appRef=Z(wn);_document=Z(Jt);_paneElements=new Map;create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new fi(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new hi(this._createPortalHost(e))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Le=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,t,n,o,d){this.overlay=t,this._injector=n,this.sanitizer=o,this.ngZone=d,this.toastrConfig=q(q({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=q(q({},e.default.iconClasses),e.config.iconClasses))}show(e,t,n={},o=""){return this._preBuildNotification(o,e,t,this.applyConfig(n))}success(e,t,n={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,t,this.applyConfig(n))}error(e,t,n={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,t,this.applyConfig(n))}info(e,t,n={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,t,this.applyConfig(n))}warning(e,t,n={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,t,this.applyConfig(n))}clear(e){for(let t of this.toasts)if(e!==void 0){if(t.toastId===e){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(e){let t=this._findToast(e);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(e="",t="",n,o){let{includeTitleDuplicates:d}=this.toastrConfig;for(let p of this.toasts){let m=d&&p.title===e;if((!d||m)&&p.message===t)return p.toastRef.onDuplicate(n,o),p}return null}applyConfig(e={}){return q(q({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,n,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,n,o)):this._buildNotification(e,t,n,o)}_buildNotification(e,t,n,o){if(!o.toastComponent)throw new Error("toastComponent required");let d=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&d!==null)return d;this.previousToastMessage=t;let p=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(p=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let m=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let g=t;t&&o.enableHtml&&(g=this.sanitizer.sanitize(xr.HTML,t));let x=new gi(m),b=new Qt(this.index,o,g,n,e,x),F=[{provide:Qt,useValue:b}],z=xn.create({providers:F,parent:this._injector}),k=new mi(o.toastComponent,z),N=m.attach(k,o.newestOnTop);x.componentInstance=N.instance;let X={toastId:this.index,title:n||"",message:t||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:b.onTap(),onAction:b.onAction(),portal:N};return p||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{X.toastRef.activate()})),this.toasts.push(X),X}static \u0275fac=function(t){return new(t||i)(j(So),j(Wa),j(xn),j(En),j(mt))};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Qa=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.ngZone=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Re(q({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width=t/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Re(q({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=Re(q({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(t){return new(t||i)(y(Le),y(Qt),y(mt))};static \u0275cmp=M({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,n){t&1&&v("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(Mr("@flyInOut",n.state),se(n.toastClasses),Oe("display",n.displayStyle))},standalone:!0,features:[O],attrs:yo,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&_(0,Fa,3,0,"button",0)(1,Ra,3,5,"div",1)(2,za,1,3,"div",2)(3,La,2,4,"div",3)(4,Va,2,2,"div",4),t&2&&(u("ngIf",n.options.closeButton),c(),u("ngIf",n.title),c(),u("ngIf",n.message&&n.options.enableHtml),c(),u("ngIf",n.message&&!n.options.enableHtml),c(),u("ngIf",n.options.progressBar))},dependencies:[K],encapsulation:2,data:{animation:[Wt("flyInOut",[st("inactive",Fe({opacity:0})),st("active",Fe({opacity:1})),st("removed",Fe({opacity:0})),at("inactive => active",ot("{{ easeTime }}ms {{ easing }}")),at("active => removed",ot("{{ easeTime }}ms {{ easing }}"))])]}})}return i})(),Ya=Re(q({},Co),{toastComponent:Qa}),_i=(i={})=>ai([{provide:So,useValue:{default:Ya,config:i}}]);var Ka=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){if(this.state==="inactive")return"none"}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.appRef=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width=t/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||i)(y(Le),y(Qt),y(wn))};static \u0275cmp=M({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,n){t&1&&v("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(se(n.toastClasses),Oe("display",n.displayStyle))},standalone:!0,features:[O],attrs:yo,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&_(0,ja,3,0,"button",0)(1,Ha,3,5,"div",1)(2,$a,1,3,"div",2)(3,qa,2,4,"div",3)(4,Ua,2,2,"div",4),t&2&&(u("ngIf",n.options.closeButton),c(),u("ngIf",n.title),c(),u("ngIf",n.message&&n.options.enableHtml),c(),u("ngIf",n.message&&!n.options.enableHtml),c(),u("ngIf",n.options.progressBar))},dependencies:[K],encapsulation:2})}return i})(),ju=Re(q({},Co),{toastComponent:Ka});var Za=["otpInput"],vi=(()=>{class i{constructor(e,t,n,o,d){this.fb=e,this._AuthService=t,this.route=n,this.router=o,this._ToastrService=d,this.email="",this.resendDisabled=!1,this.resendTimer=60,this.otpForm=this.fb.group({otp1:["",[D.required,D.pattern("[0-9]")]],otp2:["",[D.required,D.pattern("[0-9]")]],otp3:["",[D.required,D.pattern("[0-9]")]],otp4:["",[D.required,D.pattern("[0-9]")]],otp5:["",[D.required,D.pattern("[0-9]")]]})}ngOnInit(){this.route.queryParams.subscribe(e=>{this.email=e.email,this.startResendTimer()})}ngAfterViewInit(){this.otpInputs.forEach((e,t,n)=>{let o=e.nativeElement;o.addEventListener("input",d=>{d.target.value.length===1&&t<n.length-1&&n[t+1].nativeElement.focus()}),o.addEventListener("keydown",d=>{let p=d.target;d.key==="Backspace"&&p.value===""&&t>0&&n[t-1].nativeElement.focus()})})}onSubmit(){if(!Object.values(this.otpForm.controls).every(n=>n.valid&&n.value!=="")){this._ToastrService.info("Try Again","Please enter all digits of the verification code.");return}if(this.otpForm.valid){let n=this.otpForm.value.otp1+this.otpForm.value.otp2+this.otpForm.value.otp3+this.otpForm.value.otp4+this.otpForm.value.otp5,o={email:this.email,code:n};this.otpSub=this._AuthService.otp(o).subscribe({next:d=>{this._ToastrService.success("Successfully","OTP verified"),this.router.navigate(["/auth/login"],{queryParams:{email:this.email}})},error:d=>{this._ToastrService.error("UnSuccessfully","OTP verification failed")}})}}resendOtp(){if(this.email){this.startResendTimer();let e={email:this.email};this._AuthService.resendOtp(e).subscribe({next:t=>{this._ToastrService.success("Done","A verification code has been sent back to your email.")},error:t=>{this._ToastrService.error(t.message||"Try again")}})}else this._ToastrService.error("Email doesn't exist")}startResendTimer(){this.resendDisabled=!0,this.resendTimer=60,this.intervalId=setInterval(()=>{this.resendTimer--,this.resendTimer<=0&&(this.resendDisabled=!1,clearInterval(this.intervalId))},1e3)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId),this.otpSub?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(Je),y(ye),y(B),y(Le))}}static{this.\u0275cmp=M({type:i,selectors:[["app-code-verfication"]],viewQuery:function(t,n){if(t&1&&Sn(Za,5),t&2){let o;Bt(o=Ht())&&(n.otpInputs=o)}},standalone:!0,features:[O],decls:24,vars:3,consts:[["otpInput",""],[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"otp-card","text-center","w-100","animate-in"],["src","../../../assets/imgs/4309037.webp","alt","OTP Image",1,"otp-img","mx-auto","d-block"],[1,"font-weight-bold","mt-3"],[1,"text-muted"],[3,"ngSubmit","formGroup"],["id","otp",1,"d-flex","justify-content-center","flex-wrap","mb-3"],["type","text","maxlength","1","formControlName","otp1",1,"otp-input"],["type","text","maxlength","1","formControlName","otp2",1,"otp-input"],["type","text","maxlength","1","formControlName","otp3",1,"otp-input"],["type","text","maxlength","1","formControlName","otp4",1,"otp-input"],["type","text","maxlength","1","formControlName","otp5",1,"otp-input"],[1,"d-flex","justify-content-center","gap-2","mb-3"],["type","button",1,"btn","btn-secondary","border-1",3,"click","disabled"],["type","submit",1,"btn","submit-btn","w-auto","border-1"]],template:function(t,n){if(t&1){let o=T();a(0,"div",1)(1,"div",2),f(2,"img",3),a(3,"h3",4),l(4,"OTP Verification"),s(),a(5,"p",5),l(6,"Enter the verification code we just sent to your email address."),s(),a(7,"form",6),v("ngSubmit",function(){return P(o),w(n.onSubmit())}),a(8,"div",7),f(9,"input",8,0)(11,"input",9,0)(13,"input",10,0)(15,"input",11,0)(17,"input",12,0),s(),a(19,"div",13)(20,"button",14),v("click",function(){return P(o),w(n.resendOtp())}),l(21),s(),a(22,"button",15),l(23,"Submit"),s()()()()()}t&2&&(c(7),u("formGroup",n.otpForm),c(13),u("disabled",n.resendDisabled),c(),S(" ",n.resendDisabled?"Resend available in "+n.resendTimer+"s":"Resend"," "))},dependencies:[he,fe,ae,le,ge,io,Se,Pe],styles:['[_nghost-%COMP%]{background-color:#f8f9fa}.otp-card[_ngcontent-%COMP%]{max-width:500px;width:100%;padding:40px 20px;border-radius:15px;background-color:#fff;box-shadow:0 8px 20px #0000001a;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.otp-img[_ngcontent-%COMP%]{width:100%;max-width:180px;margin-bottom:20px}.otp-input[_ngcontent-%COMP%]{width:60px;height:60px;margin:5px;font-size:26px;text-align:center;border:1px solid #ccc;border-radius:10px;color:#2e6cf6;transition:all .2s ease}.otp-input[_ngcontent-%COMP%]:focus{border-color:#2e6cf6;box-shadow:0 0 5px #2e6cf666;transform:scale(1.05)}.submit-btn[_ngcontent-%COMP%]{width:100%;background-color:var(--main-color);color:#fff;font-weight:700;border-radius:8px;padding:12px;transition:.3s ease}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#1a52d1}@media (max-width: 576px){.otp-input[_ngcontent-%COMP%]{width:50px;height:50px;font-size:22px}.otp-card[_ngcontent-%COMP%]{padding:30px 15px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}[_nghost-%COMP%]{background:linear-gradient(135deg,#507ccf,#7492c7);min-height:100vh;margin:0;padding:0;font-family:Segoe UI,sans-serif;color:#fff}[_nghost-%COMP%]{background-image:url("./media/background-2W44ZNAM.png");background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;margin:0;font-family:Arial,sans-serif;color:#fff;display:flex;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]{background-color:#00000080;padding:40px;border-radius:15px;text-align:center}.otp-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;text-align:center;font-size:24px;margin:0 5px}button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;font-size:16px}']})}}return i})();var wo=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-emaildone"]],standalone:!0,features:[O],decls:32,vars:0,consts:[[1,"p-5"],[1,"verify-container","mb-5"],[1,"mb-5"],[1,"background-particles"],[1,"particle"],[1,"checkmark-icon"],[1,"fa-solid","fa-circle-check"],[1,"verified-title","pt-4"],[1,"verified-message"],[1,"btn","btn-primary","w-100"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"div",4)(5,"div",4)(6,"div",4)(7,"div",4)(8,"div",4)(9,"div",4)(10,"div",4)(11,"div",4)(12,"div",4)(13,"div",4)(14,"div",4)(15,"div",4)(16,"div",4)(17,"div",4)(18,"div",4)(19,"div",4)(20,"div",4)(21,"div",4)(22,"div",4)(23,"div",4),s(),a(24,"div",5),f(25,"i",6),s()(),a(26,"h2",7),l(27,"Email Verified"),s(),a(28,"p",8),l(29,"Congratulations, your email has been verified. You can start using the app"),s(),a(30,"button",9),l(31,"CONTINUE"),s()()())},styles:[".verify-container[_ngcontent-%COMP%]{position:relative;max-width:400px;margin:100px auto;text-align:center;padding:40px 20px;background-color:#fff;border-radius:20px;box-shadow:0 6px 30px #0000001a;overflow:hidden}[_nghost-%COMP%]{background-color:#3a5af9}.checkmark-icon[_ngcontent-%COMP%]{font-size:80px;color:#3a5af9;margin-bottom:20px;position:relative;z-index:2}.verified-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.verified-message[_ngcontent-%COMP%]{color:#888;margin-bottom:30px}.background-particles[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;width:6px;height:6px;background-color:#3a5af9;border-radius:50%;animation:_ngcontent-%COMP%_float 3s infinite ease-in-out;opacity:.7}@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0) scale(1);opacity:.8}50%{transform:translateY(-10px) scale(1.2);opacity:.4}to{transform:translateY(0) scale(1);opacity:.8}}.particle[_ngcontent-%COMP%]:nth-child(1){top:10%;left:40%;animation-delay:0s;animation-duration:3s}.particle[_ngcontent-%COMP%]:nth-child(2){top:20%;left:20%;animation-delay:.2s;animation-duration:4s}.particle[_ngcontent-%COMP%]:nth-child(3){top:60%;left:60%;animation-delay:.4s;animation-duration:3.5s}.particle[_ngcontent-%COMP%]:nth-child(4){top:40%;left:70%;animation-delay:.1s;animation-duration:4.2s}.particle[_ngcontent-%COMP%]:nth-child(5){top:20%;left:55%;animation-delay:.3s;animation-duration:3.8s}.particle[_ngcontent-%COMP%]:nth-child(6){top:40%;left:35%;animation-delay:.5s;animation-duration:4s}.particle[_ngcontent-%COMP%]:nth-child(7){top:25%;left:25%;animation-delay:.6s;animation-duration:3.3s}.particle[_ngcontent-%COMP%]:nth-child(8){top:25%;left:75%;animation-delay:.7s;animation-duration:3.6s}.particle[_ngcontent-%COMP%]:nth-child(9){top:65%;left:45%;animation-delay:.8s;animation-duration:3.7s}.particle[_ngcontent-%COMP%]:nth-child(10){top:35%;left:50%;animation-delay:.9s;animation-duration:3.4s}"]})}}return i})();var Xa=(i,r)=>({"is-valid":i,"is-invalid":r});function Ja(i,r){i&1&&(a(0,"p",11),l(1,"Email is required"),s())}function el(i,r){i&1&&(a(0,"p",11),l(1,"Email is not valid"),s())}function tl(i,r){if(i&1&&(a(0,"div",9),_(1,Ja,2,0,"p",11)(2,el,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.forgetPasswordForm.get("email"))!=null&&e.getError("required")?1:(e=t.forgetPasswordForm.get("email"))!=null&&e.getError("email")?2:-1)}}function nl(i,r){i&1&&(a(0,"span"),f(1,"i",12),s())}var Mo=(()=>{class i{constructor(e,t,n){this.__FormBuildr=e,this.__AuthService=t,this.__Router=n,this.loading=!1,this.forgetPasswordForm=this.__FormBuildr.group({email:[null,[D.required,D.email]]})}forgetPassword(){this.forgetPasswordForm.valid?(this.loading=!0,this.forgetPasswordSub=this.__AuthService.forgetPassword(this.forgetPasswordForm.value).subscribe({next:e=>{this.loading=!1,sessionStorage.setItem("resetEmail",this.forgetPasswordForm.value.email),console.log(e),setInterval(()=>{this.__Router.navigate(["/auth/reset-code"])},2e3)},error:e=>{this.loading=!1}})):this.forgetPasswordForm.markAllAsTouched()}ngOnDestroy(){this.forgetPasswordSub?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(Je),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-forget-password"]],standalone:!0,features:[O],decls:16,vars:8,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"container","bg-secondary-subtle","p-5","my-5","rounded","shadow-sm"],[1,"row"],[1,"text-main","fs-3","fw-bolder","text-center"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","email",1,"mb-1"],[1,"text-danger"],["type","email","formControlName","email","placeholder","ex:johndoe@.com",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","my-2","p-2","fs-6","fw-bold","rounded"],["type","submit",1,"btn-main","w-50","mx-auto","d-block",3,"disabled"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(t,n){if(t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Forget Password"),s(),a(5,"form",4),v("ngSubmit",function(){return n.forgetPassword()}),a(6,"div",5)(7,"label",6),l(8,"Email: "),a(9,"span",7),l(10,"*"),s()(),f(11,"input",8),s(),_(12,tl,3,1,"div",9),a(13,"button",10),l(14," Send reset code "),_(15,nl,2,0,"span"),s()()()()()),t&2){let o,d;c(5),u("formGroup",n.forgetPasswordForm),c(6),u("ngClass",oe(5,Xa,!((o=n.forgetPasswordForm.get("email"))!=null&&o.errors)&&(((o=n.forgetPasswordForm.get("email"))==null?null:o.touched)||((o=n.forgetPasswordForm.get("email"))==null?null:o.dirty)),((o=n.forgetPasswordForm.get("email"))==null?null:o.errors)&&(((o=n.forgetPasswordForm.get("email"))==null?null:o.touched)||((o=n.forgetPasswordForm.get("email"))==null?null:o.dirty)))),c(),R(12,(d=n.forgetPasswordForm.get("email"))!=null&&d.errors&&((d=n.forgetPasswordForm.get("email"))!=null&&d.touched)?12:-1),c(),u("disabled",n.forgetPasswordForm.invalid),c(2),R(15,n.loading?15:-1)}},dependencies:[he,fe,ae,le,ge,Se,Pe,ve]})}}return i})();var il=(i,r)=>({"is-valid":i,"is-invalid":r});function rl(i,r){if(i&1&&(a(0,"p",5),l(1),s()),i&2){let e=h();c(),S(" ",e.errorMsg," ")}}function ol(i,r){i&1&&(a(0,"p",10),l(1,"Code is required"),s())}function sl(i,r){i&1&&(a(0,"p",10),l(1,"Code must be 5 digits"),s())}function al(i,r){if(i&1&&(a(0,"div",5),_(1,ol,2,0,"p",10)(2,sl,2,0),s()),i&2){let e,t=h();c(),R(1,(e=t.resetCodeForm.get("otp"))!=null&&e.getError("required")?1:(e=t.resetCodeForm.get("otp"))!=null&&e.getError("pattern")?2:-1)}}function ll(i,r){i&1&&(a(0,"span"),f(1,"i",11),l(2," Verifying..."),s())}function cl(i,r){i&1&&(a(0,"span"),l(1,"Verify Code"),s())}var Oo=(()=>{class i{constructor(e,t,n){this._FormBuilder=e,this._AuthService=t,this._Router=n,this.errorMsg="",this.loading=!1,this.resetCodeForm=this._FormBuilder.group({otp:[null,[D.required,D.pattern(/^\d{5}$/)]]}),this._Router.events.subscribe(o=>{o instanceof Kr&&console.log("Navigation started to:",o.url)})}ngOnInit(){console.log("ResetCodeComponent initialized"),console.log("Stored email:",sessionStorage.getItem("resetEmail")),sessionStorage.getItem("resetEmail")||(console.error("No email found in sessionStorage"),this.errorMsg="Session expired. Please restart password reset process.")}resetCode(){if(console.log("Form submitted",this.resetCodeForm.value),this.resetCodeForm.valid){let e=sessionStorage.getItem("resetEmail");if(console.log("Retrieved email:",e),!e){this.errorMsg="Email not found. Please restart the reset process.",console.error("Email not found in sessionStorage");return}this.loading=!0,this.errorMsg="";let t={email:e,code:this.resetCodeForm.value.otp};console.log("Sending request body:",t),this.resetCodeSub=this._AuthService.resetCode(t).subscribe({next:n=>{console.log("API Response:",n),this.loading=!1,n?.resetToken?(console.log("Received resetToken:",n.resetToken),sessionStorage.setItem("resetToken",n.resetToken),this._Router.navigate(["/auth/reset-password"],{replaceUrl:!0}).then(()=>{console.log("Navigation completed successfully"),window.location.href="/auth/reset-password"}).catch(o=>{console.error("Navigation failed:",o)})):(this.errorMsg="Invalid response from server - no token received",console.error("No resetToken in response:",n))},error:n=>{console.error("API Error:",n),this.loading=!1,this.errorMsg=n.error?.message||"Failed to verify code. Please try again."}})}else console.log("Form is invalid"),this.resetCodeForm.markAllAsTouched()}ngOnDestroy(){this.resetCodeSub&&(this.resetCodeSub.unsubscribe(),console.log("Subscription unsubscribed"))}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(Je),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-reset-code"]],standalone:!0,features:[O],decls:15,vars:9,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"container","bg-secondary-subtle","p-5","my-5","rounded","shadow-sm"],[1,"row"],[1,"text-main","fs-3","fw-bolder","text-center"],[1,"text-muted","fa-bold"],[1,"alert","alert-danger","my-2","p-2","fs-6","fw-bold","rounded"],[3,"ngSubmit","formGroup"],[1,"my-2"],["type","text","formControlName","otp","placeholder","Ex: 12345",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","w-50","mx-auto","d-block",3,"disabled"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(t,n){if(t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Reset Password Code"),s(),a(5,"p",4),l(6,"Enter the code sent to your email"),s(),_(7,rl,2,1,"p",5),a(8,"form",6),v("ngSubmit",function(){return n.resetCode()}),a(9,"div",7),f(10,"input",8),s(),_(11,al,3,1,"div",5),a(12,"button",9),_(13,ll,3,0,"span")(14,cl,2,0),s()()()()()),t&2){let o,d;c(7),R(7,n.errorMsg?7:-1),c(),u("formGroup",n.resetCodeForm),c(2),u("ngClass",oe(6,il,!((o=n.resetCodeForm.get("otp"))!=null&&o.errors)&&(((o=n.resetCodeForm.get("otp"))==null?null:o.touched)||((o=n.resetCodeForm.get("otp"))==null?null:o.dirty)),((o=n.resetCodeForm.get("otp"))==null?null:o.errors)&&(((o=n.resetCodeForm.get("otp"))==null?null:o.touched)||((o=n.resetCodeForm.get("otp"))==null?null:o.dirty)))),c(),R(11,(d=n.resetCodeForm.get("otp"))!=null&&d.errors&&((d=n.resetCodeForm.get("otp"))!=null&&d.touched)?11:-1),c(),u("disabled",n.resetCodeForm.invalid||n.loading),c(),R(13,n.loading?13:14)}},dependencies:[he,fe,ae,le,ge,Se,Pe,ve]})}}return i})();var Eo=(i,r)=>({"is-valid":i,"is-invalid":r}),dl=(i,r)=>({"alert-success":i,"alert-danger":r});function pl(i,r){if(i&1&&(a(0,"p",4),l(1),s()),i&2){let e=h();u("ngClass",oe(2,dl,e.resText.includes("successfully"),!e.resText.includes("successfully"))),c(),S(" ",e.resText," ")}}function ml(i,r){i&1&&(a(0,"p",14),l(1,"Password is required"),s())}function ul(i,r){i&1&&(a(0,"p",14),l(1,"Password must be at least 6 characters"),s())}function gl(i,r){if(i&1&&(a(0,"div",10),_(1,ml,2,0,"p",14)(2,ul,2,0,"p",14),s()),i&2){let e,t,n=h();c(),R(1,(e=n.resetPasswordForm.get("newPassword"))!=null&&e.getError("required")?1:-1),c(),R(2,(t=n.resetPasswordForm.get("newPassword"))!=null&&t.getError("minlength")?2:-1)}}function fl(i,r){i&1&&(a(0,"p",14),l(1,"Password confirmation is required"),s())}function hl(i,r){if(i&1&&(a(0,"div",10),_(1,fl,2,0,"p",14),s()),i&2){let e,t=h();c(),R(1,(e=t.resetPasswordForm.get("confirmPassword"))!=null&&e.getError("required")?1:-1)}}function _l(i,r){i&1&&(a(0,"div",10)(1,"p",14),l(2,"Passwords do not match"),s()())}function vl(i,r){i&1&&(a(0,"span"),f(1,"i",15),l(2," Processing..."),s())}function xl(i,r){i&1&&(a(0,"span"),l(1,"Reset Password"),s())}var To=(()=>{class i{constructor(e,t,n){this._FormBuilder=e,this._AuthService=t,this._Router=n,this.loading=!1,this.resText="",this.resetPasswordForm=this._FormBuilder.group({newPassword:[null,[D.required,D.minLength(6)]],confirmPassword:[null,[D.required]]},{validators:[this.passwordsMatchValidator]}),this._Router.events.subscribe(o=>{o instanceof Tn&&(console.log("Navigation ended to:",o.url),o.url==="/auth/reset-code"&&(console.warn("Unexpected navigation back to reset-code"),this._Router.navigate(["/auth/reset-password"],{replaceUrl:!0})))})}ngOnInit(){console.log("ResetPasswordComponent initialized"),console.log("Stored email:",sessionStorage.getItem("resetEmail")),console.log("Stored token:",sessionStorage.getItem("resetToken")),(!sessionStorage.getItem("resetEmail")||!sessionStorage.getItem("resetToken"))&&(console.error("Missing required data in sessionStorage"),this.resText="Session expired. Please start the reset process again.",this._Router.navigate(["/auth/reset-code"]).then(e=>{console.log("Navigation to reset-code:",e)}).catch(e=>{console.error("Navigation failed:",e)}))}passwordsMatchValidator(e){let t=e.get("newPassword")?.value,n=e.get("confirmPassword")?.value;return t===n?null:{mismatch:!0}}resetPassword(){if(console.log("Reset password form submitted",this.resetPasswordForm.value),this.resetPasswordForm.valid){let e=sessionStorage.getItem("resetEmail"),t=sessionStorage.getItem("resetToken");if(console.log("Using email:",e),console.log("Using token:",t),!e||!t){console.error("Missing email or token"),this.resText="Session expired. Please start the reset process again.",this._Router.navigate(["/auth/reset-code"]);return}this.loading=!0,this.resText="";let n={email:e,password:this.resetPasswordForm.value.newPassword,confirmPassword:this.resetPasswordForm.value.confirmPassword,resetToken:t};console.log("Sending reset request:",n),this.resetPasswordSub=this._AuthService.newData(n).subscribe({next:o=>{console.log("Reset password success:",o),this.loading=!1,this.resText="Password reset successfully! Redirecting to login...",sessionStorage.removeItem("resetEmail"),sessionStorage.removeItem("resetToken"),setTimeout(()=>{this._Router.navigate(["/auth/login"]).then(d=>{console.log("Navigation to login:",d)})},2e3)},error:o=>{console.error("Reset password error:",o),this.loading=!1,this.resText=o.error?.message||"Failed to reset password. Please try again."}})}else console.log("Form is invalid"),this.resetPasswordForm.markAllAsTouched()}ngOnDestroy(){this.resetPasswordSub&&(this.resetPasswordSub.unsubscribe(),console.log("Subscription unsubscribed"))}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(Je),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-reset-password"]],standalone:!0,features:[O],decls:25,vars:15,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"container","bg-body-secondary","p-5","my-5","rounded","shadow-sm"],[1,"row"],[1,"text-main","fs-3","fw-bolder","text-center"],[1,"alert","my-2","p-2","fs-6","fw-bold","rounded",3,"ngClass"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","password",1,"mb-1"],[1,"text-danger"],["type","password","formControlName","newPassword",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","my-2","p-2","fs-6","fw-bold","rounded"],["for","confirmPassword",1,"mb-1"],["type","password","formControlName","confirmPassword",1,"form-control",3,"ngClass"],[1,"btn-main","w-25","mx-auto","d-block",3,"disabled"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(t,n){if(t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Reset Password"),s(),_(5,pl,2,5,"p",4),a(6,"form",5),v("ngSubmit",function(){return n.resetPassword()}),a(7,"div",6)(8,"label",7),l(9,"New Password: "),a(10,"span",8),l(11,"*"),s()(),f(12,"input",9),_(13,gl,3,2,"div",10),s(),a(14,"div",6)(15,"label",11),l(16,"Confirm Password: "),a(17,"span",8),l(18,"*"),s()(),f(19,"input",12),_(20,hl,2,1,"div",10),s(),_(21,_l,3,0,"div",10),a(22,"button",13),_(23,vl,3,0,"span")(24,xl,2,0),s()()()()()),t&2){let o,d,p,m,g;c(5),R(5,n.resText?5:-1),c(),u("formGroup",n.resetPasswordForm),c(6),u("ngClass",oe(9,Eo,((o=n.resetPasswordForm.get("newPassword"))==null?null:o.valid)&&(((o=n.resetPasswordForm.get("newPassword"))==null?null:o.touched)||((o=n.resetPasswordForm.get("newPassword"))==null?null:o.dirty)),((o=n.resetPasswordForm.get("newPassword"))==null?null:o.invalid)&&(((o=n.resetPasswordForm.get("newPassword"))==null?null:o.touched)||((o=n.resetPasswordForm.get("newPassword"))==null?null:o.dirty)))),c(),R(13,(d=n.resetPasswordForm.get("newPassword"))!=null&&d.errors&&((d=n.resetPasswordForm.get("newPassword"))!=null&&d.touched)?13:-1),c(6),u("ngClass",oe(12,Eo,((p=n.resetPasswordForm.get("confirmPassword"))==null?null:p.valid)&&(((p=n.resetPasswordForm.get("confirmPassword"))==null?null:p.touched)||((p=n.resetPasswordForm.get("confirmPassword"))==null?null:p.dirty)),((p=n.resetPasswordForm.get("confirmPassword"))==null?null:p.invalid)&&(((p=n.resetPasswordForm.get("confirmPassword"))==null?null:p.touched)||((p=n.resetPasswordForm.get("confirmPassword"))==null?null:p.dirty)))),c(),R(20,(m=n.resetPasswordForm.get("confirmPassword"))!=null&&m.errors&&((m=n.resetPasswordForm.get("confirmPassword"))!=null&&m.touched)?20:-1),c(),R(21,n.resetPasswordForm.errors!=null&&n.resetPasswordForm.errors.mismatch&&((g=n.resetPasswordForm.get("confirmPassword"))!=null&&g.touched||(g=n.resetPasswordForm.get("newPassword"))!=null&&g.touched)?21:-1),c(),u("disabled",n.resetPasswordForm.invalid||n.loading),c(),R(23,n.loading?23:24)}},dependencies:[ve,he,fe,ae,le,ge,Se,Pe]})}}return i})();var tt=(()=>{class i{constructor(e){this._HttpClient=e,this.noOfItems2=Cn(0),this.lastQuantity=1}getAuthHeaders(){let e=sessionStorage.getItem("token");return new qt({Authorization:`Bearer ${e}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"})}getLoogedUserCart(){return this._HttpClient.get(`${ne.baseUrl}/api/Baskets`,{headers:this.getAuthHeaders()})}addProductToCart(e){return this._HttpClient.post(`${ne.baseUrl}/api/Baskets/AddProduct?productId=${e}`,{},{headers:this.getAuthHeaders()}).pipe(Y(()=>this.noOfItems2.update(t=>t+1)),Ft(t=>{throw console.error("Error adding to cart:",t),t}))}removeItemFormCart(e){return this._HttpClient.delete(`${ne.baseUrl}/api/Baskets/RemoveProduct?productId=${e}`,{headers:this.getAuthHeaders()})}update(e,t){return this._HttpClient.put(`${ne.baseUrl}/api/Baskets/UpdateProduct`,{productId:+e,quantity:t},{headers:this.getAuthHeaders()})}clearCart(){return this._HttpClient.delete(`${ne.baseUrl}/api/Baskets`,{headers:this.getAuthHeaders()})}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Fn=(()=>{class i{constructor(e){this._HttpClient=e,this.headers=new qt({"ngrok-skip-browser-warning":"true","Content-Type":"application/json"})}getAllProduct(){return this._HttpClient.get(`${ne.baseUrl}/api/Products`,{headers:this.headers})}getAllProductsPaginated(e){let t=new Br().set("PageIndex",e.pageIndex.toString()).set("PageSize",e.pageSize.toString());return e.sort&&(t=t.set("Sort",e.sort)),e.search&&e.search.trim()&&(t=t.set("Search",e.search.trim())),e.ingredients&&e.ingredients.length>0&&(t=t.set("Ingredients",e.ingredients.join(","))),this._HttpClient.get(`${ne.baseUrl}/api/Products`,{headers:this.headers,params:t}).pipe(Ft(n=>(console.error("Error in getAllProductsPaginated:",n),gn(()=>n))))}getAllActiveIngredients(){return this._HttpClient.get(`${ne.baseUrl}/api/Products/active-ingredients`,{headers:this.headers}).pipe(Ft(e=>(console.error("Error in getAllActiveIngredients:",e),gn(()=>e))))}getProductDetails(e){return this._HttpClient.get(`${ne.baseUrl}/api/Products/${e}`,{headers:this.headers}).pipe(Ft(t=>(console.error("Error in getProductDetails:",t),gn(()=>t))))}searchProducts(e,t){let n=Re(q({},t),{search:e});return this.getAllProductsPaginated(n)}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var yl=["overlay"],Cl=["*"];function Sl(i,r){i&1&&f(0,"div")}function Pl(i,r){if(i&1&&(a(0,"div"),_(1,Sl,1,0,"div",6),s()),i&2){let e=h(2);se(e.spinner.class),Oe("color",e.spinner.color),c(),u("ngForOf",e.spinner.divArray)}}function wl(i,r){if(i&1&&(f(0,"div",7),U(1,"safeHtml")),i&2){let e=h(2);u("innerHTML",Fr(1,1,e.template),Ue)}}function Ml(i,r){if(i&1&&(a(0,"div",2,0),_(2,Pl,2,5,"div",3)(3,wl,2,3,"div",4),a(4,"div",5),Er(5),s()()),i&2){let e=h();Oe("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),u("@.disabled",e.disableAnimation)("@fadeIn","in"),c(2),u("ngIf",!e.template),c(),u("ngIf",e.template),c(),Oe("z-index",e.spinner.zIndex)}}var Ol={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},xi={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},bi="primary",Mt=class i{constructor(r){Object.assign(this,r)}static create(r){return!r?.template&&!r?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new i(r)}},lt=(()=>{class i{constructor(){this.spinnerObservable=new un(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Ke(t=>t&&t.name===e))}show(e=bi,t){return new Promise((n,o)=>{setTimeout(()=>{t&&Object.keys(t).length?(t.name=e,this.spinnerObservable.next(new Mt(Re(q({},t),{show:!0}))),n(!0)):(this.spinnerObservable.next(new Mt({name:e,show:!0})),n(!0))},10)})}hide(e=bi,t=10){return new Promise((n,o)=>{setTimeout(()=>{this.spinnerObservable.next(new Mt({name:e,show:!1})),n(!0)},t)})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Io=new Ct("NGX_SPINNER_CONFIG"),El=(()=>{class i{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(t){return new(t||i)(y(En,16))}}static{this.\u0275pipe=hr({name:"safeHtml",type:i,pure:!0,standalone:!0})}}return i})(),Do=(()=>{class i{constructor(e,t,n,o){this.spinnerService=e,this.changeDetector=t,this.elementRef=n,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new Mt,this.ngUnsubscribe=new Q,this.setDefaultOptions=()=>{let{type:d}=this.globalConfig??{};this.spinner=Mt.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??d,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=xi.BD_COLOR,this.zIndex=xi.Z_INDEX,this.color=xi.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=bi,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Ze(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let t in e)if(t){let n=e[t];if(n.isFirstChange())return;typeof n.currentValue<"u"&&n.currentValue!==n.previousValue&&n.currentValue!==""&&(this.spinner[t]=n.currentValue,t==="showSpinner"&&(n.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),t==="name"&&this.initObservable())}}getClass(e,t){this.spinner.divCount=Ol[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,d)=>d);let n="";switch(t.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x";break;default:break}return"la-"+e+" "+n}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(t){return new(t||i)(y(lt),y(Mn),y(Rt),y(Io,8))}}static{this.\u0275cmp=M({type:i,selectors:[["ngx-spinner"]],viewQuery:function(t,n){if(t&1&&Sn(yl,5),t&2){let o;Bt(o=Ht())&&(n.spinnerDOM=o.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[_n,O],ngContentSelectors:Cl,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,n){t&1&&(Or(),_(0,Ml,6,12,"div",1)),t&2&&u("ngIf",n.spinner.show)},dependencies:[El,K,te],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Wt("fadeIn",[st("in",Fe({opacity:1})),at(":enter",[Fe({opacity:0}),ot(300)]),at(":leave",ot(200,Fe({opacity:0})))])]},changeDetection:0})}}return i})(),Ao=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:Io,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=St({type:i})}static{this.\u0275inj=yt({imports:[$]})}}return i})();var No=i=>["/main/productdetails",i],zo=i=>["/main/Alternatives",i],Lo=i=>["/main/CheckSafety",i],Ro=i=>["/product",i];function Tl(i,r){i&1&&(a(0,"div",5)(1,"div",6)(2,"span",7),l(3,"Loading..."),s()()())}function kl(i,r){if(i&1){let e=T();a(0,"button",47),v("click",function(){P(e);let n=h(2);return w(n.clearSearch())}),f(1,"i",48),s()}}function Il(i,r){i&1&&f(0,"i",49)}function Dl(i,r){i&1&&f(0,"i",50)}function Al(i,r){i&1&&f(0,"i",51)}function Fl(i,r){i&1&&f(0,"i",52)}function Nl(i,r){if(i&1){let e=T();a(0,"button",37),v("click",function(){P(e);let n=h(3);return w(n.clearActiveIngredientFilter())}),f(1,"i",48),l(2," Clear "),s()}}function Rl(i,r){if(i&1){let e=T();a(0,"span",61),v("click",function(){let n=P(e).$implicit,o=h(4);return w(o.filterByActiveIngredient(n))}),l(1),s()}if(i&2){let e=r.$implicit;c(),S(" ",e," ")}}function zl(i,r){if(i&1&&(a(0,"div",59),_(1,Rl,2,1,"span",60),s()),i&2){let e=h(3);c(),u("ngForOf",e.uniqueActiveIngredients)}}function Ll(i,r){if(i&1){let e=T();a(0,"div",53)(1,"div",54)(2,"div",55)(3,"label",28),l(4,"Filter by Active Ingredient:"),s(),a(5,"div",21)(6,"input",56),Ie("ngModelChange",function(n){P(e);let o=h(2);return ke(o.activeIngredientFilter,n)||(o.activeIngredientFilter=n),w(n)}),v("input",function(){P(e);let n=h(2);return w(n.applyFilters())}),s(),_(7,Nl,3,0,"button",57),s(),_(8,zl,2,1,"div",58),s()()()}if(i&2){let e=h(2);c(6),Te("ngModel",e.activeIngredientFilter),c(),u("ngIf",e.activeIngredientFilter),c(),u("ngIf",!e.activeIngredientFilter)}}function Vl(i,r){if(i&1){let e=T();a(0,"div",62)(1,"div",54)(2,"div",63),f(3,"i",64),a(4,"span"),l(5,' Search results for "'),a(6,"strong"),l(7),s(),l(8,'" '),s(),a(9,"button",65),v("click",function(){P(e);let n=h(2);return w(n.clearSearch())}),f(10,"i",66),l(11," Clear Search "),s()()()()}if(i&2){let e=h(2);c(7),C(e.searchValue)}}function jl(i,r){i&1&&f(0,"i",77)}function Bl(i,r){i&1&&f(0,"i",78)}function Hl(i,r){if(i&1&&(a(0,"span"),l(1),s()),i&2){let e=h(4);c(),S('"',e.searchValue,'"')}}function $l(i,r){i&1&&(a(0,"span"),l(1," and "),s())}function ql(i,r){if(i&1&&(a(0,"span"),l(1),s()),i&2){let e=h(4);c(),S('active ingredient "',e.activeIngredientFilter,'"')}}function Ul(i,r){if(i&1&&(a(0,"h3"),l(1," No products found for "),_(2,Hl,2,1,"span",71)(3,$l,2,0,"span",71)(4,ql,2,1,"span",71),s()),i&2){let e=h(3);c(2),u("ngIf",e.searchValue),c(),u("ngIf",e.searchValue&&e.activeIngredientFilter),c(),u("ngIf",e.activeIngredientFilter)}}function Gl(i,r){i&1&&(a(0,"h3"),l(1,"No products available"),s())}function Wl(i,r){i&1&&(a(0,"p",79),l(1," Try different keywords or clear your filters to see all products "),s())}function Ql(i,r){i&1&&(a(0,"p",79),l(1," Check back later for new products "),s())}function Yl(i,r){if(i&1){let e=T();a(0,"button",80),v("click",function(){P(e);let n=h(3);return w(n.clearSearch())}),f(1,"i",66),l(2," Clear Search "),s()}}function Kl(i,r){if(i&1){let e=T();a(0,"button",80),v("click",function(){P(e);let n=h(3);return w(n.clearActiveIngredientFilter())}),f(1,"i",66),l(2," Clear Ingredient Filter "),s()}}function Zl(i,r){if(i&1){let e=T();a(0,"div",67)(1,"div",68),_(2,jl,1,0,"i",69)(3,Bl,1,0,"i",70),s(),_(4,Ul,5,3,"h3",71)(5,Gl,2,0,"h3",71)(6,Wl,2,0,"p",72)(7,Ql,2,0,"p",72),a(8,"div",73),_(9,Yl,3,0,"button",74)(10,Kl,3,0,"button",74),a(11,"button",75),v("click",function(){P(e);let n=h(2);return w(n.retryLoad())}),f(12,"i",76),l(13," Retry Loading "),s()()()}if(i&2){let e=h(2);c(2),u("ngIf",e.searchValue||e.activeIngredientFilter),c(),u("ngIf",!e.searchValue&&!e.activeIngredientFilter),c(),u("ngIf",e.searchValue||e.activeIngredientFilter),c(),u("ngIf",!e.searchValue&&!e.activeIngredientFilter),c(),u("ngIf",e.searchValue||e.activeIngredientFilter),c(),u("ngIf",!e.searchValue&&!e.activeIngredientFilter),c(2),u("ngIf",e.searchValue),c(),u("ngIf",e.activeIngredientFilter)}}function Xl(i,r){if(i&1){let e=T();a(0,"div",83)(1,"div",84)(2,"div",85),f(3,"img",86),s(),a(4,"div",87)(5,"h5",88),l(6),s(),a(7,"h6",89),l(8),s(),a(9,"p",90),l(10),U(11,"slice"),s(),a(12,"div",91)(13,"span",92),l(14),U(15,"currency"),s()(),a(16,"div",93)(17,"button",94),f(18,"i",95),l(19," Alternatives "),s(),a(20,"button",96),f(21,"i",97),l(22," Check safety "),s(),a(23,"button",98),v("click",function(){let n=P(e).$implicit,o=h(3);return w(o.addToCart(n.id))}),f(24,"i",99),l(25," Add to Cart "),s()()()()()}if(i&2){let e=r.$implicit;c(2),u("routerLink",pe(19,No,e.id)),c(),u("src",e.pictureUrl,ee)("alt",e.name),c(2),u("routerLink",pe(21,No,e.id)),c(),S(" ",e.name," "),c(2),C(e.activeIngredient),c(2),S(" ",Nr(11,10,e.description,0,80),"... "),c(4),C(di(15,14,e.price,"EGP","symbol","1.0-2")),c(3),u("routerLink",pe(23,zo,e.id)),c(3),u("routerLink",pe(25,Lo,e.id))}}function Jl(i,r){if(i&1&&(a(0,"div",81)(1,"div",62),_(2,Xl,26,27,"div",82),s()()),i&2){let e=h(2);c(2),u("ngForOf",e.getCurrentProducts())}}function ec(i,r){if(i&1){let e=T();a(0,"div",102)(1,"div",11)(2,"div",103)(3,"div",104),f(4,"img",86),s()(),a(5,"div",105)(6,"h5",106),l(7),s(),a(8,"p",107),l(9),s(),a(10,"div",108)(11,"strong"),l(12,"Active Ingredient:"),s(),l(13),s()(),a(14,"div",109)(15,"div",110)(16,"div",111)(17,"span",92),l(18),U(19,"currency"),s()(),a(20,"button",94),f(21,"i",95),l(22," Alternatives "),s(),a(23,"button",96),f(24,"i",97),l(25," Check safety "),s(),a(26,"button",112),v("click",function(){let n=P(e).$implicit,o=h(3);return w(o.addToCart(n.id))}),f(27,"i",99),l(28," Add to Cart "),s()()()()()}if(i&2){let e=r.$implicit;c(3),u("routerLink",pe(15,Ro,e.id)),c(),u("src",e.pictureUrl,ee)("alt",e.name),c(2),u("routerLink",pe(17,Ro,e.id)),c(),S(" ",e.name," "),c(2),S(" ",e.description," "),c(4),S(" ",e.activeIngredient," "),c(5),C(di(19,10,e.price,"EGP","symbol","1.0-2")),c(2),u("routerLink",pe(19,zo,e.id)),c(3),u("routerLink",pe(21,Lo,e.id))}}function tc(i,r){if(i&1&&(a(0,"div",100),_(1,ec,29,23,"div",101),s()),i&2){let e=h(2);c(),u("ngForOf",e.getCurrentProducts())}}function nc(i,r){if(i&1){let e=T();a(0,"li",119)(1,"button",135),v("click",function(){P(e);let n=h(3);return w(n.goToPage(1))}),l(2,"1"),s()()}}function ic(i,r){i&1&&(a(0,"li",136)(1,"span",137),l(2,"..."),s()())}function rc(i,r){if(i&1){let e=T();a(0,"li",119)(1,"button",135),v("click",function(){let n=P(e).$implicit,o=h(3);return w(o.goToPage(n))}),l(2),s()()}if(i&2){let e=r.$implicit,t=h(3);re("active",t.currentPage===e),c(2),S(" ",e," ")}}function oc(i,r){i&1&&(a(0,"li",136)(1,"span",137),l(2,"..."),s()())}function sc(i,r){if(i&1){let e=T();a(0,"li",119)(1,"button",135),v("click",function(){P(e);let n=h(3);return w(n.goToPage(n.totalPages))}),l(2),s()()}if(i&2){let e=h(3);c(2),C(e.totalPages)}}function ac(i,r){if(i&1){let e=T();a(0,"nav",113)(1,"div",10)(2,"div",114)(3,"div",115)(4,"span"),l(5),s(),a(6,"small",116),l(7),s()(),a(8,"div",117)(9,"ul",118)(10,"li",119)(11,"button",120),v("click",function(){P(e);let n=h(2);return w(n.goToPage(1))}),f(12,"i",121),s()(),a(13,"li",119)(14,"button",122),v("click",function(){P(e);let n=h(2);return w(n.goToPreviousPage())}),f(15,"i",123),s()(),_(16,nc,3,0,"li",124)(17,ic,3,0,"li",125)(18,rc,3,3,"li",126)(19,oc,3,0,"li",125)(20,sc,3,1,"li",124),a(21,"li",119)(22,"button",127),v("click",function(){P(e);let n=h(2);return w(n.goToNextPage())}),f(23,"i",128),s()(),a(24,"li",119)(25,"button",129),v("click",function(){P(e);let n=h(2);return w(n.goToPage(n.totalPages))}),f(26,"i",130),s()()()(),a(27,"div",131)(28,"div",132)(29,"span",22),l(30,"Go to:"),s(),a(31,"input",133,0),v("keyup.enter",function(){P(e);let n=Pn(32);return h(2).goToPage(+n.value),w(n.value="")}),s(),a(33,"button",134),v("click",function(){P(e);let n=Pn(32);return h(2).goToPage(+n.value),w(n.value="")}),l(34," Go "),s()()()()()()}if(i&2){let e=Pn(32),t=h(2);c(5),C(t.getProductsCountText()),c(2),ut("Page ",t.currentPage," of ",t.totalPages,""),c(3),re("disabled",t.currentPage===1),c(),u("disabled",t.currentPage===1),c(2),re("disabled",t.currentPage===1),c(),u("disabled",t.currentPage===1),c(2),u("ngIf",t.shouldShowFirstPage()),c(),u("ngIf",t.shouldShowFirstPage()&&t.getPageNumbers()[0]>2),c(),u("ngForOf",t.getPageNumbers()),c(),u("ngIf",t.shouldShowLastPage()&&t.getPageNumbers()[t.getPageNumbers().length-1]<t.totalPages-1),c(),u("ngIf",t.shouldShowLastPage()),c(),re("disabled",t.currentPage===t.totalPages),c(),u("disabled",t.currentPage===t.totalPages),c(2),re("disabled",t.currentPage===t.totalPages),c(),u("disabled",t.currentPage===t.totalPages),c(6),u("min",1)("max",t.totalPages),c(2),u("disabled",!e.value)}}function lc(i,r){if(i&1){let e=T();a(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h1",13),l(6,"All Products"),s(),a(7,"p",14),l(8,"Discover our amazing collection of medicines"),s()(),a(9,"div",15)(10,"span",16),l(11),s()()()()(),a(12,"div",17)(13,"div",10)(14,"div",11)(15,"div",18)(16,"div",19)(17,"form",20),v("ngSubmit",function(){P(e);let n=h();return w(n.onSearchSubmit())}),a(18,"div",21)(19,"span",22),f(20,"i",23),s(),a(21,"input",24),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.searchValue,n)||(o.searchValue=n),w(n)}),v("input",function(){P(e);let n=h();return w(n.onSearchChange())}),s(),_(22,kl,2,0,"button",25),a(23,"button",26),f(24,"i",23),s()()()()(),a(25,"div",18)(26,"div",27)(27,"label",28),l(28,"Sort by:"),s(),a(29,"div",29)(30,"button",30),v("click",function(){P(e);let n=h();return w(n.sortProducts("name"))}),l(31," Name "),_(32,Il,1,0,"i",31)(33,Dl,1,0,"i",32),s(),a(34,"button",30),v("click",function(){P(e);let n=h();return w(n.sortProducts("price"))}),l(35," Price "),_(36,Al,1,0,"i",33)(37,Fl,1,0,"i",34),s()()()(),a(38,"div",35)(39,"div",36)(40,"label",28),l(41,"View:"),s(),a(42,"div",29)(43,"button",37),v("click",function(){P(e);let n=h();return w(n.viewMode="grid")}),f(44,"i",38),s(),a(45,"button",37),v("click",function(){P(e);let n=h();return w(n.viewMode="list")}),f(46,"i",39),s()()()()(),_(47,Ll,9,3,"div",40)(48,Vl,12,1,"div",41),s()(),a(49,"div",42)(50,"div",10),_(51,Zl,14,8,"div",43)(52,Jl,3,1,"div",44)(53,tc,2,1,"div",45),s(),_(54,ac,35,23,"nav",46),s()()}if(i&2){let e=h();c(11),C(e.getProductsCountText()),c(10),Te("ngModel",e.searchValue),c(),u("ngIf",e.searchValue),c(8),re("active",e.sortBy==="name"),c(2),u("ngIf",e.sortBy==="name"&&e.sortOrder==="asc"),c(),u("ngIf",e.sortBy==="name"&&e.sortOrder==="desc"),c(),re("active",e.sortBy==="price"),c(2),u("ngIf",e.sortBy==="price"&&e.sortOrder==="asc"),c(),u("ngIf",e.sortBy==="price"&&e.sortOrder==="desc"),c(6),re("active",e.viewMode==="grid"),c(2),re("active",e.viewMode==="list"),c(2),u("ngIf",e.uniqueActiveIngredients.length>0),c(),u("ngIf",e.searchValue),c(3),u("ngIf",e.getCurrentProducts().length===0),c(),u("ngIf",e.viewMode==="grid"&&e.getCurrentProducts().length>0),c(),u("ngIf",e.viewMode==="list"&&e.getCurrentProducts().length>0),c(),u("ngIf",e.totalPages>1)}}function cc(i,r){if(i&1){let e=T();a(0,"div",138)(1,"div",139),f(2,"i",140),s(),a(3,"h3"),l(4,"Oops! Something went wrong"),s(),a(5,"p",79),l(6,"We couldn't load the products. Please try again."),s(),a(7,"button",141),v("click",function(){P(e);let n=h();return w(n.retryLoad())}),f(8,"i",142),l(9," Try Again "),s()()}}var Vo=(()=>{class i{constructor(e,t,n){this._productsService=e,this._NgxSpinnerService=t,this._ToastrService=n,this._CartService=Z(tt),this._destroy$=new Q,this._searchSubject=new Q,this.productsData=[],this.filteredProducts=[],this.searchValue="",this.isLoading=!1,this.currentPage=1,this.pageSize=10,this.totalProducts=0,this.totalPages=0,this.loading=!1,this.addToCartError=null,this.viewMode="grid",this.sortBy="name",this.sortOrder="asc",this.activeIngredientFilter="",this.uniqueActiveIngredients=[]}ngOnInit(){this.loadProducts(),this.setupSearch()}ngOnDestroy(){this.productSub&&this.productSub.unsubscribe(),this._destroy$.next(),this._destroy$.complete()}loadProducts(){this.isLoading=!0,this._NgxSpinnerService.show();let e={pageIndex:this.currentPage,pageSize:this.pageSize,sort:this.getSortParameter(),search:this.searchValue.trim()};this._productsService.getAllProductsPaginated(e).pipe(Ze(this._destroy$)).subscribe({next:t=>{this.productsData=t.data||[],this.filteredProducts=[...this.productsData],this.totalProducts=t.count||0,this.totalPages=Math.ceil(this.totalProducts/this.pageSize),this.extractUniqueActiveIngredients(),this.isLoading=!1,this._NgxSpinnerService.hide()},error:t=>{console.error("Error loading products:",t),this.isLoading=!1,this._NgxSpinnerService.hide(),this._ToastrService.error("Failed to load products","Error")}})}extractUniqueActiveIngredients(){let e=new Set;this.productsData.forEach(t=>{t.activeIngredient&&e.add(t.activeIngredient)}),this.uniqueActiveIngredients=Array.from(e).sort()}setupSearch(){this._searchSubject.pipe(ur(500),fr(),Ze(this._destroy$)).subscribe(e=>{this.searchValue=e,this.currentPage=1,this.loadProducts()})}getSortParameter(){let e=this.sortOrder==="asc"?"Asc":"Desc";switch(this.sortBy){case"name":return`Name${e}`;case"price":return`Price${e}`;case"rating":return`Rating${e}`;default:return"NameAsc"}}onSearchChange(){this._searchSubject.next(this.searchValue)}onSearchSubmit(){this.currentPage=1,this.loadProducts()}sortProducts(e){this.sortBy===e?this.sortOrder=this.sortOrder==="asc"?"desc":"asc":(this.sortBy=e,this.sortOrder="asc"),this.currentPage=1,this.loadProducts()}getRatingStars(e=4.5){return Array(5).fill(!1).map((t,n)=>n<Math.floor(e))}isAuthenticated(){return!!sessionStorage.getItem("token")}navigateToProduct(e){}retryLoad(){this.loadProducts()}toggleViewMode(){this.viewMode=this.viewMode==="grid"?"list":"grid"}filterByActiveIngredient(e){this.activeIngredientFilter=e,this.applyFilters()}clearActiveIngredientFilter(){this.activeIngredientFilter="",this.applyFilters()}applyFilters(){if(!this.activeIngredientFilter){this.filteredProducts=[...this.productsData];return}this.filteredProducts=this.productsData.filter(e=>e.activeIngredient?.toLowerCase().includes(this.activeIngredientFilter.toLowerCase()))}goToPage(e){e>=1&&e<=this.totalPages&&e!==this.currentPage&&(this.currentPage=e,this.loadProducts(),window.scrollTo({top:0,behavior:"smooth"}))}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}getPageNumbers(){let e=[],n=Math.max(1,this.currentPage-Math.floor(2.5)),o=Math.min(this.totalPages,n+5-1);o-n+1<5&&(n=Math.max(1,o-5+1));for(let d=n;d<=o;d++)e.push(d);return e}shouldShowFirstPage(){return this.getPageNumbers()[0]>1}shouldShowLastPage(){let e=this.getPageNumbers();return e[e.length-1]<this.totalPages}clearSearch(){this.searchValue="",this._searchSubject.next("")}getProductsCountText(){if(this.totalProducts===0)return this.searchValue?`No products found for "${this.searchValue}"`:"No products found";let e=(this.currentPage-1)*this.pageSize+1,t=Math.min(this.currentPage*this.pageSize,this.totalProducts),n=this.searchValue?` for "${this.searchValue}"`:"";return`Showing ${e}-${t} of ${this.totalProducts} products${n}`}getCurrentProducts(){return this.activeIngredientFilter?this.filteredProducts:this.productsData}addToCart(e){this.productSub=this._CartService.addProductToCart(e).subscribe({next:t=>{this._ToastrService.success("Product added to cart successfully","Success"),console.log("Cart updated:",t.items)},error:t=>{this._ToastrService.error(t.error?.message||"Failed to add product to cart","Error"),console.error("Error adding to cart:",t)}})}static{this.\u0275fac=function(t){return new(t||i)(y(Fn),y(lt),y(Le))}}static{this.\u0275cmp=M({type:i,selectors:[["app-allproducts"]],standalone:!0,features:[O],decls:4,vars:3,consts:[["pageInput",""],[1,"ms-5"],["class","loading-container",4,"ngIf"],["class","products-container",4,"ngIf"],["class","error-state text-center",4,"ngIf"],[1,"loading-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"products-container"],[1,"products-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"page-title"],[1,"page-subtitle"],[1,"col-md-6","text-md-end","text-white"],[1,"products-count","text-white"],[1,"filters-section"],[1,"col-lg-4","col-md-6","mb-3"],[1,"search-box"],[1,"search-form",3,"ngSubmit"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Search medicines...","name","search","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","btn btn-outline-secondary","type","button","title","Clear search",3,"click",4,"ngIf"],["type","submit","title","Search",1,"btn","serchgrad"],[1,"sort-controls"],[1,"form-label"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-primary",3,"click"],["class","fas fa-sort-alpha-down",4,"ngIf"],["class","fas fa-sort-alpha-up",4,"ngIf"],["class","fas fa-sort-numeric-down",4,"ngIf"],["class","fas fa-sort-numeric-up",4,"ngIf"],[1,"col-lg-4","col-md-12","mb-3"],[1,"view-controls","text-lg-end"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-th"],[1,"fas","fa-list"],["class","row mb-0",4,"ngIf"],["class","row",4,"ngIf"],[1,"products-section"],["class","empty-state text-center",4,"ngIf"],["class","products-grid",4,"ngIf"],["class","products-list",4,"ngIf"],["class","pagination-nav","aria-label","Products pagination",4,"ngIf"],["type","button","title","Clear search",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"fas","fa-sort-alpha-down"],[1,"fas","fa-sort-alpha-up"],[1,"fas","fa-sort-numeric-down"],[1,"fas","fa-sort-numeric-up"],[1,"row","mb-0"],[1,"col-12"],[1,"active-ingredient-filter"],["type","text","placeholder","Type active ingredient...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["class","ingredient-tags mt-2",4,"ngIf"],[1,"ingredient-tags","mt-2"],["class","badge bg-light text-dark me-2 mb-2 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","me-2","mb-2","cursor-pointer",3,"click"],[1,"row"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"fas","fa-info-circle","me-2"],[1,"btn","btn-sm","btn-outline-primary","ms-auto",3,"click"],[1,"fas","fa-times","me-1"],[1,"empty-state","text-center"],[1,"empty-icon"],["class","fas fa-search fa-3x text-muted",4,"ngIf"],["class","fas fa-box-open fa-3x text-muted",4,"ngIf"],[4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"mt-3"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-redo","me-1"],[1,"fas","fa-search","fa-3x","text-muted"],[1,"fas","fa-box-open","fa-3x","text-muted"],[1,"text-muted"],[1,"btn","btn-primary","me-2",3,"click"],[1,"products-grid"],["class","col-xl-3 col-lg-4 col-md-6 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","mb-4"],[1,"product-card"],[1,"product-image",3,"routerLink"],["loading","lazy",1,"img-fluid",3,"src","alt"],[1,"product-info"],[1,"product-title",3,"routerLink"],[1,"text-danger-emphasis"],[1,"product-description"],[1,"price"],[1,"current-price"],[1,"product-footer"],[1,"btn","text-white","d-block","w-100","alt-btn",3,"routerLink"],[1,"fa-solid","fa-repeat"],[1,"btn","safeBtn","d-block","w-100","my-2",3,"routerLink"],[1,"fas","fa-warning"],[1,"btn","text-white","add-to-cart-btn","w-100",3,"click"],[1,"fas","fa-shopping-cart"],[1,"products-list"],["class","product-list-item",4,"ngFor","ngForOf"],[1,"product-list-item"],[1,"col-md-2","col-sm-3"],[1,"product-image-list",3,"routerLink"],[1,"col-md-6","col-sm-5"],[1,"product-title-list",3,"routerLink"],[1,"product-description-list"],[1,"active-ingredient"],[1,"col-md-4","col-sm-4","d-flex","flex-column","h-100"],[1,"product-footer-list","mt-auto"],[1,"price","mb-2"],[1,"btn","add-to-cart-btn","text-white","btn-sm","w-100",3,"click"],["aria-label","Products pagination",1,"pagination-nav"],[1,"pagination-container"],[1,"pagination-info","ms-4","mb-2"],[1,"text-muted","ms-2"],[1,"pagination-controls","ms-4"],[1,"pagination","mb-0"],[1,"page-item"],["title","First Page",1,"page-link",3,"click","disabled"],[1,"fas","fa-angle-double-left"],["title","Previous Page",1,"page-link",3,"click","disabled"],[1,"fas","fa-chevron-left"],["class","page-item",4,"ngIf"],["class","page-item disabled",4,"ngIf"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["title","Next Page",1,"page-link",3,"click","disabled"],[1,"fas","fa-chevron-right"],["title","Last Page",1,"page-link",3,"click","disabled"],[1,"fas","fa-angle-double-right"],[1,"page-jump","my-4","ms-4"],[1,"input-group","input-group-sm","w-25"],["type","number","placeholder","Page",1,"form-control","w-25",3,"keyup.enter","min","max"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"page-link",3,"click"],[1,"page-item","disabled"],[1,"page-link"],[1,"error-state","text-center"],[1,"error-icon"],[1,"fas","fa-exclamation-triangle","fa-3x","text-warning"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-redo"]],template:function(t,n){t&1&&(a(0,"section",1),_(1,Tl,4,0,"div",2)(2,lc,55,21,"div",3)(3,cc,10,0,"div",4),s()),t&2&&(c(),u("ngIf",n.isLoading),c(),u("ngIf",!n.isLoading),c(),u("ngIf",!n.isLoading&&n.productsData.length===0&&n.totalProducts===0))},dependencies:[$,te,K,jr,be,gt,fe,ae,le,ge,kn,to,$e,Ce],styles:[".products-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:3rem 0;margin-bottom:2rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin-bottom:0}.products-count[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.filters-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem 0;margin-bottom:2rem;border-radius:.5rem}.search-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013}.search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;padding:.75rem 1rem}.search-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border:linear-gradient(135deg,#667eea 0%,#19b896dc 100%);box-shadow:0 0 0 .2rem #0630ea40}.sort-controls[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .view-controls[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;display:block}.serchgrad[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:wheat}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}.btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);border:linear-gradient(135deg,#667eea 0%,#19b896dc 100%);color:#fff}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.25rem}.products-grid[_ngcontent-%COMP%]{margin-bottom:2rem}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 .125rem .25rem #00000013;overflow:hidden;transition:all .3s ease;height:100%;display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 .5rem 1rem #00000026}.product-image[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:250px;cursor:pointer}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.wishlist-btn[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;background:#ffffffe6;border:none;border-radius:50%;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center;color:#6c757d;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.wishlist-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#dc3545;transform:scale(1.1)}.wishlist-btn.active[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.product-info[_ngcontent-%COMP%]{padding:1.25rem;flex-grow:1;display:flex;flex-direction:column}.product-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.5rem;color:#333;text-decoration:none;cursor:pointer;transition:color .3s ease}.product-title[_ngcontent-%COMP%]:hover{color:#667eea}.product-description[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem;margin-bottom:.75rem;line-height:1.5}.product-rating[_ngcontent-%COMP%]{margin-bottom:1rem}.stars[_ngcontent-%COMP%]{color:#ffc107;margin-right:.5rem}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.125rem}.stars[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(.filled){color:#e9ecef}.rating-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.price[_ngcontent-%COMP%]{font-weight:700}.current-price[_ngcontent-%COMP%]{font-size:1.25rem;color:#28a745}.add-to-cart-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem;background:linear-gradient(135deg,#667eea,#19b896dc);border-color:#2d94ea}.alt-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem;background:linear-gradient(88deg,#19b896dc,#667eea);border-color:#2d94ea}.safeBtn[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem;background:linear-gradient(135deg,#f7f757,#f9f925);border-color:#f9f925;color:#000}.safeBtn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e4e423,#bcbc0c);border-color:#e4e423;transition:all .5s}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4462e7,#0a886ddc);border-color:#5a6fd9;transition:all .5s ease}.add-to-cart-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.products-list[_ngcontent-%COMP%]{margin-bottom:2rem}.product-list-item[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 .125rem .25rem #00000013;margin-bottom:1.5rem;padding:1.5rem;transition:all .3s ease}.product-list-item[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026}.product-image-list[_ngcontent-%COMP%]{cursor:pointer}.product-image-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:.5rem}.product-title-list[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#333;text-decoration:none;cursor:pointer;transition:color .3s ease}.product-title-list[_ngcontent-%COMP%]:hover{color:#667eea}.product-description-list[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem;margin-bottom:.75rem;line-height:1.5}.product-actions-list[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.5rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem}.pagination-nav[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:1px solid #e9ecef}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#667eea;border-color:#dee2e6;padding:.5rem .75rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{color:#5a6fd9;background-color:#e9ecef;border-color:#dee2e6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#667eea;border-color:#667eea;color:#fff}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;background-color:#fff;border-color:#dee2e6}.empty-state[_ngcontent-%COMP%]{padding:4rem 2rem}.empty-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:2rem}.error-state[_ngcontent-%COMP%]{padding:4rem 2rem}.error-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:2rem}@media (max-width: 768px){.products-header[_ngcontent-%COMP%]{padding:2rem 0;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:2rem}.filters-section[_ngcontent-%COMP%]{padding:1rem 0}.sort-controls[_ngcontent-%COMP%], .view-controls[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.product-image[_ngcontent-%COMP%]{height:200px}.product-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.add-to-cart-btn[_ngcontent-%COMP%]{width:100%}.product-actions-list[_ngcontent-%COMP%]{text-align:center!important;margin-top:1rem}}@media (max-width: 576px){.page-title[_ngcontent-%COMP%]{font-size:1.75rem}.filters-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1rem}.product-image[_ngcontent-%COMP%]{height:180px}.product-info[_ngcontent-%COMP%], .product-list-item[_ngcontent-%COMP%]{padding:1rem}.product-image-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(1rem)}to{opacity:1;transform:translateY(0)}}.product-card[_ngcontent-%COMP%], .product-list-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}*[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus, .page-link[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #193cd540}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .product-image-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.product-image[_ngcontent-%COMP%]   img[src][_ngcontent-%COMP%], .product-image-list[_ngcontent-%COMP%]   img[src][_ngcontent-%COMP%]{opacity:1}.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.product-footer[_ngcontent-%COMP%], .product-footer-list[_ngcontent-%COMP%]{margin-top:auto;display:flex;flex-direction:column;gap:.5rem}.active-ingredient-filter[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem;border-radius:.5rem;margin-bottom:1rem}.ingredient-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.ingredient-tags[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.5rem .75rem;font-weight:400;transition:all .2s ease}.ingredient-tags[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-2px)}.active-ingredient[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin-top:.5rem}.active-ingredient-filter[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem;border-radius:.5rem;margin-bottom:1rem;border:1px solid #dee2e6}.ingredient-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.ingredient-tags[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.5em .75em;font-weight:400;transition:all .2s ease;border:1px solid #dee2e6}.ingredient-tags[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-2px);box-shadow:0 2px 4px #0000001a}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.products-count[_ngcontent-%COMP%]{font-weight:500;color:#495057}"]})}}return i})();var dc=(i,r,e,t,n)=>({width:i,transform:r,transition:e,"padding-left":t,"padding-right":n}),pc=(i,r,e,t)=>({width:i,"margin-left":r,"margin-right":e,left:t}),mc=(i,r)=>({$implicit:i,index:r});function uc(i,r){}function gc(i,r){if(i&1&&_(0,uc,0,0,"ng-template",4),i&2){let e=h(),t=e.$implicit,n=e.index,o=h();u("ngTemplateOutlet",t.tplRef)("ngTemplateOutletContext",oe(2,mc,o.preparePublicSlide(t),n))}}function fc(i,r){if(i&1){let e=T();Vt(0),a(1,"div",2),v("animationend",function(){let n=P(e).$implicit,o=h();return w(o.clear(n.id))}),_(2,gc,1,5,null,3),s(),jt()}if(i&2){let e=r.$implicit;c(),u("ngClass",e.classes)("ngStyle",Ar(4,pc,e.width+"px",e.marginL?e.marginL+"px":"",e.marginR?e.marginR+"px":"",e.left))("@autoHeight",e.heightState),c(),u("ngIf",e.load)}}var hc=(i,r,e,t,n)=>({"owl-rtl":i,"owl-loaded":r,"owl-responsive":e,"owl-drag":t,"owl-grab":n}),_c=(i,r)=>({isMouseDragable:i,isTouchDragable:r}),Nn=i=>({disabled:i}),vc=(i,r)=>({active:i,"owl-dot-text":r});function xc(i,r){if(i&1&&(a(0,"div",4),f(1,"owl-stage",5),s()),i&2){let e=h();c(),u("owlDraggable",oe(3,_c,e.owlDOMData==null?null:e.owlDOMData.isMouseDragable,e.owlDOMData==null?null:e.owlDOMData.isTouchDragable))("stageData",e.stageData)("slidesData",e.slidesData)}}function bc(i,r){if(i&1){let e=T();a(0,"div",11),v("click",function(){let n=P(e).$implicit,o=h(2);return w(o.moveByDot(n.id))}),f(1,"span",12),s()}if(i&2){let e=r.$implicit;u("ngClass",oe(2,vc,e.active,e.showInnerContent)),c(),u("innerHTML",e.innerContent,Ue)}}function yc(i,r){if(i&1){let e=T();Vt(0),a(1,"div",6)(2,"div",7),v("click",function(){P(e);let n=h();return w(n.prev())}),s(),a(3,"div",8),v("click",function(){P(e);let n=h();return w(n.next())}),s()(),a(4,"div",9),_(5,bc,2,5,"div",10),s(),jt()}if(i&2){let e=h();c(),u("ngClass",pe(7,Nn,e.navData==null?null:e.navData.disabled)),c(),u("ngClass",pe(9,Nn,e.navData==null||e.navData.prev==null?null:e.navData.prev.disabled))("innerHTML",e.navData==null||e.navData.prev==null?null:e.navData.prev.htmlText,Ue),c(),u("ngClass",pe(11,Nn,e.navData==null||e.navData.next==null?null:e.navData.next.disabled))("innerHTML",e.navData==null||e.navData.next==null?null:e.navData.next.htmlText,Ue),c(),u("ngClass",pe(13,Nn,e.dotsData==null?null:e.dotsData.disabled)),c(),u("ngForOf",e.dotsData==null?null:e.dotsData.dots)}}var yi=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},Ci=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},Pi=(()=>{class i{errorHandler;constructor(e){this.errorHandler=e}log(e,...t){Rr()&&console.log(e,...t)}error(e){this.errorHandler.handleError(e)}warn(e,...t){console.warn(e,...t)}static \u0275fac=function(t){return new(t||i)(j(vr))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})();var Uo=function(i){return i.Event="event",i.State="state",i}(Uo||{}),Rn=function(i){return i.Default="default",i.Inner="inner",i.Outer="outer",i}(Rn||{});var ct=(()=>{class i{logger;_viewSettingsShipper$=new Q;_initializedCarousel$=new Q;_changeSettingsCarousel$=new Q;_changedSettingsCarousel$=new Q;_translateCarousel$=new Q;_translatedCarousel$=new Q;_resizeCarousel$=new Q;_resizedCarousel$=new Q;_refreshCarousel$=new Q;_refreshedCarousel$=new Q;_dragCarousel$=new Q;_draggedCarousel$=new Q;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:e=>{e.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:e=>{let t=this.settings.margin||"",n=!this.settings.autoWidth,o=this.settings.rtl,d={"margin-left":o?t:"","margin-right":o?"":t};n||this.slidesData.forEach(p=>{p.marginL=d["margin-left"],p.marginR=d["margin-right"]}),e.css=d}},{filter:["width","items","settings"],run:e=>{let t=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=!this.settings.autoWidth,o=[],d=null,p=this._items.length;for(e.items={merge:!1,width:t};p-- >0;)d=this._mergers[p],d=this.settings.mergeFit&&Math.min(d,this.settings.items)||d,e.items.merge=d>1||e.items.merge,o[p]=n?t*d:this._items[p].width?this._items[p].width:t;this._widths=o,this.slidesData.forEach((m,g)=>{m.width=this._widths[g],m.marginR=e.css["margin-right"],m.marginL=e.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let e=[],t=this._items,n=this.settings,o=Math.max(n.items*2,4),d=Math.ceil(t.length/2)*2,p=[],m=[],g=n.loop&&t.length?n.rewind?o:Math.max(o,d):0;for(g/=2;g-- >0;)e.push(this.normalize(e.length/2,!0)),p.push(q({},this.slidesData[e[e.length-1]])),e.push(this.normalize(t.length-1-(e.length-1)/2,!0)),m.unshift(q({},this.slidesData[e[e.length-1]]));this._clones=e,p=p.map(x=>(x.id=`${this.clonedIdPrefix}${x.id}`,x.isActive=!1,x.isCloned=!0,x)),m=m.map(x=>(x.id=`${this.clonedIdPrefix}${x.id}`,x.isActive=!1,x.isCloned=!0,x)),this.slidesData=m.concat(this.slidesData).concat(p)}},{filter:["width","items","settings"],run:()=>{let e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,n=[],o=-1,d=0,p=0;for(;++o<t;)d=n[o-1]||0,p=this._widths[this.relative(o)]+this.settings.margin,n.push(d+p*e);this._coordinates=n}},{filter:["width","items","settings"],run:()=>{let e=this.settings.stagePadding,t=this._coordinates,n={width:Math.ceil(Math.abs(t[t.length-1]))+e*2,"padding-left":e||"","padding-right":e||""};this.stageData.width=n.width,this.stageData.paddingL=n["padding-left"],this.stageData.paddingR=n["padding-right"]}},{filter:["width","items","settings"],run:e=>{let t=e.current?this.slidesData.findIndex(n=>n.id===e.current):0;t=Math.max(this.minimum(),Math.min(this.maximum(),t)),this.reset(t)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let e=this.settings.rtl?1:-1,t=this.settings.stagePadding*2,n=[],o,d,p,m,g,x;if(o=this.coordinates(this.current()),typeof o=="number"?o+=t:o=0,d=o+this.width()*e,e===-1&&this.settings.center){let b=this._coordinates.filter(F=>this.settings.items%2===1?F>=o:F>o);o=b.length?b[b.length-1]:o}for(g=0,x=this._coordinates.length;g<x;g++)p=Math.ceil(this._coordinates[g-1]||0),m=Math.ceil(Math.abs(this._coordinates[g])+t*e),(this._op(p,"<=",o)&&this._op(p,">",d)||this._op(m,"<",o)&&this._op(m,">",d))&&n.push(g);this.slidesData.forEach(b=>(b.isActive=!1,b)),n.forEach(b=>{this.slidesData[b].isActive=!0}),this.settings.center&&(this.slidesData.forEach(b=>(b.isCentered=!1,b)),this.slidesData[this.current()].isCentered=!0)}}];constructor(e){this.logger=e}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(e){let t=new yi,n=this._validateOptions(e,t);this._options=q(q({},t),n)}_validateOptions(e,t){let n=q({},e),o=new Ci,d=(p,m)=>(this.logger.log(`options.${m} must be type of ${p}; ${m}=${e[m]} skipped to defaults: ${m}=${t[m]}`),t[m]);for(let p in n)if(n.hasOwnProperty(p)){if(o[p]==="number")this._isNumeric(n[p])?(n[p]=+n[p],n[p]=p==="items"?this._validateItems(n[p],n.skip_validateItems):n[p]):n[p]=d(o[p],p);else if(o[p]==="boolean"&&typeof n[p]!="boolean")n[p]=d(o[p],p);else if(o[p]==="number|boolean"&&!this._isNumberOrBoolean(n[p]))n[p]=d(o[p],p);else if(o[p]==="number|string"&&!this._isNumberOrString(n[p]))n[p]=d(o[p],p);else if(o[p]==="string|boolean"&&!this._isStringOrBoolean(n[p]))n[p]=d(o[p],p);else if(o[p]==="string[]")if(Array.isArray(n[p])){let m=!1;n[p].forEach(g=>{m=typeof g=="string"}),m||(n[p]=d(o[p],p))}else n[p]=d(o[p],p)}return n}_validateItems(e,t){let n=e;return e>this._items.length?t?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(n=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):e===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),n}setCarouselWidth(e){this._width=e}setup(e,t,n){this.setCarouselWidth(e),this.setItems(t),this._defineSlidesData(),this.setOptions(n),this.settings=q({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let e=this._width,t=this._options.responsive,n=-1;if(!Object.keys(t).length)return;if(!e){this.settings.items=1;return}for(let d in t)t.hasOwnProperty(d)&&+d<=e&&+d>n&&(n=Number(d));this.settings=Re(q(q({},this._options),t[n]),{items:t[n]&&t[n].items?this._validateItems(t[n].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let o=[];this._items.forEach(d=>{let p=this.settings.merge?d.dataMerge:1;o.push(p)}),this._mergers=o,this._breakpoint=n,this.invalidate("settings")}initialize(e){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),e.forEach(t=>{let n=this.settings.merge?t.dataMerge:1;this._mergers.push(n)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let e=0,t=this._pipe.length,n=d=>this._invalidated[d],o={};for(;e<t;){let d=this._pipe[e].filter.filter(n);(this._invalidated.all||d.length>0)&&this._pipe[e].run(o),e++}this.slidesData.forEach(d=>d.classes=this.setCurSlideClasses(d)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(e){switch(e=e||Rn.Default,e){case Rn.Inner:case Rn.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(e){if(!this._items.length)return!1;this.setCarouselWidth(e),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(e){let t=null,n;return n=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),t={x:+n[0],y:+n[1]},this.is("animating")&&this.invalidate("position"),e.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),t}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(e,t){let n=null,o=null,d=null,p=this.difference(t.pointer,this.pointer(e)),m=this.difference(t.stage.start,p);return this.is("dragging")?(this.settings.loop?(n=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-n,m.x=((m.x-n)%o+o)%o+n):(n=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),o=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*p.x/5:0,m.x=Math.max(Math.min(m.x,n+d),o+d)),m):!1}finishDragging(e,t,n){let o=["right","left"],d=this.difference(t.pointer,this.pointer(e)),p=t.stage.current,m=o[+(this.settings.rtl?d.x<+this.settings.rtl:d.x>+this.settings.rtl)],g,x,b;(d.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),g=this.closest(p.x,d.x!==0?m:t.direction),x=this.current(),b=this.current(g===-1?void 0:g),x!==b&&(this.invalidate("position"),this.update()),t.direction=m,(Math.abs(d.x)>3||new Date().getTime()-t.time>300)&&n()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(e,t){let o=this.width(),d=this.coordinates(),p=-1;this.settings.center&&(d=d.map(m=>(m===0&&(m+=1e-6),m)));for(let m=0;m<d.length&&(t==="left"&&e>d[m]-30&&e<d[m]+30?p=m:t==="right"&&e>d[m]-o-30&&e<d[m]-o+30?p=m+1:this._op(e,"<",d[m])&&this._op(e,">",d[m+1]||d[m]-o)?p=t==="left"?m+1:m:t===null&&e>d[m]-30&&e<d[m]+30&&(p=m),p===-1);m++);return this.settings.loop||(this._op(e,">",d[this.minimum()])?p=e=this.minimum():this._op(e,"<",d[this.maximum()])&&(p=e=this.maximum())),p}animate(e){let t=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),t&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+e+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(e){return this._states.current[e]&&this._states.current[e]>0}current(e){if(e===void 0)return this._current;if(this._items.length!==0){if(e=this.normalize(e),this._current!==e){let t=this._trigger("change",{property:{name:"position",value:e}});this._current=e,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(e){return typeof e=="string"&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(e){e=this.normalize(e),e!==void 0&&(this._speed=0,this._current=e,this._suppress(["translate","translated"]),this.animate(this.coordinates(e)),this._release(["translate","translated"]))}normalize(e,t){let n=this._items.length,o=t?0:this._clones.length;return!this._isNumeric(e)||n<1?e=void 0:(e<0||e>=n+o)&&(e=((e-o/2)%n+n)%n+o/2),e}relative(e){return e-=this._clones.length/2,this.normalize(e,!0)}maximum(e=!1){let t=this.settings,n=this._coordinates.length,o,d,p;if(t.loop)n=this._clones.length/2+this._items.length-1;else if(t.autoWidth||t.merge){for(o=this._items.length,d=this.slidesData[--o].width,p=this._width;o-- >0&&(d+=+this.slidesData[o].width+this.settings.margin,!(d>p)););n=o+1}else t.center?n=this._items.length-1:n=this._items.length-t.items;return e&&(n-=this._clones.length/2),Math.max(n,0)}minimum(e=!1){return e?0:this._clones.length/2}items(e){return e===void 0?this._items.slice():(e=this.normalize(e,!0),[this._items[e]])}mergers(e){return e===void 0?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])}clones(e){let t=this._clones.length/2,n=t+this._items.length,o=d=>d%2===0?n+d/2:t-(d+1)/2;return e===void 0?this._clones.map((d,p)=>o(p)):this._clones.map((d,p)=>d===e?o(p):null).filter(d=>d)}speed(e){return e!==void 0&&(this._speed=e),this._speed}coordinates(e){let t=1,n=e-1,o,d;return e===void 0?(d=this._coordinates.map((p,m)=>this.coordinates(m)),d):(this.settings.center?(this.settings.rtl&&(t=-1,n=e+1),o=this._coordinates[e],o+=(this.width()-o+(this._coordinates[n]||0))/2*t):o=this._coordinates[n]||0,o=Math.ceil(o),o)}_duration(e,t,n){return n===0?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(+n||this.settings.smartSpeed)}to(e,t){let n=this.current(),o=null,d=e-this.relative(n),p=this.maximum(),m=0,g=+(d>0)-+(d<0),x=this._items.length,b=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(d)>x/2&&(d+=g*-1*x),e=n+d,o=((e-b)%x+x)%x+b,o!==e&&o-d<=p&&o-d>0&&(n=o-d,e=o,m=30,this.reset(n),this.sendChanges())):this.settings.rewind?(p+=1,e=(e%p+p)%p):e=Math.max(b,Math.min(p,e)),setTimeout(()=>{this.speed(this._duration(n,e,t)),this.current(e),this.update()},m)}next(e){e=e||!1,this.to(this.relative(this.current())+1,e)}prev(e){e=e||!1,this.to(this.relative(this.current())-1,e)}onTransitionEnd(e){if(e!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let e;return this._width?e=this._width:this.logger.log("Can not detect viewport width."),e}setItems(e){this._items=e}_defineSlidesData(){let e;this.slidesData&&this.slidesData.length&&(e=new Map,this.slidesData.forEach(t=>{t.load&&e.set(t.id,t.load)})),this.slidesData=this._items.map(t=>({id:`${t.id}`,isActive:!1,tplRef:t.tplRef,dataMerge:t.dataMerge,width:0,isCloned:!1,load:e?e.get(t.id):!1,hashFragment:t.dataHash}))}setCurSlideClasses(e){let t={active:e.isActive,center:e.isCentered,cloned:e.isCloned,animated:e.isAnimated,"owl-animated-in":e.isDefAnimatedIn,"owl-animated-out":e.isDefAnimatedOut};return this.settings.animateIn&&(t[this.settings.animateIn]=e.isCustomAnimatedIn),this.settings.animateOut&&(t[this.settings.animateOut]=e.isCustomAnimatedOut),t}_op(e,t,n){let o=this.settings.rtl;switch(t){case"<":return o?e>n:e<n;case">":return o?e<n:e>n;case">=":return o?e<=n:e>=n;case"<=":return o?e>=n:e<=n;default:break}}_trigger(e,t,n,o,d){switch(e){case"initialized":this._initializedCarousel$.next(e);break;case"change":this._changeSettingsCarousel$.next(t);break;case"changed":this._changedSettingsCarousel$.next(t);break;case"drag":this._dragCarousel$.next(e);break;case"dragged":this._draggedCarousel$.next(e);break;case"resize":this._resizeCarousel$.next(e);break;case"resized":this._resizedCarousel$.next(e);break;case"refresh":this._refreshCarousel$.next(e);break;case"refreshed":this._refreshedCarousel$.next(e);break;case"translate":this._translateCarousel$.next(e);break;case"translated":this._translatedCarousel$.next(e);break;default:break}}enter(e){[e].concat(this._states.tags[e]||[]).forEach(t=>{this._states.current[t]===void 0&&(this._states.current[t]=0),this._states.current[t]++})}leave(e){[e].concat(this._states.tags[e]||[]).forEach(t=>{(this._states.current[t]===0||this._states.current[t])&&this._states.current[t]--})}register(e){e.type===Uo.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=this._states.tags[e.name].filter((t,n)=>this._states.tags[e.name].indexOf(t)===n))}_suppress(e){e.forEach(t=>{this._supress[t]=!0})}_release(e){e.forEach(t=>{delete this._supress[t]})}pointer(e){let t={x:null,y:null};return e=e.originalEvent||e||window.event,e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e.pageX?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX,t.y=e.clientY),t}_isNumeric(e){return!isNaN(parseFloat(e))}_isNumberOrBoolean(e){return this._isNumeric(e)||typeof e=="boolean"}_isNumberOrString(e){return this._isNumeric(e)||typeof e=="string"}_isStringOrBoolean(e){return typeof e=="string"||typeof e=="boolean"}difference(e,t){return e===null||t===null?{x:0,y:0}:{x:e.x-t.x,y:e.y-t.y}}static \u0275fac=function(t){return new(t||i)(j(Pi))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),jo=(()=>{class i{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Y(d=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),t=this.carouselService.getChangedState().pipe(Ke(d=>d.property.name==="position"),Y(d=>{this.update()})),n=this.carouselService.getRefreshedState().pipe(Y(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=Ye(e,t,n);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let e,t,n,o=this.carouselService.clones().length/2,d=o+this.carouselService.items().length,p=this.carouselService.maximum(!0),m=[],g=this.carouselService.settings,x=g.center||g.autoWidth||g.dotsData?1:Math.floor(Number(g.dotsEach))||Math.floor(g.items);if(x=+x,g.slideBy!=="page"&&(g.slideBy=Math.min(+g.slideBy,g.items)),g.dots||g.slideBy==="page")for(e=o,t=0,n=0;e<d;e++){if(t>=x||t===0){if(m.push({start:Math.min(p,e-o),end:e-o+x-1}),Math.min(p,e-o)===p)break;t=0,++n}t+=this.carouselService.mergers(this.carouselService.relative(e))}this._pages=m}draw(){let e,t=this.carouselService.settings,n=this.carouselService.items(),o=n.length<=t.items;if(this._navData.disabled=!t.nav||o,this._dotsData.disabled=!t.dots||o,t.dots)if(e=this._pages.length-this._dotsData.dots.length,t.dotsData&&e!==0)this._dotsData.dots=[],n.forEach(d=>{this._dotsData.dots.push({active:!1,id:`dot-${d.id}`,innerContent:d.dotContent,showInnerContent:!0})});else if(e>0){let d=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let p=0;p<e;p++)this._dotsData.dots.push({active:!1,id:`dot-${p+d}`,innerContent:"",showInnerContent:!1})}else e<0&&this._dotsData.dots.splice(e,Math.abs(e));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let e=this.carouselService.settings,t=e.loop||e.rewind,n=this.carouselService.relative(this.carouselService.current());e.nav&&(this._navData.prev.disabled=!t&&n<=this.carouselService.minimum(!0),this._navData.next.disabled=!t&&n>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let e;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(t=>{t.active===!0&&(t.active=!1)}),e=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[e].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let e=this.carouselService.relative(this.carouselService.current()),t,n=this._pages.filter((o,d)=>o.start<=e&&o.end>=e).pop();return t=this._pages.findIndex(o=>o.start===n.start&&o.end===n.end),t}_getPosition(e){let t,n,o=this.carouselService.settings;return o.slideBy==="page"?(t=this._current(),n=this._pages.length,e?++t:--t,t=this._pages[(t%n+n)%n].start):(t=this.carouselService.relative(this.carouselService.current()),n=this.carouselService.items().length,e?t+=+o.slideBy:t-=+o.slideBy),t}next(e){this.carouselService.to(this._getPosition(!0),e)}prev(e){this.carouselService.to(this._getPosition(!1),e)}to(e,t,n){let o;!n&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(e%o+o)%o].start,t)):this.carouselService.to(e,t)}moveByDot(e){let t=this._dotsData.dots.findIndex(n=>e===n.id);this.to(t,this.carouselService.settings.dotsSpeed)}toSlideById(e){let t=this.carouselService.slidesData.findIndex(n=>n.id===e&&n.isCloned===!1);t===-1||t===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(t),!1)}static \u0275fac=function(t){return new(t||i)(j(ct))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),wi=new Ct("WindowToken"),nn=class{get nativeWindow(){throw new Error("Not implemented.")}},Cc=(()=>{class i extends nn{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})();function Sc(i,r){return $t(r)?i.nativeWindow:{setTimeout:(t,n)=>{},clearTimeout:t=>{}}}var Pc={provide:nn,useClass:Cc},wc={provide:wi,useFactory:Sc,deps:[nn,Lt]},Mc=[Pc,wc],zn=new Ct("DocumentToken"),rn=class{get nativeDocument(){throw new Error("Not implemented.")}},Oc=(()=>{class i extends rn{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})();function Ec(i,r){return $t(r)?i.nativeDocument:{hidden:!1,visibilityState:"visible"}}var Tc={provide:rn,useClass:Oc},kc={provide:zn,useFactory:Ec,deps:[rn,Lt]},Ic=[Tc,kc],Bo=(()=>{class i{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(e){this._isAutoplayStopped=e}winRef;docRef;constructor(e,t,n,o){this.carouselService=e,this.ngZone=o,this.winRef=t,this.docRef=n,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Y(()=>{this.carouselService.settings.autoplay&&this.play()})),t=this.carouselService.getChangedState().pipe(Y(d=>{this._handleChangeObservable(d)})),n=this.carouselService.getResizedState().pipe(Y(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=Ye(e,t,n);this.autoplaySubscription=o.subscribe(()=>{})}play(e,t){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(e,t){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!e,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(t||this.carouselService.settings.autoplaySpeed)})},e||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(e){this._timeout=this._getNextTimeout(e)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(e){e.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():e.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){bt("translated").pipe(Nt(e=>this.carouselService.getTranslatedState()),hn(),Ke(()=>this._isArtificialAutoplayTimeout),Y(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(t){return new(t||i)(j(ct),j(wi),j(zn),j(mt))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),Ho=(()=>{class i{carouselService;lazyLoadSubscription;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Y(()=>{let d=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(p=>p.load=!!d)})),t=this.carouselService.getChangeState(),n=this.carouselService.getResizedState(),o=Ye(e,t,n).pipe(Y(d=>this._defineLazyLoadSlides(d)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(e){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(e.property&&e.property.name==="position"||e==="initialized"||e==="resized")){let t=this.carouselService.settings,n=this.carouselService.clones().length,o=t.center&&Math.ceil(t.items/2)||t.items,d=t.center&&o*-1||0,p=(e.property&&e.property.value!==void 0?e.property.value:this.carouselService.current())+d;for(t.lazyLoadEager>0&&(o+=t.lazyLoadEager,t.loop&&(p-=t.lazyLoadEager,o++));d++<o;)this._load(n/2+this.carouselService.relative(p)),n&&this.carouselService.clones(this.carouselService.relative(p)).forEach(m=>this._load(m)),p++}}_load(e){this.carouselService.slidesData[e].load||(this.carouselService.slidesData[e].load=!0)}static \u0275fac=function(t){return new(t||i)(j(ct))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),Si=(()=>{class i{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getChangeState().pipe(Y(g=>{g.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=g.property.value)})),t=this.carouselService.getDragState(),n=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),d=Ye(t,n,o).pipe(Y(g=>this.swapping=g==="translated")),p=this.carouselService.getTranslateState().pipe(Y(g=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),m=Ye(e,p,d).pipe();this.animateSubscription=m.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let e,t=this.carouselService.slidesData[this.previous],n=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,d=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(d&&(e=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(p=>{p.id===t.id&&(p.left=`${e}px`,p.isAnimated=!0,p.isDefAnimatedOut=!0,p.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(p=>{p.id===n.id&&(p.isAnimated=!0,p.isDefAnimatedIn=!0,p.isCustomAnimatedIn=!0)}))}clear(e){this.carouselService.slidesData.forEach(t=>{t.id===e&&(t.left="",t.isAnimated=!1,t.isDefAnimatedOut=!1,t.isCustomAnimatedOut=!1,t.isDefAnimatedIn=!1,t.isCustomAnimatedIn=!1,t.classes=this.carouselService.setCurSlideClasses(t))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(t){return new(t||i)(j(ct))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),$o=(()=>{class i{carouselService;autoHeightSubscription;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Y(d=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(p=>p.heightState="full")})),t=this.carouselService.getChangedState().pipe(Y(d=>{this.carouselService.settings.autoHeight&&d.property.name==="position"&&this.update()})),n=this.carouselService.getRefreshedState().pipe(Y(d=>{this.carouselService.settings.autoHeight&&this.update()})),o=Ye(e,t,n);this.autoHeightSubscription=o.subscribe(()=>{})}update(){let e=this.carouselService.settings.items,t=this.carouselService.current(),n=t+e;this.carouselService.settings.center&&(t=e%2===1?t-(e-1)/2:t-e/2,n=e%2===1?t+e:t+e+1),this.carouselService.slidesData.forEach((o,d)=>{o.heightState=d>=t&&d<n?"full":"nulled"})}static \u0275fac=function(t){return new(t||i)(j(ct))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),qo=(()=>{class i{carouselService;route;router;hashSubscription;currentHashFragment;constructor(e,t,n){this.carouselService=e,this.route=t,this.router=n,this.spyDataStreams(),this.route||(this.route={fragment:bt("no route").pipe(ri(1))}),this.router||(this.router={navigate:(o,d)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Y(()=>this.listenToRoute())),t=this.carouselService.getChangedState().pipe(Y(o=>{if(this.carouselService.settings.URLhashListener&&o.property.name==="position"){let d=this.carouselService.current(),p=this.carouselService.slidesData[d].hashFragment;if(!p||p===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:p,relativeTo:this.route})}})),n=Ye(e,t);this.hashSubscription=n.subscribe(()=>{})}rewind(e){let t=this.carouselService.slidesData.findIndex(n=>n.hashFragment===e&&n.isCloned===!1);t===-1||t===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(t),!1)}listenToRoute(){let e=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(oi(e)).subscribe(t=>{this.currentHashFragment=t,this.rewind(t)})}static \u0275fac=function(t){return new(t||i)(j(ct),j(ye,8),j(B,8))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),Dc=0,Mi=(()=>{class i{tplRef;id=`owl-slide-${Dc++}`;_dataMerge=1;set dataMerge(e){this._dataMerge=this.isNumeric(e)?e:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(e){this.tplRef=e}isNumeric(e){return!isNaN(parseFloat(e))}static \u0275fac=function(t){return new(t||i)(y(br))};static \u0275dir=si({type:i,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return i})(),Go=(()=>{class i{resizeObservable$;docRef;get onResize$(){return this.resizeObservable$.pipe(Ke(()=>!this.docRef?.fullscreenElement))}constructor(e,t,n){this.docRef=t,this.resizeObservable$=$t(n)?pr(e,"resize"):new Q().asObservable()}static \u0275fac=function(t){return new(t||i)(j(wi),j(zn),j(Lt))};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),Ac=(()=>{class i{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new Q;_oneMoveSubsription;preparePublicSlide=e=>{let t=q({},e);return delete t.tplRef,t};constructor(e,t,n,o,d){this.zone=e,this.el=t,this.renderer=n,this.carouselService=o,this.animateService=d}onMouseDown(e){this.owlDraggable.isMouseDragable&&this._onDragStart(e)}onTouchStart(e){if(e.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(e)}onTouchCancel(e){this._onDragEnd(e)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(hn()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=e=>{this._oneMouseTouchMove(e)};bindOnDragMove=e=>{this._onDragMove(e)};bindOnDragEnd=e=>{this._onDragEnd(e)};_onDragStart(e){let t=null;e.which!==3&&(t=this._prepareDragging(e),this._drag.time=new Date().getTime(),this._drag.target=e.target,this._drag.stage.start=t,this._drag.stage.current=t,this._drag.pointer=this._pointer(e),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(e){let t=this._difference(this._drag.pointer,this._pointer(e));this.listenerATag&&this.listenerATag(),!(Math.abs(t.x)<3&&Math.abs(t.y)<3&&this._is("valid"))&&(Math.abs(t.x)<3&&Math.abs(t.x)<Math.abs(t.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(e),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),e.preventDefault(),this._enterDragging(),this._oneDragMove$.next(e)))}blockClickAnchorInDragging(e){let t=e.target;for(;t&&!(t instanceof HTMLAnchorElement);)t=t.parentElement;t instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(t,"click",()=>!1))}_onDragMove(e){let t,n=this.carouselService.defineNewCoordsDrag(e,this._drag);n!==!1&&(t=n,e.preventDefault(),this._drag.stage.current=t,this._animate(t.x-this._drag.stage.start.x))}_animate(e){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${e}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(e){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(e),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(e){return this.carouselService.prepareDragging(e)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(e){this.carouselService.finishDragging(e,this._drag,this._oneClickHandler)}_pointer(e){return this.carouselService.pointer(e)}_difference(e,t){return this.carouselService.difference(e,t)}_is(e){return this.carouselService.is(e)}_enter(e){this.carouselService.enter(e)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(e){this.animateService.clear(e)}static \u0275fac=function(t){return new(t||i)(y(mt),y(Rt),y(Pr),y(ct),y(Si))};static \u0275cmp=M({type:i,selectors:[["owl-stage"]],hostBindings:function(t,n){t&1&&v("mousedown",function(d){return n.onMouseDown(d)})("touchstart",function(d){return n.onTouchStart(d)})("touchcancel",function(d){return n.onTouchCancel(d)})("dragstart",function(){return n.onDragStart()})("selectstart",function(){return n.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){t&1&&(a(0,"div")(1,"div",0),v("transitionend",function(){return n.onTransitionEnd()}),_(2,fc,3,9,"ng-container",1),s()()),t&2&&(c(),u("ngStyle",ci(2,dc,n.stageData.width+"px",n.stageData.transform,n.stageData.transition,n.stageData.paddingL?n.stageData.paddingL+"px":"",n.stageData.paddingR?n.stageData.paddingR+"px":"")),c(),u("ngForOf",n.slidesData))},dependencies:[ve,te,K,Lr,zr],encapsulation:2,data:{animation:[Wt("autoHeight",[st("nulled",Fe({height:0})),st("full",Fe({height:"*"})),at("full => nulled",[ot("700ms 350ms")]),at("nulled => full",[ot(350)])])]}})}return i})(),Wo=(()=>{class i{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new zt;dragging=new zt;change=new zt;changed=new zt;initialized=new zt;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(e,t,n,o,d,p,m,g,x,b,F,z){this.el=e,this.resizeService=t,this.carouselService=n,this.navigationService=o,this.autoplayService=d,this.lazyLoadService=p,this.animateService=m,this.autoHeightService=g,this.hashService=x,this.logger=b,this.changeDetectorRef=F,this.docRef=z}onVisibilityChange(e){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(Y(e=>{this.carouselService.setup(this.carouselWindowWidth,e.toArray(),this.options),this.carouselService.initialize(e.toArray()),e.toArray().length||(this.carouselLoaded=!1),e.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(Y(e=>{this.owlDOMData=e.owlDOMData,this.stageData=e.stageData,this.slidesData=e.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=e.navData,this.dotsData=e.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(Y(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(Y(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(Y(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Nt(e=>{let t=bt(e).pipe(Ke(()=>e.property.name==="position"),Nt(()=>dr(this.slidesData)),oi(e.property.value),ri(this.carouselService.settings.items),fn(n=>{let o=this.carouselService.clonedIdPrefix,d=n.id.indexOf(o)>=0?n.id.slice(o.length):n.id;return Re(q({},n),{id:d,isActive:!0})}),mr(),fn(n=>({slides:n,startPosition:this.carouselService.relative(e.property.value)})));return Ye(t)}),Y(e=>{this.gatherTranslatedData(),this.changed.emit(e.slides.length?e:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(Y(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Nt(()=>this.carouselService.getDraggedState().pipe(fn(()=>!!this.carouselService.is("animating")))),Nt(e=>e?this.carouselService.getTranslatedState().pipe(hn()):bt("not animating")),Y(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=Ye(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(Ke(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),gr(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(e){this.carouselLoaded&&this.navigationService.moveByDot(e)}to(e){this.carouselLoaded&&this.navigationService.toSlideById(e)}gatherTranslatedData(){let e,t=this.carouselService.clonedIdPrefix,n=this.slidesData.filter(o=>o.isActive===!0).map(o=>({id:o.id.indexOf(t)>=0?o.id.slice(t.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));e=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:e,slides:n}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(t){return new(t||i)(y(Rt),y(Go),y(ct),y(jo),y(Bo),y(Ho),y(Si),y($o),y(qo),y(Pi),y(Mn),y(zn))};static \u0275cmp=M({type:i,selectors:[["owl-carousel-o"]],contentQueries:function(t,n,o){if(t&1&&Ir(o,Mi,4),t&2){let d;Bt(d=Ht())&&(n.slides=d)}},hostBindings:function(t,n){t&1&&v("visibilitychange",function(d){return n.onVisibilityChange(d)},!1,yn)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[Dr([jo,Bo,ct,Ho,Si,$o,qo]),_n],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(t,n){if(t&1){let o=T();a(0,"div",1,0),v("mouseover",function(){return P(o),w(n.startPausing())})("mouseleave",function(){return P(o),w(n.startPlayML())})("touchstart",function(){return P(o),w(n.startPausing())})("touchend",function(){return P(o),w(n.startPlayTE())}),_(2,xc,2,6,"div",2)(3,yc,6,15,"ng-container",3),s()}t&2&&(u("ngClass",ci(3,hc,n.owlDOMData==null?null:n.owlDOMData.rtl,n.owlDOMData==null?null:n.owlDOMData.isLoaded,n.owlDOMData==null?null:n.owlDOMData.isResponsive,n.owlDOMData==null?null:n.owlDOMData.isMouseDragable,n.owlDOMData==null?null:n.owlDOMData.isGrab)),c(2),u("ngIf",n.carouselLoaded),c(),u("ngIf",n.slides.toArray().length))},dependencies:[ve,te,K,Ac],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return i})();var Ln=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=St({type:i});static \u0275inj=yt({providers:[Mc,Go,Ic,Pi],imports:[$]})}return i})();function Nc(i,r){if(i&1){let e=T();a(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),f(6,"img",7),s()()(),a(7,"div",4)(8,"div",8)(9,"h1",9),l(10),s(),a(11,"p",10),l(12),s(),a(13,"div",11)(14,"h6",12),l(15),s()(),a(16,"div",13)(17,"span",14),l(18),U(19,"currency"),s()(),a(20,"div",15)(21,"div",16),f(22,"i",17),a(23,"span"),l(24,"Quality Guaranteed"),s()(),a(25,"div",16),f(26,"i",18),a(27,"span"),l(28,"Free Delivery"),s()(),a(29,"div",16),f(30,"i",19),a(31,"span"),l(32,"Easy Returns"),s()()(),a(33,"div",20)(34,"div",21)(35,"button",22),v("click",function(){P(e);let n=h();return w(n.addToCart(n.detailsData.id))}),f(36,"i",23),l(37," Add to Cart "),s()()(),a(38,"div",24)(39,"div",25)(40,"strong"),l(41,"Availability:"),s(),a(42,"span",26),l(43,"In Stock"),s()()()()()()()()}if(i&2){let e=h();c(6),u("src",e.detailsData.pictureUrl,ee)("alt",e.detailsData.name),c(4),C(e.detailsData.name),c(2),C(e.detailsData.description),c(3),C(e.detailsData.activeIngredient),c(3),C(J(19,6,e.detailsData.price,"EGP"))}}var Qo=(()=>{class i{constructor(e,t){this._productService=e,this._spinnerService=t,this._activatedRoute=Z(ye),this._toastrService=Z(Le),this._NgxSpinnerService=Z(lt),this._CartService=Z(tt),this._ToastrService=Z(Le),this._destroy$=new Q,this.productId=null,this.detailsData=null,this.quantity=1,this.isLoading=!1,this.wishlistIds=[]}ngOnInit(){this.getProductIdFromRoute()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}getProductIdFromRoute(){this._activatedRoute.paramMap.pipe(Ze(this._destroy$)).subscribe({next:e=>{this.productId=e.get("PId"),this.productId?this.getProductDetails():this._toastrService.error("Product ID not found","Error")},error:e=>{console.error("Error getting route parameters:",e),this._toastrService.error("Failed to load product","Error")}})}getProductDetails(){this.productId&&(this.isLoading=!0,this._spinnerService.show(),this._productService.getProductDetails(this.productId).pipe(Ze(this._destroy$)).subscribe({next:e=>{this.detailsData=e,this.isLoading=!1,this._spinnerService.hide(),console.log("Product details loaded:",e)},error:e=>{console.error("Error fetching product details:",e),this.isLoading=!1,this._spinnerService.hide(),this._toastrService.error("Failed to load product details","Error")}}))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}updateQuantity(e){let t=e.target,n=parseInt(t.value);n>=1?this.quantity=n:(this.quantity=1,t.value="1")}getRatingStars(e=5){return Array(5).fill(!1).map((t,n)=>n<e)}shareProduct(){this.detailsData&&(navigator.share?navigator.share({title:this.detailsData.name,text:this.detailsData.description,url:window.location.href}):navigator.clipboard.writeText(window.location.href).then(()=>{this._toastrService.success("Product link copied to clipboard","Success")}).catch(()=>{this._toastrService.error("Failed to copy link","Error")}))}addToCart(e){this.productSub=this._CartService.addProductToCart(e).subscribe({next:t=>{this._ToastrService.success("Product added to cart successfully","Success"),console.log("Cart updated:",t.items)},error:t=>{this._ToastrService.error(t.error?.message||"Failed to add product to cart","Error"),console.error("Error adding to cart:",t)}})}static{this.\u0275fac=function(t){return new(t||i)(y(Fn),y(lt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-specfic-product"]],standalone:!0,features:[O],decls:2,vars:1,consts:[[1,"ms-5"],[1,"product-details-section","py-5"],[1,"container"],[1,"row","g-4"],[1,"col-lg-6","col-md-6"],[1,"product-gallery"],[1,"main-image-container"],[1,"product-image",3,"src","alt"],[1,"product-info"],[1,"product-title"],[1,"product-description"],[1,"product-rating","mb-3"],[1,"text-danger-emphasis"],[1,"price-section","mb-4"],[1,"current-price"],[1,"product-features","mb-4"],[1,"feature-item"],[1,"fas","fa-shield-alt","text-success"],[1,"fas","fa-truck","text-primary"],[1,"fas","fa-undo","text-warning"],[1,"purchase-section"],[1,"action-buttons"],[1,"btn","btn-primary","btn-add-cart",3,"click"],[1,"fas","fa-shopping-cart","me-2"],[1,"additional-info","mt-4"],[1,"info-item"],[1,"badge","bg-success"]],template:function(t,n){t&1&&(a(0,"section",0),_(1,Nc,44,9,"section",1),s()),t&2&&(c(),R(1,n.detailsData?1:-1))},dependencies:[Ln,be],styles:[".product-details-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);min-height:100vh}.product-gallery[_ngcontent-%COMP%]{position:relative}.main-image-container[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 10px 30px #0000001a;overflow:hidden;transition:all .3s ease}.main-image-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #00000026}.image-wrapper[_ngcontent-%COMP%]{position:relative;padding:20px;background:#fff}.product-image[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:cover;border-radius:10px;transition:transform .3s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.05)}.product-info[_ngcontent-%COMP%]{padding:20px;background:#fff;border-radius:15px;box-shadow:0 10px 30px #0000001a;height:fit-content}.product-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2c3e50;margin-bottom:15px;line-height:1.3}.product-description[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d;margin-bottom:20px;line-height:1.6}.product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.stars[_ngcontent-%COMP%]{display:flex;gap:2px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;font-size:1.2rem;transition:color .2s ease}.rating-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.price-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.current-price[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#28a745;text-shadow:0 2px 4px rgba(40,167,69,.2)}.original-price[_ngcontent-%COMP%]{font-size:1.2rem;color:#6c757d;text-decoration:line-through}.product-features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px 12px;background:#f8f9fa;border-radius:8px;transition:all .3s ease}.feature-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(5px)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.quantity-selector[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057}.quantity-input[_ngcontent-%COMP%]{max-width:150px}.quantity-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid #dee2e6;font-weight:600}.quantity-input[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:2px solid #dee2e6;width:45px;display:flex;align-items:center;justify-content:center}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.btn-add-cart[_ngcontent-%COMP%]{flex:1;padding:12px 24px;font-size:1.1rem;font-weight:600;border-radius:10px;background:linear-gradient(135deg,#667eea,#19b896dc);border:none;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px}.btn-add-cart[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #007bff4d;background:linear-gradient(135deg,#445bc2,#0d8d71dc)}.btn-wishlist[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;transition:all .3s ease}.btn-wishlist[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#dc3545;color:#fff;border-color:#dc3545}.additional-info[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;padding-top:20px}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f8f9fa}.info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057}@media (max-width: 768px){.product-title[_ngcontent-%COMP%], .current-price[_ngcontent-%COMP%]{font-size:1.5rem}.product-image[_ngcontent-%COMP%]{height:300px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.btn-add-cart[_ngcontent-%COMP%]{width:100%}.product-features[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.feature-item[_ngcontent-%COMP%]{flex:1;min-width:calc(50% - 5px)}}@media (max-width: 576px){.product-details-section[_ngcontent-%COMP%]{padding:20px 0}.product-info[_ngcontent-%COMP%]{margin-top:20px}.feature-item[_ngcontent-%COMP%]{min-width:100%}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.product-details-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.product-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;justify-content:space-between;padding:0 20px}.product-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#00000080!important;color:#fff!important;border-radius:50%!important;width:40px!important;height:40px!important;display:flex!important;align-items:center!important;justify-content:center!important;transition:all .3s ease!important}.product-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#000c!important;transform:scale(1.1)!important}.product-carousel[_ngcontent-%COMP%]   .owl-dots[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-carousel[_ngcontent-%COMP%]   .owl-dots[_ngcontent-%COMP%]   .owl-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#dee2e6;margin:0 5px;transition:all .3s ease}.product-carousel[_ngcontent-%COMP%]   .owl-dots[_ngcontent-%COMP%]   .owl-dot.active[_ngcontent-%COMP%]{background:#007bff;transform:scale(1.2)}"]})}}return i})();var Yo=(i,r)=>{let e=Z(B),t=Z(Lt);return $t(t)?sessionStorage.getItem("token")?!0:(e.navigate(["/login"]),!1):!1};var Rc=(i,r)=>r.id;function zc(i,r){if(i&1){let e=T();a(0,"div",23)(1,"button",28),v("click",function(){let n=P(e).$implicit,o=h(2);return w(o.deleteItem(n.id))}),f(2,"i",29),s(),a(3,"div",30),f(4,"img",31),s(),a(5,"div",32)(6,"h2",33),l(7),s(),a(8,"p",34),l(9),s(),a(10,"p",35),l(11),U(12,"currency"),s(),a(13,"h6",36),l(14),s()()()}if(i&2){let e=r.$implicit;c(4),u("src",e.pictureUrl||"assets/images/placeholder.png",ee)("alt",e.name),c(3),C(e.name),c(2),C(e.activeIngredient),c(2),C(J(12,6,e.price,"EGP")),c(3),S("Quantity: ",e.quantity,"")}}function Lc(i,r){if(i&1){let e=T();a(0,"div",7)(1,"div",17)(2,"h1",18),f(3,"i",19),l(4," Shopping Cart "),s(),a(5,"button",20),v("click",function(){P(e);let n=h();return w(n.showClearCartModal())}),f(6,"i",21),l(7," Clear Cart "),s()(),a(8,"div",22),Pt(9,zc,15,9,"div",23,Rc),s(),a(11,"div",24)(12,"div",25)(13,"span"),l(14,"Total:"),s(),a(15,"span"),l(16),U(17,"currency"),s()(),a(18,"button",26),f(19,"i",27),l(20," Proceed to Checkout "),s()()()}if(i&2){let e=h();c(9),wt(e.cartData==null?null:e.cartData.items),c(7),C(J(17,2,e.calculateTotal(),"EGP")),c(2),u("routerLink","/main/checkout")}}function Vc(i,r){i&1&&(a(0,"div",7)(1,"div",17)(2,"h1",18),f(3,"i",19),l(4," Shopping Cart "),s(),a(5,"div",5),f(6,"i",37),a(7,"span"),l(8,"0 Items"),s()()(),a(9,"div",38)(10,"div",39),f(11,"i",40),s(),a(12,"h3"),l(13,"Your cart is empty"),s(),a(14,"p"),l(15,"Add some medicines to get started"),s(),a(16,"a",41),f(17,"i",42),l(18," Browse Products "),s()()())}var Ko=(()=>{class i{constructor(){this._CartService=Z(tt),this._ToastrService=Z(Le),this._NgxSpinnerService=Z(lt),this.cartData=null,this.username=sessionStorage.getItem("displayName"),this.showModal=!1}saveCartToLocalStorage(){if(this.cartData?.items){let e=this.cartData.items.map(t=>({id:t.id,name:t.name,quantity:t.quantity,price:t.price,activeIngredient:t.activeIngredient,pictureUrl:t.pictureUrl}));localStorage.setItem("cartItems",JSON.stringify(e)),localStorage.setItem("cartTotal",this.calculateTotal().toString()),console.log("Cart saved to localStorage:",e)}else localStorage.removeItem("cartItems"),localStorage.removeItem("cartTotal")}getCartFromLocalStorage(){let e=localStorage.getItem("cartItems");return e?JSON.parse(e):[]}getCartTotalFromLocalStorage(){let e=localStorage.getItem("cartTotal");return e?parseFloat(e):0}clearCartFromLocalStorage(){localStorage.removeItem("cartItems"),localStorage.removeItem("cartTotal"),console.log("Cart cleared from localStorage")}getTotalItemCount(){if(!this.cartData?.items)return 0;let e=this.cartData.items.reduce((t,n)=>t+n.quantity,0);return sessionStorage.setItem("cartItemCount",e.toString()),e}showClearCartModal(){this.showModal=!0}hideClearCartModal(){this.showModal=!1}hideModalOnBackdrop(e){e.target===e.currentTarget&&this.hideClearCartModal()}confirmClearCart(){this._NgxSpinnerService.show(),this._CartService.clearCart().subscribe({next:e=>{this._NgxSpinnerService.hide(),this.cartData=e,this._CartService.noOfItems2.set(0),sessionStorage.setItem("cartItemCount","0"),this.clearCartFromLocalStorage(),this._ToastrService.success("Cart cleared successfully","Success"),this.hideClearCartModal()},error:e=>{this._NgxSpinnerService.hide(),this._ToastrService.error(e.error?.message||"Error clearing cart","Error"),this.hideClearCartModal()}})}deleteItem(e){this._NgxSpinnerService.show(),this._CartService.removeItemFormCart(e).subscribe({next:t=>{this._NgxSpinnerService.hide(),this.cartData=t,this._ToastrService.success(t.message,"Deleted Successfully");let n=this.getTotalItemCount();this._CartService.noOfItems2.set(n),this.saveCartToLocalStorage()},error:t=>{this._NgxSpinnerService.hide(),this._ToastrService.error(t.error?.message,"Error")}})}updateQuantity(e,t){t<1||(this._NgxSpinnerService.show(),this._CartService.update(e.toString(),t).subscribe({next:n=>{this._NgxSpinnerService.hide(),this.cartData=n;let o=this.getTotalItemCount();this._CartService.noOfItems2.set(o),this.saveCartToLocalStorage()},error:n=>{this._NgxSpinnerService.hide(),console.error("Error updating quantity:",n),this._ToastrService.error("Error updating quantity","Error")}}))}ngOnInit(){let e=sessionStorage.getItem("cartItemCount");e&&this._CartService.noOfItems2.set(parseInt(e)),this._CartService.getLoogedUserCart().subscribe({next:t=>{this.cartData=t,console.log("Cart data loaded:",t.items);let n=this.getTotalItemCount();this._CartService.noOfItems2.set(n),this.saveCartToLocalStorage()},error:t=>{console.error("Error loading cart:",t),this._ToastrService.error("Error loading cart data","Error")}})}calculateTotal(){return this.cartData?.items?this.cartData.items.reduce((e,t)=>e+t.price*t.quantity,0):0}getCartSummaryForOrder(){let e=this.getCartFromLocalStorage(),t=this.getCartTotalFromLocalStorage(),n=e.reduce((o,d)=>o+d.quantity,0);return{items:e,total:t,itemCount:n}}ngOnDestroy(){this.cartSub?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-cart"]],standalone:!0,features:[O],decls:25,vars:6,consts:[[1,"products-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"page-title"],[1,"cart-count-badge"],[1,"cart-container"],[1,"cart-section"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[1,"modal-icon"],[1,"fa-solid","fa-trash-can"],[1,"modal-title"],[1,"modal-message"],[1,"modal-buttons"],[1,"modal-btn","cancel",3,"click"],[1,"modal-btn","confirm",3,"click"],[1,"cart-header"],[1,"cart-title"],[1,"fa-brands","fa-shopify"],[1,"clear-cart-btn",3,"click"],[1,"fa-solid","fa-broom"],[1,"cart-items"],[1,"cart-item"],[1,"cart-summary"],[1,"total-section"],[1,"browse-btn",3,"routerLink"],[1,"fa-solid","fa-credit-card"],[1,"remove-btn",3,"click"],[1,"fa-solid","fa-times"],[1,"item-image"],["onerror","this.src='assets/images/placeholder.png'",3,"src","alt"],[1,"item-details"],[1,"item-name"],[1,"item-ingredient"],[1,"item-price"],[1,"quantity","text-start"],[1,"fa-solid","fa-box"],[1,"empty-cart"],[1,"empty-cart-icon"],[1,"fa-solid","fa-shopping-cart"],["routerLink","/main/AllProducts",1,"browse-btn"],[1,"fa-solid","fa-pills"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5),s(),a(6,"div",5)(7,"span"),l(8),s()()()()()(),a(9,"div",6),_(10,Lc,21,5,"div",7)(11,Vc,19,0),s(),a(12,"div",8),v("click",function(d){return n.hideModalOnBackdrop(d)}),a(13,"div",9)(14,"div",10),f(15,"i",11),s(),a(16,"h3",12),l(17,"Delete cart?"),s(),a(18,"p",13),l(19,`Are you sure you want to remove all items from your shopping cart?
This action cannot be canceled. `),s(),a(20,"div",14)(21,"button",15),v("click",function(){return n.hideClearCartModal()}),l(22," Cancel "),s(),a(23,"button",16),v("click",function(){return n.confirmClearCart()}),l(24," Yes, Delete "),s()()()()),t&2&&(c(5),S("",n.username,"'s Cart"),c(3),ut("",n.getTotalItemCount()," ",n.getTotalItemCount()===1?"Item":"Items"," in the cart"),c(2),R(10,!(n.cartData==null||n.cartData.items==null)&&n.cartData.items.length?10:11),c(2),re("show",n.showModal))},dependencies:[$,be,$e,Ce],styles:[`*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.products-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:3rem 0;margin-bottom:2rem;position:relative;overflow:hidden}.products-header[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');opacity:.3}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;position:relative;z-index:1}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin-bottom:0}.cart-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.cart-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;padding:2rem;margin-bottom:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.cart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e9ecef}.cart-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;display:flex;align-items:center;gap:.5rem}.cart-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea}.clear-cart-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;border:none;padding:12px 24px;border-radius:50px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 4px 15px #e74c3c4d}.clear-cart-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #e74c3c66}.cart-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr auto;gap:1.5rem;align-items:center;padding:1.5rem;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:16px;border:1px solid #e9ecef;transition:all .3s ease;position:relative;overflow:hidden}.cart-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#667eea,#16a085);transform:scaleX(0);transition:transform .3s ease}.cart-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.cart-item[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.item-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:12px;overflow:hidden;position:relative;box-shadow:0 4px 15px #0000001a}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.item-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.item-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#2c3e50;margin-bottom:.25rem}.item-ingredient[_ngcontent-%COMP%]{font-size:.95rem;color:#7f8c8d;font-style:italic}.item-price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#27ae60;margin-top:.5rem}.item-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#f8f9fa;border-radius:50px;padding:.5rem;border:2px solid #e9ecef;transition:all .3s ease}.quantity-controls[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.quantity-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;cursor:pointer;font-size:18px;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:#fff}.quantity-btn.plus[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60,#229954);box-shadow:0 2px 10px #27ae604d}.quantity-btn.minus[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);box-shadow:0 2px 10px #e74c3c4d}.quantity-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.quantity-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.quantity[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;min-width:40px;text-align:center;background:#fff;border-radius:8px;padding:.25rem .5rem}.item-total[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#27ae60;text-align:center}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;width:35px;height:35px;border:none;background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;border-radius:50%;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:0 2px 10px #e74c3c4d}.remove-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 15px #e74c3c66}.cart-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#34495e);color:#fff;padding:2rem;border-radius:16px;text-align:center;margin-top:2rem}.total-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding:1rem;background:#ffffff1a;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.checkout-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60,#229954);color:#fff;border:none;padding:15px 40px;border-radius:50px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 6px 20px #27ae604d;display:inline-flex;align-items:center;gap:.5rem;text-decoration:none}.checkout-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #27ae6066}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#7f8c8d}.empty-cart-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5;color:#bdc3c7}.empty-cart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;color:#2c3e50}.browse-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#2cecc3);color:#fff;border:none;padding:12px 30px;border-radius:50px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem;margin-top:1rem}.browse-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea4d;color:#fff;text-decoration:none}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:80px 1fr;gap:1rem;padding:1rem}.item-controls[_ngcontent-%COMP%]{grid-column:1 / -1;flex-direction:row;justify-content:space-between;margin-top:1rem}.item-image[_ngcontent-%COMP%]{width:80px;height:80px}.page-title[_ngcontent-%COMP%]{font-size:2rem}.container[_ngcontent-%COMP%]{padding:0 15px}.cart-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.total-section[_ngcontent-%COMP%]{font-size:1.2rem}.checkout-btn[_ngcontent-%COMP%]{padding:12px 30px;font-size:1rem}}.cart-item[_ngcontent-%COMP%]{grid-template-columns:100px 1fr 200px;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000000d;transition:all .2s ease;border-left:4px solid #667eea}.item-controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:1rem}.quantity-controls[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:.5rem 1rem;border:1px solid #e9ecef}.quantity-btn[_ngcontent-%COMP%]{width:32px;height:32px;font-size:14px;background:#f1f3f5;color:#495057;border:none}.quantity-btn.plus[_ngcontent-%COMP%]:hover{background:#27ae60;color:#fff}.quantity-btn.minus[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}.item-total[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;background:#f8f9fa;padding:.5rem 1rem;border-radius:8px}.remove-btn[_ngcontent-%COMP%]{top:10px;right:10px;width:30px;height:30px;font-size:14px;background:#f1f3f5;color:#e74c3c}.remove-btn[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:1fr}.item-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.quantity-controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.cart-summary.professional[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #0000000d;padding:1.5rem;display:flex;justify-content:space-between;align-items:center;gap:2rem}.summary-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.line-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.line-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.95rem;color:#7f8c8d}.line-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50}.line-item.total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700}.line-item.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#27ae60}.checkout-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1abc9c,#16a085);color:#fff;border:none;padding:.75rem 2rem;border-radius:50px;font-size:1.05rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:transform .2s ease,box-shadow .2s ease}.checkout-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 15px #1abc9c66}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease}.modal-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;max-width:400px;width:90%;text-align:center;transform:scale(.7);transition:all .3s ease;box-shadow:0 20px 60px #0000004d}.modal-overlay.show[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:scale(1)}.modal-icon[_ngcontent-%COMP%]{font-size:4rem;color:#ff4757;margin-bottom:1rem}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:1rem}.modal-message[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:2rem;line-height:1.6}.modal-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.modal-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:25px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:100px}.modal-btn.confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4757,#ff3742);color:#fff}.modal-btn.confirm[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #ff475766}.modal-btn.cancel[_ngcontent-%COMP%]{background:#95a5a6;color:#fff}.modal-btn.cancel[_ngcontent-%COMP%]:hover{background:#7f8c8d;transform:translateY(-2px)}@media (max-width: 768px){.cart-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.cart-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.remove-btn[_ngcontent-%COMP%]{position:static;align-self:flex-end;margin-bottom:1rem}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column}.modal-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.cart-header[_ngcontent-%COMP%], .cart-items[_ngcontent-%COMP%], .cart-item[_ngcontent-%COMP%]{padding:1rem}.modal-content[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}}`]})}}return i})();var nt=(()=>{class i{constructor(e){this.http=e}getAuthHeaders(){let e=sessionStorage.getItem("token");return new qt({Authorization:`Bearer ${e}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"})}getSafetySummary(){return this.http.get(`${ne.baseUrl}/api/Recommendations/GetSafetySummary`,{headers:this.getAuthHeaders()})}getMyRecommendations(){return this.http.get(`${ne.baseUrl}/api/Recommendations/GetMyRecommendations/`,{headers:this.getAuthHeaders()})}getConflictingMedications(e=50){return this.http.get(`${ne.baseUrl}/api/Recommendations/GetConflictingMedications`,{headers:this.getAuthHeaders(),params:{maxResults:e.toString()}})}checkProductSafety(e){return this.http.get(`${ne.baseUrl}/api/Recommendations/CheckProductSafety/${e}`,{headers:this.getAuthHeaders(),observe:"response"})}getProductAlternatives(e){return this.http.get(`${ne.baseUrl}/api/Recommendations/GetProductAlternatives/${e}`,{headers:this.getAuthHeaders(),observe:"response"})}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function jc(i,r){i&1&&(a(0,"div",6),f(1,"div",7),a(2,"p"),l(3,"Loading your personalized recommendations..."),s()())}function Bc(i,r){if(i&1){let e=T();a(0,"div",8)(1,"p"),l(2),s(),a(3,"button",9),v("click",function(){P(e);let n=h();return w(n.loadRecommendations())}),l(4,"Try Again"),s()()}if(i&2){let e=h();c(2),C(e.error)}}function Hc(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function $c(i,r){if(i&1){let e=T();a(0,"div",11)(1,"div",12)(2,"h2"),f(3,"i",13),l(4),s(),a(5,"p"),l(6),s(),a(7,"div",14)(8,"h3"),l(9,"Missing Information:"),s(),a(10,"ul"),_(11,Hc,2,1,"li",15),s()(),a(12,"p",16),l(13),s(),a(14,"button",17),v("click",function(){P(e);let n=h(2);return w(n.completeProfile())}),l(15," Complete My Profile Now "),s()()()}if(i&2){let e=h(2);c(4),C(e.incompleteProfileData.title),c(2),C(e.incompleteProfileData.message),c(5),u("ngForOf",e.incompleteProfileData.missingFields),c(2),C(e.incompleteProfileData.actionRequired)}}function qc(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Uc(i,r){if(i&1&&(a(0,"p")(1,"strong"),l(2,"Conflict Details:"),s(),l(3),s()),i&2){let e=h().$implicit;c(3),S(" ",e.conflictDetails,"")}}function Gc(i,r){if(i&1&&(a(0,"div",22)(1,"div",23)(2,"h3"),l(3),s(),a(4,"span",24),l(5),s()(),a(6,"div",25)(7,"div",26),f(8,"img",27),s(),a(9,"div",28)(10,"p")(11,"strong"),l(12,"Description:"),s(),l(13),s(),a(14,"p")(15,"strong"),l(16,"Active Ingredient:"),s(),l(17),s(),a(18,"p")(19,"strong"),l(20,"Price:"),s(),l(21),U(22,"currency"),s(),a(23,"p")(24,"strong"),l(25,"Safety Score:"),s(),l(26),s(),a(27,"p")(28,"strong"),l(29,"Effectiveness Score:"),s(),l(30),s(),a(31,"p")(32,"strong"),l(33,"Value Score:"),s(),l(34),s(),a(35,"p")(36,"strong"),l(37,"Has Conflict:"),s(),l(38),s(),_(39,Uc,4,1,"p",5),a(40,"p")(41,"strong"),l(42,"Reason:"),s(),l(43),s(),a(44,"p")(45,"strong"),l(46,"Created At:"),s(),l(47),s()()()()),i&2){let e=r.$implicit;c(3),C(e.productName),c(2),S("Score: ",e.finalScore.toFixed(1),""),c(3),u("src",e.productPictureUrl,ee)("alt",e.productName),c(5),S(" ",e.productDescription,""),c(4),S(" ",e.activeIngredient,""),c(4),S(" ",J(22,14,e.productPrice,"EGP"),""),c(5),S(" ",e.safetyScore,"/5"),c(4),S(" ",e.effectivenessScore,"/5"),c(4),S(" ",e.valueScore.toFixed(2),"/5"),c(4),S(" ",e.hasConflict,""),c(),u("ngIf",e.hasConflict),c(4),S(" ",e.recommendationReason,""),c(4),S(" ",e.createdAt,"")}}function Wc(i,r){if(i&1&&(a(0,"div")(1,"section",18)(2,"ul")(3,"li")(4,"strong"),l(5,"Generated At:"),s(),l(6),s(),a(7,"li")(8,"strong"),l(9,"Your AI Message:"),s(),l(10),s(),a(11,"li")(12,"strong"),l(13,"Confidence Level:"),s(),l(14),s(),a(15,"li")(16,"strong"),l(17,"Total Safe Recommendations:"),s(),l(18),s(),a(19,"li")(20,"strong"),l(21,"Total Conflicted Items:"),s(),l(22),s(),a(23,"li")(24,"strong"),l(25,"Next Steps Advice:"),s(),l(26),s()(),a(27,"h3"),l(28,"Key Insights:"),s(),a(29,"ul"),_(30,qc,2,1,"li",15),s()(),a(31,"p",19)(32,"strong"),l(33,"Summary:"),s(),l(34),s(),a(35,"div",20),_(36,Gc,48,17,"div",21),s()()),i&2){let e=h(2);c(6),S(" ",e.fullResponse.generatedAt,""),c(4),S(" ",e.fullResponse.aiPersonalizedMessage,""),c(4),S(" ",e.fullResponse.confidenceLevel,""),c(4),S(" ",e.fullResponse.totalSafeRecommendations,""),c(4),S(" ",e.fullResponse.totalConflictedItems,""),c(4),S(" ",e.fullResponse.nextStepsAdvice,""),c(4),u("ngForOf",e.fullResponse.keyInsights),c(4),S(" ",e.summary,""),c(2),u("ngForOf",e.recommendations)}}function Qc(i,r){if(i&1&&(a(0,"div"),_(1,$c,16,4,"div",10)(2,Wc,37,9,"div",5),s()),i&2){let e=h();c(),u("ngIf",!e.profileComplete&&e.incompleteProfileData),c(),u("ngIf",e.profileComplete)}}var Zo=(()=>{class i{constructor(e){this.recommendationsService=e,this.recommendations=[],this.summary="",this.isLoading=!0,this.error=null,this.profileComplete=!0,this.incompleteProfileData=null,this._CartService=Z(tt),this._ToastrService=Z(Le),this._Router=Z(B)}ngOnInit(){this.loadRecommendations()}loadRecommendations(){this.error=null,this.isLoading=!0,this.recommendationsService.getMyRecommendations().subscribe({next:e=>{"isProfileComplete"in e&&!e.isProfileComplete?(this.profileComplete=!1,this.incompleteProfileData=e):(this.profileComplete=!0,this.fullResponse=e,this.recommendations=this.fullResponse.recommendations,this.summary=this.fullResponse.summary),this.isLoading=!1},error:e=>{console.error(e),this.error="Failed to load recommendations. Please try again later.",this.isLoading=!1}})}completeProfile(){this._Router.navigate(["/main/side-effects-questions"]),console.log("Redirect to profile completion")}addToCart(e){this.productSub=this._CartService.addProductToCart(e).subscribe({next:t=>{this._ToastrService.success("Product added to cart successfully","Success"),console.log("Cart updated:",t.items)},error:t=>{this._ToastrService.error(t.error?.message||"Failed to add product to cart","Error"),console.error("Error adding to cart:",t)}})}static{this.\u0275fac=function(t){return new(t||i)(y(nt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-get-my-recommendations"]],standalone:!0,features:[O],decls:6,vars:3,consts:[[1,"ms-5"],[1,"ms-4"],[1,"recommendations-container"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"error-message"],[3,"click"],["class","incomplete-profile",4,"ngIf"],[1,"incomplete-profile"],[1,"alert","alert-warning","bg-light-subtle"],[1,"fa-solid","fa-warning","me-1","text-warning","fs-2"],[1,"missing-fields"],[4,"ngFor","ngForOf"],[1,"action-required"],[1,"btn-complete-profile",3,"click"],[1,"response-metadata"],[1,"summary"],[1,"recommendation-cards"],["class","recommendation-card",4,"ngFor","ngForOf"],[1,"recommendation-card"],[1,"card-header"],[1,"score-badge"],[1,"card-body"],[1,"product-image"],[3,"src","alt"],[1,"product-details"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2),_(3,jc,4,0,"div",3)(4,Bc,5,1,"div",4)(5,Qc,3,2,"div",5),s()()()),t&2&&(c(3),u("ngIf",n.isLoading),c(),u("ngIf",n.error),c(),u("ngIf",!n.isLoading&&!n.error))},dependencies:[$,te,K,be,gt],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:linear-gradient(135deg,#60667f,#764ba2);min-height:100vh;padding:20px}.recommendations-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;padding:40px;box-shadow:0 20px 40px #0000001a}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;text-align:center}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #f0f0f0;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:24px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#666;font-weight:500}.error-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24);color:#fff;padding:32px;border-radius:16px;text-align:center;box-shadow:0 8px 32px #ff6b6b4d}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:2px solid rgba(255,255,255,.3);padding:12px 24px;border-radius:25px;cursor:pointer;margin-top:16px;transition:all .3s ease;font-weight:600}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px)}.incomplete-profile[_ngcontent-%COMP%]{margin-bottom:40px}.alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:32px;border-radius:20px;box-shadow:0 12px 32px #ffd89b4d}.alert[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:16px;font-weight:700}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;opacity:.9}.missing-fields[_ngcontent-%COMP%]{background:#ffffff1a;padding:20px;border-radius:12px;margin:20px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:12px;font-size:18px}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0 8px 24px;position:relative}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#ff6b6b;font-weight:700;position:absolute;left:0}.action-required[_ngcontent-%COMP%]{font-weight:600;margin:20px 0;font-size:16px}.btn-complete-profile[_ngcontent-%COMP%]{background:#ffffffe6;color:#333;border:none;padding:14px 28px;border-radius:25px;cursor:pointer;font-weight:700;font-size:16px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a}.btn-complete-profile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.response-metadata[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4d4d4e,#5f5f5f);color:#fff;padding:32px;border-radius:20px;margin-bottom:32px;box-shadow:0 12px 32px #f093fb4d}.response-metadata[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;font-weight:700}.response-metadata[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 12px;font-weight:600}.response-metadata[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.response-metadata[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid rgba(255,255,255,.1)}.response-metadata[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.response-metadata[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.summary[_ngcontent-%COMP%]{background:#d0d0d0;padding:24px;border-radius:16px;margin-bottom:32px;font-size:16px;line-height:1.6;box-shadow:0 8px 24px #a8edea4d}.summary[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:700}details[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:20px;margin-bottom:32px;border:1px solid #e9ecef}summary[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:#495057;padding:8px;border-radius:8px;transition:background-color .3s ease}summary[_ngcontent-%COMP%]:hover{background-color:#e9ecef}pre[_ngcontent-%COMP%]{background:#2d3748;color:#e2e8f0;padding:20px;border-radius:8px;overflow-x:auto;margin-top:16px;font-size:14px;line-height:1.5}.recommendation-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:32px;margin-top:32px}.recommendation-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 12px 32px #0000001a;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.recommendation-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 40px #00000026}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:24px;display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0}.score-badge[_ngcontent-%COMP%]{background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:8px 16px;border-radius:20px;font-weight:600;font-size:14px;border:1px solid rgba(255,255,255,.3)}.card-body[_ngcontent-%COMP%]{padding:24px;display:flex;gap:20px}.product-image[_ngcontent-%COMP%]{flex:0 0 120px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:12px;box-shadow:0 4px 12px #0000001a}.product-details[_ngcontent-%COMP%]{flex:1}.product-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-size:14px;line-height:1.5;color:#4a5568}.product-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748;font-weight:600}.score-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:16px 0}.score-item[_ngcontent-%COMP%]{background:#f7fafc;padding:12px;border-radius:8px;text-align:center}.score-item[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#667eea}.score-item[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:12px;color:#718096;margin-top:4px}.conflict-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9a9e,#fecfef);color:#742a2a;padding:12px;border-radius:8px;margin:12px 0;font-size:14px;border-left:4px solid #e53e3e}.card-footer[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px 24px;display:flex;gap:12px;border-top:1px solid #e9ecef}.btn-details[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border-radius:25px;font-weight:600;font-size:14px;cursor:pointer;transition:all .3s ease;border:none}.btn-details[_ngcontent-%COMP%]{background:transparent;color:#667eea;border:2px solid #19b896dc}.btn-details[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff;transform:translateY(-2px)}.btn-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;box-shadow:0 4px 15px #667eea4d}.btn-add[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}@media (max-width: 768px){.recommendations-container[_ngcontent-%COMP%]{padding:20px;margin:10px}.recommendation-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.card-body[_ngcontent-%COMP%]{flex-direction:column}.product-image[_ngcontent-%COMP%]{flex:none;align-self:center}.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}.score-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.recommendation-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease forwards}.recommendation-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.recommendation-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}.recommendation-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.3s}']})}}return i})();var Vn=(()=>{class i{constructor(e){this.http=e,this.baseUrl=ne.baseUrl,this.addressesSubject=new un([]),this.addresses$=this.addressesSubject.asObservable(),this.editingIndex=null}getAddresses(){return this.addressesSubject.getValue()}setEditingAddressIndex(e){this.editingIndex=e}getEditingAddress(){let e=this.getAddresses();return this.editingIndex!==null?e[this.editingIndex]:null}addAddress(e){return bt(!0).pipe(Y(()=>{let t=this.getAddresses();this.editingIndex!==null?(t[this.editingIndex]=e,this.editingIndex=null):t.push(e),this.addressesSubject.next([...t]),localStorage.setItem("addresses",JSON.stringify(t))}))}loadSavedAddresses(){let e=localStorage.getItem("addresses");if(e){let t=JSON.parse(e);this.addressesSubject.next(t)}}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Yt=(()=>{class i{constructor(e){this.http=e,this.baseUrl=ne.baseUrl}getUserOrders(){let t={Authorization:`Bearer ${sessionStorage.getItem("token")}`};return this.http.get(`${this.baseUrl}/api/orders`,{headers:t})}getOrderById(e){let n={Authorization:`Bearer ${sessionStorage.getItem("token")}`};return this.http.get(`${this.baseUrl}/api/orders/${e}`,{headers:n})}createOrder(e){let n={Authorization:`Bearer ${sessionStorage.getItem("token")}`,"Content-Type":"application/json"};return this.http.post(`${this.baseUrl}/api/orders`,e,{headers:n})}getDeliveryMethods(){let t={Authorization:`Bearer ${sessionStorage.getItem("token")}`};return this.http.get(`${this.baseUrl}/api/orders/DeliveryMethods`,{headers:t})}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Yc(i,r){if(i&1&&(a(0,"span"),l(1),s()),i&2){let e=h().$implicit;c(),S(", ",e.street2,"")}}function Kc(i,r){if(i&1){let e=T();a(0,"div",18)(1,"div",19)(2,"div")(3,"input",20),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.selectedAddressIndex,n)||(o.selectedAddressIndex=n),w(n)}),s(),a(4,"label",21)(5,"strong"),l(6),s(),f(7,"br"),l(8),f(9,"br"),l(10),f(11,"br"),l(12),f(13,"br"),l(14),_(15,Yc,2,1,"span",22),f(16,"br"),l(17),s()(),a(18,"button",23),v("click",function(){let n=P(e).index,o=h();return w(o.editAddress(n))}),l(19,"\u270F\uFE0F"),s()()()}if(i&2){let e=r.$implicit,t=r.index,n=h();c(3),u("value",t),Te("ngModel",n.selectedAddressIndex),c(3),C(e.addressTitle||"Address "+(t+1)),c(2),S(" ",e.fullName,""),c(2),S(" ",e.phoneNumber,""),c(2),S(" ",e.email,""),c(2),S(" ",e.street,""),c(),u("ngIf",e.street2),c(2),ut(" ",e.city,", ",e.country," ")}}function Zc(i,r){if(i&1){let e=T();a(0,"div",24)(1,"div",25)(2,"input",26),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.fullName,n)||(o.newAddress.fullName=n),w(n)}),s()(),a(3,"div",25)(4,"input",27),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.phoneNumber,n)||(o.newAddress.phoneNumber=n),w(n)}),s()(),a(5,"div",25)(6,"input",28),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.email,n)||(o.newAddress.email=n),w(n)}),s()(),a(7,"div",25)(8,"input",29),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.addressTitle,n)||(o.newAddress.addressTitle=n),w(n)}),s()(),a(9,"div",25)(10,"input",30),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.street,n)||(o.newAddress.street=n),w(n)}),s()(),a(11,"div",25)(12,"input",31),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.street2,n)||(o.newAddress.street2=n),w(n)}),s()(),a(13,"div",25)(14,"input",32),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.city,n)||(o.newAddress.city=n),w(n)}),s()(),a(15,"div",25)(16,"input",33),Ie("ngModelChange",function(n){P(e);let o=h();return ke(o.newAddress.country,n)||(o.newAddress.country=n),w(n)}),s()(),a(17,"div",34)(18,"button",35),v("click",function(){P(e);let n=h();return w(n.cancelForm())}),l(19,"Cancel"),s(),a(20,"button",36),v("click",function(){P(e);let n=h();return w(n.addOrUpdateAddress())}),l(21),s()()()}if(i&2){let e=h();c(2),Te("ngModel",e.newAddress.fullName),c(2),Te("ngModel",e.newAddress.phoneNumber),c(2),Te("ngModel",e.newAddress.email),c(2),Te("ngModel",e.newAddress.addressTitle),c(2),Te("ngModel",e.newAddress.street),c(2),Te("ngModel",e.newAddress.street2),c(2),Te("ngModel",e.newAddress.city),c(2),Te("ngModel",e.newAddress.country),c(5),S(" ",e.isEditingIndex!==null?"Update":"Save"," ")}}function Xc(i,r){i&1&&(a(0,"div",37),l(1," Please select or add a delivery address to continue. "),s())}var Jo=(()=>{class i{constructor(e,t,n,o,d,p){this.location=e,this.router=t,this.route=n,this.addressService=o,this.cartService=d,this.orderService=p,this.paymentMethod="cod",this.itemsCount=0,this.totalPrice=0,this.addresses=[],this.selectedAddressIndex=null,this.isAdding=!1,this.isEditingIndex=null,this.newAddress={fullName:"",phoneNumber:"",email:"",street:"",city:"",country:"",addressTitle:"",street2:""},this.deliveryMethods=[],this.selectedDeliveryMethodId=null}ngOnInit(){this.itemsCount=Number(sessionStorage.getItem("cartItemCount"))||0,this.totalPrice=Number(localStorage.getItem("cartTotal"))||0,this.addressService.loadSavedAddresses(),this.addressService.addresses$.subscribe(e=>{this.addresses=e}),this.cartService.getLoogedUserCart().subscribe(e=>{this.cartData=e,e?.id&&localStorage.setItem("basket_id",e.id)}),this.orderService.getDeliveryMethods().subscribe(e=>{this.deliveryMethods=e,e.length>0&&(this.selectedDeliveryMethodId=e[0].id)})}goBack(){this.router.navigate(["/main/cart"])}navigateToAddAddress(){this.addressService.setEditingAddressIndex(null),this.router.navigate(["/main/add-address"],{queryParams:{returnTo:"checkout"}})}addOrUpdateAddress(){this.isEditingIndex!==null?this.addresses[this.isEditingIndex]=q({},this.newAddress):this.addresses.push(q({},this.newAddress)),this.cancelForm()}editAddress(e){this.addressService.setEditingAddressIndex(e),this.router.navigate(["/main/add-address"],{queryParams:{returnTo:"checkout"}})}cancelForm(){this.isAdding=!1,this.isEditingIndex=null,this.newAddress={fullName:"",phoneNumber:"",email:"",addressTitle:"",street:"",street2:"",city:"",country:""}}onPayNow(){if(this.selectedAddressIndex===null||this.addresses.length===0)return;let e=this.addresses[this.selectedAddressIndex],t=e.fullName?.trim()||"",n=t.split(" ")[0]||"default_first_name",o=t.split(" ").slice(1).join(" ")||"default_last_name",d=localStorage.getItem("basket_id")||"",p=this.selectedDeliveryMethodId,m={basketId:d,deliveryMethodId:p,shippingAddress:{firstName:n,lastName:o,street:e.street,city:e.city,country:e.country}};console.log("orderData:",m),console.log("basketId:",d),console.log("shippingAddress:",m.shippingAddress),console.log("deliveryMethodId:",m.deliveryMethodId),this.orderService.createOrder(m).subscribe({next:g=>{this.cartService.clearCart().subscribe({next:()=>{localStorage.removeItem("cartItems"),localStorage.removeItem("cartTotal"),sessionStorage.setItem("cartItemCount","0"),this.router.navigate(["/main/order-success"],{queryParams:{orderId:g.id}})},error:()=>{localStorage.removeItem("cartItems"),localStorage.removeItem("cartTotal"),sessionStorage.setItem("cartItemCount","0"),this.router.navigate(["/main/order-success"],{queryParams:{orderId:g.id}})}})},error:g=>{console.error("Order creation error:",g),alert("Error: "+(g?.error?.message||JSON.stringify(g?.error)||g.message))}})}createOrder(e){let n={Authorization:`Bearer ${sessionStorage.getItem("token")}`,"Content-Type":"application/json"};return this.http.post(`${this.baseUrl}/api/orders`,e,{headers:n})}static{this.\u0275fac=function(t){return new(t||i)(y(On),y(B),y(ye),y(Vn),y(tt),y(Yt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-checkout"]],standalone:!0,features:[O],decls:34,vars:7,consts:[[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[1,"header-title"],[1,"bi","bi-arrow-left",3,"click"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"text-muted","mb-0"],[1,"fw-bold","text-dark"],[1,"mt-4"],["class","border rounded p-3 mb-2",4,"ngFor","ngForOf"],["class","border rounded p-3 mb-3 bg-light",4,"ngIf"],[1,"btn","btn-outline-primary","w-100",3,"click"],[1,"border","rounded","p-3","d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["type","radio","name","payment","value","cod",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"text-center","mt-4"],[1,"btn","btn-primary",3,"click","disabled"],["class","text-danger mt-2","style","font-size: 0.95em;",4,"ngIf"],[1,"border","rounded","p-3","mb-2"],[1,"form-check","d-flex","justify-content-between","align-items-center"],["type","radio","name","address",1,"form-check-input","me-2",3,"ngModelChange","value","ngModel"],[1,"form-check-label"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"border","rounded","p-3","mb-3","bg-light"],[1,"mb-2"],["type","text","placeholder","Full Name",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Phone Number",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","email","placeholder","Email",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Address Title (e.g. Home, Work)",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Street",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Street 2 (optional)",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","City",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Country",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","gap-2"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"text-danger","mt-2",2,"font-size","0.95em"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"i",4),v("click",function(){return n.goBack()}),s(),a(5,"h3"),l(6,"Check Out"),s()(),a(7,"div",5)(8,"p",6),l(9),s(),a(10,"h6",6),l(11,"TOTAL"),f(12,"br"),a(13,"span",7),l(14),s()()(),a(15,"div",8)(16,"h5"),l(17,"Delivery Address"),s(),_(18,Kc,20,10,"div",9)(19,Zc,22,9,"div",10),a(20,"button",11),v("click",function(){return n.navigateToAddAddress()}),l(21,"+ Add Address"),s()(),a(22,"div",8)(23,"h5"),l(24,"Payment method"),s(),a(25,"div",12)(26,"div",13)(27,"span"),l(28,"Cash on Delivery"),s()(),a(29,"input",14),Ie("ngModelChange",function(d){return ke(n.paymentMethod,d)||(n.paymentMethod=d),d}),s()()(),a(30,"div",15)(31,"button",16),v("click",function(){return n.onPayNow()}),l(32," Pay Now "),s(),_(33,Xc,2,0,"div",17),s()()()()),t&2&&(c(9),S("",n.itemsCount," Items in your cart"),c(5),S("EGP.",n.totalPrice.toFixed(2),""),c(4),u("ngForOf",n.addresses),c(),u("ngIf",n.isAdding),c(10),Te("ngModel",n.paymentMethod),c(2),u("disabled",n.selectedAddressIndex===null||n.addresses.length===0),c(2),u("ngIf",n.selectedAddressIndex===null||n.addresses.length===0))},dependencies:[$,te,K,gt,ae,no,le,kn,he],styles:[".header-title[_ngcontent-%COMP%]{background-color:#eef1f3;padding:1rem 1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000000d;display:flex;align-items:center;margin:1rem;position:sticky;top:0;z-index:10}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:1.7rem;margin-right:1rem;cursor:pointer;transition:color .3s ease}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#084298}.header-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin:0;color:#343a40}"]})}}return i})();function Jc(i,r){i&1&&(a(0,"div",21),l(1," Full Name is required. "),s())}function ed(i,r){i&1&&(a(0,"div",21),l(1," Phone Number is required. "),s())}function td(i,r){i&1&&(a(0,"div",21),l(1," Email is required. "),s())}function nd(i,r){i&1&&(a(0,"div",21),l(1," Please enter a valid email address. "),s())}function id(i,r){i&1&&(a(0,"div",21),l(1," Address is required. "),s())}function rd(i,r){i&1&&(a(0,"div",21),l(1," City is required. "),s())}function od(i,r){i&1&&(a(0,"div",21),l(1," Country is required. "),s())}var es=(()=>{class i{constructor(e,t,n,o){this.fb=e,this.router=t,this.addressService=n,this.route=o}ngOnInit(){let e=this.addressService.getEditingAddress();this.addressForm=this.fb.group({fullName:[e?.fullName||"",D.required],phoneNumber:[e?.phoneNumber||"",[D.required,D.pattern(/^\d{10,}$/)]],email:[e?.email||"",[D.required,D.email]],addressTitle:[e?.addressTitle||""],addressLine1:[e?.street||"",D.required],addressLine2:[e?.street2||""],city:[e?.city||"",D.required],country:[e?.country||"",D.required]})}onSubmit(){if(this.addressForm.valid){let e=this.addressForm.value,t={fullName:e.fullName,phoneNumber:e.phoneNumber,email:e.email,addressTitle:e.addressTitle,street:e.addressLine1,street2:e.addressLine2,city:e.city,country:e.country};this.addressService.addAddress(t).subscribe(()=>{this.router.navigate(["/main/checkout"])})}else this.addressForm.markAllAsTouched()}cancel(){this.addressForm.reset(),this.router.navigate(["/main/checkout"])}goToCheckout(){this.router.navigate(["/main/checkout"])}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(B),y(Vn),y(ye))}}static{this.\u0275cmp=M({type:i,selectors:[["app-add-address"]],standalone:!0,features:[O],decls:43,vars:8,consts:[["novalidate","",1,"address-form",3,"ngSubmit","formGroup"],[1,"step"],[1,"step-icon"],[1,"step-title"],["type","text","formControlName","fullName","placeholder","Full Name *"],["class","error",4,"ngIf"],["type","text","formControlName","phoneNumber","placeholder","Phone Number *"],[1,"hint"],["type","email","formControlName","email","placeholder","Email Address *"],[1,"divider"],["type","text","formControlName","addressTitle","placeholder","Address Title (optional)"],["type","text","formControlName","addressLine1","placeholder","Street Address *"],[1,"optional-field"],[1,"plus"],[1,"optional-label"],["type","text","formControlName","addressLine2","placeholder","Street Address 2"],["type","text","formControlName","city","placeholder","City *"],["type","text","formControlName","country","placeholder","Country *"],[1,"actions"],["type","submit",1,"btn-save"],["type","button",1,"btn-cancel",3,"click"],[1,"error"]],template:function(t,n){if(t&1&&(a(0,"form",0),v("ngSubmit",function(){return n.onSubmit()}),a(1,"div",1)(2,"div",2),l(3,"1"),s(),a(4,"h2",3),l(5,"Recipients Information"),s()(),f(6,"input",4),_(7,Jc,2,0,"div",5),f(8,"input",6),_(9,ed,2,0,"div",5),a(10,"p",7),l(11,"For shipping-related questions only"),s(),f(12,"input",8),_(13,td,2,0,"div",5)(14,nd,2,0,"div",5),a(15,"p",7),l(16,"The address will be used to send your order and bill details"),s(),f(17,"hr",9),a(18,"div",1)(19,"div",2),l(20,"2"),s(),a(21,"h2",3),l(22,"Shipping Address"),s()(),f(23,"input",10),a(24,"p",7),l(25,"For estimating if the place is opened or closed on the weekends"),s(),f(26,"input",11),_(27,id,2,0,"div",5),a(28,"div",12)(29,"span",13),l(30,"+"),s(),a(31,"span",14),l(32,"Street Address 2 (optional)"),s()(),f(33,"input",15)(34,"input",16),_(35,rd,2,0,"div",5),f(36,"input",17),_(37,od,2,0,"div",5),a(38,"div",18)(39,"button",19),l(40,"Save"),s(),a(41,"button",20),v("click",function(){return n.cancel()}),l(42,"Cancel"),s()()()),t&2){let o,d,p,m,g,x,b;u("formGroup",n.addressForm),c(7),u("ngIf",((o=n.addressForm.get("fullName"))==null?null:o.touched)&&((o=n.addressForm.get("fullName"))==null||o.errors==null?null:o.errors.required)),c(2),u("ngIf",((d=n.addressForm.get("phoneNumber"))==null?null:d.touched)&&((d=n.addressForm.get("phoneNumber"))==null||d.errors==null?null:d.errors.required)),c(4),u("ngIf",((p=n.addressForm.get("email"))==null?null:p.touched)&&((p=n.addressForm.get("email"))==null||p.errors==null?null:p.errors.required)),c(),u("ngIf",((m=n.addressForm.get("email"))==null?null:m.touched)&&((m=n.addressForm.get("email"))==null||m.errors==null?null:m.errors.email)),c(13),u("ngIf",((g=n.addressForm.get("addressLine1"))==null?null:g.touched)&&((g=n.addressForm.get("addressLine1"))==null||g.errors==null?null:g.errors.required)),c(8),u("ngIf",((x=n.addressForm.get("city"))==null?null:x.touched)&&((x=n.addressForm.get("city"))==null||x.errors==null?null:x.errors.required)),c(2),u("ngIf",((b=n.addressForm.get("country"))==null?null:b.touched)&&((b=n.addressForm.get("country"))==null||b.errors==null?null:b.errors.required))}},dependencies:[he,fe,ae,le,ge,Se,Pe,$,K],styles:[".address-form[_ngcontent-%COMP%]{max-width:700px;margin:50px auto;padding:35px;background:#f2f4f7;border-radius:20px;border:2px solid #7bbbff;box-shadow:0 12px 30px #00000014;display:flex;flex-direction:column;gap:1.2rem;transition:all .3s ease-in-out}.step[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.8rem}.step-icon[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:50%;width:34px;height:34px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem}.step-title[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:700;color:#333}input[_ngcontent-%COMP%]{padding:12px 16px;border-radius:12px;border:1.5px solid #ccc;font-size:1rem;width:100%;box-sizing:border-box;outline:none;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff40}hr.divider[_ngcontent-%COMP%]{margin:25px 0;border:none;height:1px;background-color:#d0d7e2}.error[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin-top:-6px;margin-bottom:8px;padding-left:5px;font-weight:500}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}button[_ngcontent-%COMP%]{padding:12px 24px;font-size:1rem;border-radius:10px;border:none;cursor:pointer;transition:background .3s}.btn-save[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#5a6268}.hint[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;margin-top:-10px;margin-bottom:10px;padding-left:4px}.optional-field[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:-6px;margin-top:10px;padding-left:2px}.plus[_ngcontent-%COMP%]{color:#007bff;font-weight:700;font-size:1.2rem}.optional-label[_ngcontent-%COMP%]{color:#007bff;font-size:.95rem}"]})}}return i})();var ts=(()=>{class i{constructor(e){this.router=e}goBack(){this.router.navigate(["/main/checkout"])}goToAllProducts(){this.router.navigate(["/main/AllProducts"])}goToOrderStatus(){this.router.navigate(["/main/orders-list"])}static{this.\u0275fac=function(t){return new(t||i)(y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-order-success"]],standalone:!0,features:[O],decls:35,vars:0,consts:[[1,"container"],[1,"d-flex","align-items-center","justify-content-center","mb-5",2,"max-width","700px","margin","0 auto"],[1,"d-flex","align-items-center","gap-3","px-4","py-2","rounded","shadow-sm",2,"background-color","#eeeeee","min-width","500px"],[1,"text-dark","fs-4","m-0",2,"cursor","pointer",3,"click"],[1,"bi","bi-arrow-left"],[1,"m-0"],[1,"mx-auto","text-center","position-relative","overflow-hidden"],[1,"floating-dots-global"],[1,"dot"],[1,"position-relative","d-flex","justify-content-center","align-items-center","mb-5",2,"z-index","1"],[1,"bg-primary","text-white","rounded-circle","d-flex","justify-content-center","align-items-center",2,"width","130px","height","130px","font-size","60px","box-shadow","0 0 30px rgba(0,0,255,0.2)"],[1,"bi","bi-check-lg"],[1,"position-relative","d-inline-block","mb-4",2,"z-index","1"],[1,"fw-bold","mb-4",2,"font-size","28px"],[1,"text-muted","mb-4","fs-5"],[1,"fw-bold"],[1,"btn","btn-primary","mt-3","fs-5","px-4","py-2",3,"click"],[1,"btn","btn-outline-secondary","mt-3","fs-5","px-4","py-2","ms-2",3,"click"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),v("click",function(){return n.goBack()}),f(4,"i",4),s(),a(5,"h4",5),l(6,"Check Out"),s()()(),a(7,"div",6)(8,"div",7),f(9,"span",8)(10,"span",8)(11,"span",8)(12,"span",8)(13,"span",8)(14,"span",8)(15,"span",8)(16,"span",8)(17,"span",8),s(),a(18,"div",9)(19,"div",10),f(20,"i",11),s()(),a(21,"div",12)(22,"h5",13),l(23,"Thank you"),s()(),a(24,"p",14),l(25," Your Order will be delivered with invoice "),a(26,"span",15),l(27,"#9ds69hs"),s(),l(28,"."),f(29,"br"),l(30," You can track the delivery in the order section. "),s(),a(31,"button",16),v("click",function(){return n.goToAllProducts()}),l(32,"Continue Order"),s(),a(33,"button",17),v("click",function(){return n.goToOrderStatus()}),l(34,`
Order Status
`),s()()())},styles:["body[_ngcontent-%COMP%]{background-color:#cae3fa;margin:0;padding:0;font-family:Segoe UI,sans-serif}.pulse-circle[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border:2px solid #3b82f6;animation:_ngcontent-%COMP%_pulse 2s infinite ease-in-out;opacity:.7}.circle1[_ngcontent-%COMP%]{width:140px;height:140px;animation-delay:0s}.circle2[_ngcontent-%COMP%]{width:170px;height:170px;animation-delay:.5s}.circle3[_ngcontent-%COMP%]{width:200px;height:200px;animation-delay:1s}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.8);opacity:.5}50%{transform:scale(1.1);opacity:.2}to{transform:scale(1.5);opacity:0}}[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f2f8ff;padding-top:40px}.floating-dots[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.dot[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background-color:#0d6efd;border-radius:50%;opacity:.6;animation:_ngcontent-%COMP%_bounce 1.5s infinite ease-in-out}.dot1[_ngcontent-%COMP%]{top:0;left:60px;animation-delay:0s}.dot2[_ngcontent-%COMP%]{top:30px;right:60px;animation-delay:.3s}.dot3[_ngcontent-%COMP%]{bottom:10px;left:40px;animation-delay:.6s}.dot4[_ngcontent-%COMP%]{bottom:-15px;right:30px;animation-delay:.9s}.dot5[_ngcontent-%COMP%]{top:-20px;right:25px;animation-delay:1.2s}.dot6[_ngcontent-%COMP%]{top:-10px;left:-20px;animation-delay:0s}.dot7[_ngcontent-%COMP%]{top:0;right:-20px;animation-delay:.3s}.dot8[_ngcontent-%COMP%]{bottom:-10px;left:50%;animation-delay:.6s}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:scale(.8);opacity:.5}50%{transform:scale(1.4);opacity:1}}[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f2f8ff}body[_ngcontent-%COMP%]{background-color:#e2f1ff;margin:0;padding:0;font-family:Segoe UI,sans-serif}.floating-dots[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}.dot[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#0d6efd;border-radius:50%;opacity:.6;animation:_ngcontent-%COMP%_pulse 2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(.7);opacity:.5}50%{transform:scale(1.4);opacity:1}}.floating-dots-global[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#007bff;border-radius:50%;animation:_ngcontent-%COMP%_float 3s infinite ease-in-out;opacity:.5}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(1){top:20%;left:30%;animation-delay:0s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(2){top:40%;left:10%;animation-delay:.5s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(3){top:60%;left:80%;animation-delay:1s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(4){top:10%;left:60%;animation-delay:1.5s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(5){top:50%;left:50%;animation-delay:2s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(6){top:30%;left:70%;animation-delay:2.5s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7){top:70%;left:20%;animation-delay:3s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(8){top:15%;left:85%;animation-delay:3.5s}.floating-dots-global[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(9){top:85%;left:40%;animation-delay:4s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:scale(1);opacity:.4}50%{transform:scale(1.8);opacity:.8}}"]})}}return i})();var ns=(()=>{class i{constructor(e){this.router=e,this.userName="",this.userEmail="",this.userPhone=""}ngOnInit(){this.userName=sessionStorage.getItem("displayName")||"User",this.userEmail=sessionStorage.getItem("email")||"example@mail.com",this.userPhone=sessionStorage.getItem("phoneNumber")||""}navigateTo(e){this.router.navigate([`/main/${e}`])}static{this.\u0275fac=function(t){return new(t||i)(y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-profile"]],standalone:!0,features:[O],decls:32,vars:3,consts:[[1,"profile-wrapper"],[1,"header-banner"],[1,"header-title"],[1,"profile-content"],[1,"user-info"],["src","https://cdn-icons-png.flaticon.com/512/2922/2922510.png","alt","User",1,"user-img"],[1,"user-details"],[1,"user-name"],[1,"user-phone"],[1,"fas","fa-phone"],[1,"user-email"],[1,"fas","fa-envelope"],[1,"action-list"],[1,"action-item",3,"click"],[1,"fas","fa-edit"],[1,"arrow"],[1,"fas","fa-pills"],[1,"fas","fa-file-medical-alt"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),l(3,"Profile"),s()(),a(4,"div",3)(5,"div",4),f(6,"img",5),a(7,"div",6)(8,"div",7),l(9),s(),a(10,"div",8),f(11,"i",9),l(12),s(),a(13,"div",10),f(14,"i",11),l(15),s()()(),a(16,"div",12)(17,"div",13),v("click",function(){return n.navigateTo("edit-profile")}),f(18,"i",14),l(19," Edit Profile "),a(20,"span",15),l(21,"\u203A"),s()(),a(22,"div",13),v("click",function(){return n.navigateTo("FeatureCard")}),f(23,"i",16),l(24," Recommended Medications "),a(25,"span",15),l(26,"\u203A"),s()(),a(27,"div",13),v("click",function(){return n.navigateTo("side-effects-questions")}),f(28,"i",17),l(29," Medication side Effects Notes "),a(30,"span",15),l(31,"\u203A"),s()()()()()),t&2&&(c(9),C(n.userName),c(3),S(" ",n.userPhone,""),c(3),S(" ",n.userEmail," "))},styles:[".profile-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px;background:#f7f9fc;margin-left:120px}.header-banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:20px;text-align:center}.header-icon[_ngcontent-%COMP%]{font-size:60px;color:#4a90e2;margin-bottom:8px}.header-title[_ngcontent-%COMP%]{font-size:35px;font-weight:700}.profile-content[_ngcontent-%COMP%]{background:#fff;padding:40px 30px;border-radius:16px;box-shadow:0 0 15px #0000001a;width:95%;max-width:900px;min-height:65vh;display:flex;flex-direction:column;justify-content:flex-start}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.user-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-right:20px}.user-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.user-email[_ngcontent-%COMP%]{font-size:14px;color:#888}.action-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:80px}.action-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#f0f4f8;padding:14px 18px;border-radius:10px;cursor:pointer;transition:background .2s ease;font-size:16px}.action-item[_ngcontent-%COMP%]:hover{background:#e2e8f0}.action-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;color:#4a90e2}.arrow[_ngcontent-%COMP%]{color:#999}"]})}}return i})();var Ei=Qs(Ys());var is=(()=>{class i{constructor(e){this.http=e,this.baseUrl=ne.baseUrl}updateProfile(e){let n={Authorization:`Bearer ${sessionStorage.getItem("token")}`};return this.http.post(`${this.baseUrl}/api/Accounts/EditProfile`,e,{headers:n})}static{this.\u0275fac=function(t){return new(t||i)(j(De))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ad=i=>({"border-primary border-3":i});function ld(i,r){if(i&1){let e=T();a(0,"div",18),v("click",function(){let n=P(e).$implicit,o=h();return w(o.onImageSelect(n.url))}),f(1,"img",19),s()}if(i&2){let e=r.$implicit,t=h();u("ngClass",pe(2,ad,t.selectedImage===e.url)),c(),u("src",e.url,ee)}}function cd(i,r){i&1&&(a(0,"div",20),l(1," User name is required (min 2 characters) "),s())}function dd(i,r){i&1&&(a(0,"div",20),l(1," Phone number must be at least 11 characters "),s())}function pd(i,r){i&1&&f(0,"span",21)}var rs=(()=>{class i{constructor(e,t,n){this.fb=e,this.profileService=t,this.router=n,this.isLoading=!1,this.profileImages=[{url:"https://cdn-icons-png.flaticon.com/512/2922/2922510.png",label:"Male 1"},{url:"https://cdn-icons-png.flaticon.com/512/2922/2922522.png",label:"Male 2"},{url:"https://cdn-icons-png.flaticon.com/512/2922/2922561.png",label:"Female 1"},{url:"https://cdn-icons-png.flaticon.com/512/2922/2922566.png",label:"Female 2"}],this.selectedImage=this.profileImages[0].url}ngOnInit(){let e=sessionStorage.getItem("displayName")||"",t=sessionStorage.getItem("email")||"",n=sessionStorage.getItem("phoneNumber")||"",o=sessionStorage.getItem("imageUrl");o&&(this.selectedImage=o),this.profileForm=this.fb.group({firstName:[e,[D.required,D.minLength(2)]],email:[{value:t,disabled:!0}],phone:[n,[D.minLength(11)]]})}onImageSelect(e){this.selectedImage=e}onSubmit(){if(this.profileForm.invalid)return;this.isLoading=!0;let e={DisplayName:this.profileForm.get("firstName")?.value,PhoneNumber:this.profileForm.get("phone")?.value};console.log(e),this.profileService.updateProfile(e).subscribe({next:()=>{sessionStorage.setItem("displayName",e.DisplayName),sessionStorage.setItem("phoneNumber",e.PhoneNumber),sessionStorage.setItem("imageUrl",this.selectedImage),this.isLoading=!1,Ei.default.fire({icon:"success",title:"Profile updated!",timer:1500,showConfirmButton:!1}).then(()=>this.router.navigate(["/main/profile"]))},error:()=>{this.isLoading=!1,Ei.default.fire({icon:"error",title:"Failed to update profile",text:"Please try again later."})}})}onCancel(){this.router.navigate(["/main/profile"])}static{this.\u0275fac=function(t){return new(t||i)(y(Ae),y(is),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-edit-profile"]],standalone:!0,features:[O],decls:27,vars:7,consts:[[1,"container","py-4"],[1,"card","p-4","mx-auto","shadow",2,"max-width","600px"],[1,"mb-4","text-center","text-primary"],[1,"text-center","mb-3"],["width","100","height","100","alt","Profile",1,"rounded-circle","border",3,"src"],[1,"d-flex","justify-content-center","mb-4","flex-wrap"],["class","mx-2 border rounded p-1 mb-2","style","cursor: pointer;",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3","position-relative"],["formControlName","firstName",1,"form-control","pe-5"],[1,"bi","bi-pencil","position-absolute","bottom-0","end-0","mb-2","me-3","text-muted",2,"cursor","pointer"],["class","text-danger small",4,"ngIf"],[1,"form-group","mb-4","position-relative"],["type","text","formControlName","phone","pattern","[0-9]*","inputmode","numeric",1,"form-control","pe-5"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary","d-flex","align-items-center",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"mx-2","border","rounded","p-1","mb-2",2,"cursor","pointer",3,"click","ngClass"],["alt","Avatar","width","40","height","40",3,"src"],[1,"text-danger","small"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(t,n){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),l(3,"Edit Profile"),s(),a(4,"div",3),f(5,"img",4),s(),a(6,"div",5),_(7,ld,2,4,"div",6),s(),a(8,"form",7),v("ngSubmit",function(){return n.onSubmit()}),a(9,"div",8)(10,"label"),l(11,"User Name"),s(),f(12,"input",9)(13,"i",10),_(14,cd,2,0,"div",11),s(),a(15,"div",12)(16,"label"),l(17,"Phone Number"),s(),f(18,"input",13)(19,"i",10),_(20,dd,2,0,"div",11),s(),a(21,"div",14)(22,"button",15),v("click",function(){return n.onCancel()}),l(23,"Cancel"),s(),a(24,"button",16),_(25,pd,1,0,"span",17),l(26," Save "),s()()()()()),t&2){let o,d;c(5),u("src",n.selectedImage,ee),c(2),u("ngForOf",n.profileImages),c(),u("formGroup",n.profileForm),c(6),u("ngIf",((o=n.profileForm.get("firstName"))==null?null:o.invalid)&&((o=n.profileForm.get("firstName"))==null?null:o.touched)),c(6),u("ngIf",((d=n.profileForm.get("phone"))==null?null:d.invalid)&&((d=n.profileForm.get("phone"))==null?null:d.touched)),c(4),u("disabled",n.profileForm.invalid||n.isLoading),c(),u("ngIf",n.isLoading)}},dependencies:[$,ve,te,K,he,fe,ae,le,ge,ro,Se,Pe]})}}return i})();function md(i,r){i&1&&(a(0,"div",9),l(1,` Loading order...
`),s())}function ud(i,r){i&1&&(a(0,"div",9),l(1,` Order not found.
`),s())}function gd(i,r){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"div",12),f(3,"img",13),a(4,"div")(5,"div",14),l(6,"Order ID"),s(),a(7,"div",15),l(8),s()()(),a(9,"div",16)(10,"div",17),l(11),U(12,"date"),s(),a(13,"span",18),l(14),s()()()()),i&2){let e=h();c(8),S("##E000",e.order.id,""),c(3),S(" ",J(12,4,e.order.orderDate,"dd MMMM yyyy, HH:mm")," "),c(2),u("ngClass",e.getOrderStatusClass(e.order.status)),c(),S(" ",e.getOrderStatusText(e.order.status)," ")}}function fd(i,r){i&1&&(a(0,"div",27),l(1," No items in this order. "),s())}function hd(i,r){if(i&1&&(a(0,"div",28)(1,"div",29),f(2,"img",30),a(3,"div")(4,"h5",31),l(5),s(),a(6,"p",32),l(7),s(),a(8,"p",33),l(9),U(10,"currency"),s()()()()),i&2){let e=r.$implicit;c(2),Tr("alt",e.productName||(e.product==null?null:e.product.productName)),u("src",e.pictureUrl||(e.product==null?null:e.product.pictureUrl)||"https://via.placeholder.com/90",ee),c(3),C(e.productName||(e.product==null?null:e.product.productName)),c(2),S("Qty: ",e.quantity,""),c(2),S("Price: ",J(10,5,e.price," EGP"),"")}}function _d(i,r){if(i&1&&(a(0,"div",19),_(1,fd,2,0,"div",20)(2,hd,11,8,"div",21),a(3,"div",22)(4,"h5",23),l(5,"\u{1F9FE} Order Summary"),s(),a(6,"p",24),l(7,"Total items: "),a(8,"strong"),l(9),s()(),a(10,"p",24),l(11,"Shipping Price: "),a(12,"strong"),l(13),U(14,"currency"),s()(),a(15,"p",25),l(16,"Price: "),a(17,"strong"),l(18),U(19,"currency"),s()(),f(20,"div",26),a(21,"p",25),l(22,"Total price: "),a(23,"strong"),l(24),U(25,"currency"),s()()(),f(26,"br"),s()),i&2){let e=h();c(),u("ngIf",!e.order.items||e.order.items.length===0),c(),u("ngForOf",e.order.items),c(7),C(e.order.items==null?null:e.order.items.length),c(4),C(J(14,6,e.order.deliveryMethodCost,"EGP")),c(5),C(J(19,9,e.order.subTotal,"EGP")),c(6),C(J(25,12,e.order.total||e.order.getTotal,"EGP"))}}var os=(()=>{class i{constructor(e,t){this.route=e,this.orderService=t,this.order=null,this.isLoading=!0}ngOnInit(){this.route.queryParams.subscribe(e=>{let t=Number(e.orderId);t?(this.isLoading=!0,this.orderService.getOrderById(t).subscribe({next:n=>{this.order=n,this.isLoading=!1,console.log("Order loaded successfully",this.order)},error:n=>{console.error("Error loading order",n),this.isLoading=!1,this.order=null}})):this.isLoading=!1})}getOrderStatusText(e){switch(e){case 0:case"Pending":return"Pending";case 1:case"Processing":return"Processing";case 2:case"Shipped":return"Shipped";case 3:case"Delivered":return"Delivered";case 4:case"Rejected":return"Rejected";default:return"Pending"}}getOrderStatusClass(e){switch(e){case 0:case"Pending":return"badge bg-warning text-dark";case 1:case"Processing":return"badge bg-primary";case 2:case"Shipped":return"badge bg-info text-dark";case 3:case"Delivered":return"badge bg-success";case 4:case"Rejected":return"badge bg-danger";default:return"badge bg-warning text-dark"}}static{this.\u0275fac=function(t){return new(t||i)(y(ye),y(Yt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-orderstatus"]],standalone:!0,features:[O],decls:11,vars:4,consts:[[1,"ms-5","min-vh-100"],[1,"products-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"page-title"],["class","text-center my-4",4,"ngIf"],["class","container d-flex flex-column align-items-center justify-content-center my-3",4,"ngIf"],["class","container mt-4",4,"ngIf"],[1,"text-center","my-4"],[1,"container","d-flex","flex-column","align-items-center","justify-content-center","my-3"],[1,"d-flex","align-items-center","justify-content-between","border","rounded","p-3","mb-3","shadow-sm","w-75"],[1,"d-flex","align-items-center","gap-3"],["src","assets/imgs/truc-icon.jpg","alt","Truck",2,"width","50px","height","50px"],[1,"fw-bold","text-muted","small"],[1,"fw-bold","text-primary","fs-5"],[1,"text-end"],[1,"text-muted","mb-1","fs-6"],[1,"px-3","py-1","rounded-pill",3,"ngClass"],[1,"container","mt-4"],["class","alert alert-info text-center mb-3",4,"ngIf"],["class","d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"bg-light","border","rounded","p-3","shadow-sm","mt-3",2,"width","75%","margin","0 auto"],[1,"fw-bold","mb-2"],[1,"mb-1"],[1,"mb-0"],[2,"border-top","1px solid grey","margin","10px 0"],[1,"alert","alert-info","text-center","mb-3"],[1,"d-flex","justify-content-center"],[1,"cart-item-box","d-flex","align-items-center","shadow-sm","rounded","mb-2","p-3",2,"width","75%"],[1,"img-thumbnail","me-3","cart-image",2,"width","90px","height","90px","object-fit","cover",3,"src","alt"],[1,"mb-1","text-primary","fw-semibold"],[1,"mb-1","text-muted","small"],[1,"mb-0","text-muted","small"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l(6,"Your Order status"),s()()()()(),_(7,md,2,0,"div",6)(8,ud,2,0,"div",6)(9,gd,15,7,"div",7)(10,_d,27,15,"div",8),s()),t&2&&(c(7),u("ngIf",n.isLoading),c(),u("ngIf",!n.isLoading&&!n.order),c(),u("ngIf",!n.isLoading&&n.order),c(),u("ngIf",n.order))},dependencies:[$,ve,te,K,be,He],styles:[".cart-image[_ngcontent-%COMP%]{width:90px;height:90px;object-fit:cover;border-radius:8px}.cart-item[_ngcontent-%COMP%]{background-color:#fff;transition:box-shadow .2s ease-in-out}.cart-item-box[_ngcontent-%COMP%]{width:80%;background-color:#fff;border:1px solid #dee2e6}.cart-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0000000d}.products-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:3rem 0;margin-bottom:2rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin-bottom:0}"]})}}return i})();var ss=(i,r)=>r.id;function vd(i,r){if(i&1){let e=T();a(0,"div",7)(1,"img",8),v("load",function(n){P(e);let o=h(2);return w(o.onImageLoad(n))})("error",function(n){P(e);let o=h(2);return w(o.onImageError(n))}),s(),a(2,"div",9)(3,"h2",10),l(4),s(),a(5,"p",11),l(6),s()()()}if(i&2){let e=h().$implicit;c(),u("src",e.imageUrl,ee)("alt",e.title),c(3),C(e.title),c(2),C(e.description)}}function xd(i,r){i&1&&_(0,vd,7,4,"ng-template",3)}function bd(i,r){if(i&1){let e=T();a(0,"div",12)(1,"div",13),l(2),s(),a(3,"div",14),f(4,"i"),s(),a(5,"div",15)(6,"h3",16),l(7),s(),a(8,"p",17),l(9),s(),a(10,"button",18),v("click",function(){let n=P(e).$implicit;return w(n.action())}),a(11,"span"),l(12),s(),f(13,"i",19),s()()()}if(i&2){let e=r.$implicit,t=r.$index;se(e.gradientClass),c(2),C(t+1),c(2),se(e.iconClass),c(3),C(e.title),c(2),C(e.description),c(3),C(e.buttonText)}}var as=(()=>{class i{constructor(e){this.router=e,this.currentSlide=Cn(0),this.carouselItems=[{id:1,imageUrl:"assets/imgs/car1.jpeg",title:"Welcome to Our Pharmacy",description:"Your health is our priority - we provide the best medicines and medical services"},{id:2,imageUrl:"assets/imgs/car1 (2).jpeg",title:"High-Quality Medicines",description:"We guarantee original medicines from the best international companies"},{id:3,imageUrl:"assets/imgs/car3.jpeg",title:"Expert Medical Consultation",description:"Team of specialized pharmacists to provide appropriate medical advice"},{id:4,imageUrl:"assets/imgs/car4.jpeg",title:"Fast & Secure Delivery",description:"Reliable and fast delivery service to ensure medicine arrives on time"}],this.featureCards=[{id:1,title:"My Recommendations",description:"Get personalized medical recommendations for your health condition",buttonText:"Get Recommendations",iconClass:"fa-solid fa-pills",gradientClass:"gradient-blue",action:()=>this.router.navigate(["/main/MyRecommendation"])},{id:2,title:"Conflict medicines",description:"Conflict medicines are medicines that may interact with each other",buttonText:"Check Interactions",iconClass:"fa-solid fa-triangle-exclamation",gradientClass:"gradient-purple",action:()=>this.router.navigate(["/main/Conflict"])},{id:3,title:"Safety Summary",description:"Quick overview of important medication safety information",buttonText:"View Summary",iconClass:"fa-solid fa-clipboard-check",gradientClass:"gradient-cyan",action:()=>this.router.navigate(["/main/safety"])}],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:600,navText:["",""],autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!0}}ngOnInit(){this.startAutoSlide()}ngOnDestroy(){this.stopAutoSlide()}startAutoSlide(){this.autoSlideInterval=setInterval(()=>{this.nextSlide()},5e3)}stopAutoSlide(){this.autoSlideInterval&&clearInterval(this.autoSlideInterval)}nextSlide(){this.currentSlide.update(e=>e>=this.carouselItems.length-1?0:e+1)}prevSlide(){this.currentSlide.update(e=>e<=0?this.carouselItems.length-1:e-1)}goToSlide(e){this.currentSlide.set(e)}onImageError(e){console.error("Failed to load image:",e.target.src),e.target.src="assets/images/placeholder.jpg",e.target.onerror=null}onImageLoad(e){console.log("Image loaded successfully:",e.target.src)}static{this.\u0275fac=function(t){return new(t||i)(y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-feature-card"]],standalone:!0,features:[O],decls:9,vars:1,consts:[[1,"features-container"],[1,"carousel-container"],[3,"options"],["carouselSlide",""],[1,"features-section"],[1,"features-grid"],[1,"feature-card",3,"class"],[1,"carousel-slide"],[3,"load","error","src","alt"],[1,"carousel-overlay"],[1,"carousel-title"],[1,"carousel-description"],[1,"feature-card"],[1,"card-number"],[1,"card-icon"],[1,"card-content"],[1,"card-title"],[1,"card-description"],[1,"card-button",3,"click"],[1,"fa-solid","fa-arrow-right"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"owl-carousel-o",2),Pt(3,xd,1,0,null,3,ss),s()(),a(5,"div",4)(6,"div",5),Pt(7,bd,14,8,"div",6,ss),s()()()),t&2&&(c(2),u("options",n.customOptions),c(),wt(n.carouselItems),c(4),wt(n.featureCards))},dependencies:[$e,Ln,Wo,Mi],styles:['.features-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.carousel-section[_ngcontent-%COMP%]{margin-bottom:40px}.carousel-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;position:relative}.carousel-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:400px}.carousel-track[_ngcontent-%COMP%]{display:flex;width:400%;height:100%;transition:transform .5s ease-in-out}.carousel-slide[_ngcontent-%COMP%]{width:25%;height:100%;position:relative;flex-shrink:0}.carousel-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.slide-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,#000000b3);color:#fff;padding:30px 20px 20px}.slide-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0 0 8px}.slide-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.9}.carousel-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#ffffffe6;border:none;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:10}.carousel-btn[_ngcontent-%COMP%]:hover{background:#fff;box-shadow:0 4px 12px #00000026}.carousel-btn.prev[_ngcontent-%COMP%]{left:15px}.carousel-btn.next[_ngcontent-%COMP%]{right:15px}.carousel-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#333}.carousel-dots[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:15px;background:#fff;gap:8px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:none;background:#e0e0e0;cursor:pointer;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]{background:#4285f4;transform:scale(1.2)}.dot.current[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);width:24px;border-radius:6px}.features-section[_ngcontent-%COMP%]{margin-top:30px}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;padding:20px 0}.feature-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:20px;padding:30px 25px;box-shadow:0 8px 25px #00000014;transition:all .3s ease;overflow:hidden;min-height:280px;display:flex;flex-direction:column}.feature-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--gradient-start),var(--gradient-end))}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #0000001f}.gradient-blue[_ngcontent-%COMP%], .gradient-orange[_ngcontent-%COMP%], .gradient-purple[_ngcontent-%COMP%], .gradient-cyan[_ngcontent-%COMP%]{--gradient-start: #4285f4;--gradient-end: #34a853}.card-number[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;width:30px;height:30px;background:#0000000d;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px;color:#666}.card-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,var(--gradient-start),var(--gradient-end));display:flex;align-items:center;justify-content:center;margin-bottom:20px;box-shadow:0 4px 15px #0000001a}.card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#333;margin:0 0 10px;line-height:1.3}.card-description[_ngcontent-%COMP%]{color:#666;font-size:.9rem;line-height:1.5;margin:0 0 25px;flex:1}.card-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--gradient-start),var(--gradient-end));color:#fff;border:none;padding:12px 20px;border-radius:25px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:space-between;margin-top:auto}.card-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.card-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease;margin-left:8px}.card-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(3px)}@media (max-width: 768px){.features-container[_ngcontent-%COMP%]{padding:15px}.carousel-wrapper[_ngcontent-%COMP%]{height:200px}.features-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.feature-card[_ngcontent-%COMP%]{padding:25px 20px;min-height:250px}.card-title[_ngcontent-%COMP%]{font-size:1.1rem}.card-description[_ngcontent-%COMP%]{font-size:.85rem}.carousel-btn[_ngcontent-%COMP%]{width:35px;height:35px}.carousel-btn.prev[_ngcontent-%COMP%]{left:10px}.carousel-btn.next[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.carousel-wrapper[_ngcontent-%COMP%]{height:180px}.slide-overlay[_ngcontent-%COMP%]{padding:20px 15px 15px}.slide-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.slide-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.feature-card[_ngcontent-%COMP%]{padding:20px 15px}}.features-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:20px}.carousel-container[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;border-radius:15px;overflow:hidden;box-shadow:0 20px 40px #0000001a}.owl-carousel[_ngcontent-%COMP%], .owl-carousel[_ngcontent-%COMP%]   .owl-item[_ngcontent-%COMP%]{position:relative}.carousel-slide[_ngcontent-%COMP%]{position:relative;width:100%;height:400px;overflow:hidden;border-radius:15px}.carousel-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;transition:transform .5s ease}.carousel-slide[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.carousel-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#000000b3,#0000004d,#0000001a);display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:40px;color:#fff}.carousel-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:15px;text-shadow:2px 2px 4px rgba(0,0,0,.5);opacity:0;transform:translate(-30px);animation:_ngcontent-%COMP%_slideInLeft .8s ease forwards}.carousel-description[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:300;margin-bottom:25px;text-shadow:1px 1px 2px rgba(0,0,0,.5);opacity:0;transform:translate(-30px);animation:_ngcontent-%COMP%_slideInLeft .8s ease .2s forwards;max-width:500px;line-height:1.6}.carousel-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 30px;border-radius:25px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #0003;opacity:0;transform:translate(-30px);animation:_ngcontent-%COMP%_slideInLeft .8s ease .4s forwards}.carousel-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000004d}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;justify-content:space-between;padding:0 20px;pointer-events:none}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffffffe6!important;color:#333!important;border:none!important;border-radius:50%!important;width:50px!important;height:50px!important;display:flex!important;align-items:center!important;justify-content:center!important;font-size:18px!important;cursor:pointer!important;transition:all .3s ease!important;box-shadow:0 4px 15px #0003!important;pointer-events:all!important}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff!important;transform:scale(1.1)!important;box-shadow:0 6px 20px #0000004d!important}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button.owl-prev[_ngcontent-%COMP%]:before{content:"\\2190"!important;font-size:20px!important;font-weight:700!important}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button.owl-next[_ngcontent-%COMP%]:before{content:"\\2192"!important;font-size:20px!important;font-weight:700!important}.owl-carousel[_ngcontent-%COMP%]   .owl-dots[_ngcontent-%COMP%]{text-align:center;padding:20px 0;position:absolute;bottom:20px;left:50%;transform:translate(-50%)}.owl-carousel[_ngcontent-%COMP%]   .owl-dots[_ngcontent-%COMP%]   .owl-dot[_ngcontent-%COMP%]{display:inline-block;margin:0 5px;width:12px;height:12px;border-radius:50%;background:#ffffff80;transition:all .3s ease;cursor:pointer}.owl-carousel[_ngcontent-%COMP%]   .owl-dots[_ngcontent-%COMP%]   .owl-dot.active[_ngcontent-%COMP%]{background:#fff;transform:scale(1.2)}@keyframes _ngcontent-%COMP%_slideInLeft{to{opacity:1;transform:translate(0)}}.features-section[_ngcontent-%COMP%]{margin-top:50px}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin-top:30px}.feature-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px;position:relative;overflow:hidden;transition:all .3s ease;box-shadow:0 10px 30px #0000001a;border:1px solid rgba(255,255,255,.2)}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #00000026}.feature-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#667eea,#19b896dc)}.gradient-blue[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#667eea,#19b896dc)}.gradient-orange[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#667eea,#19b896dc)}.gradient-purple[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#667eea,#19b896dc)}.gradient-cyan[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#667eea,#19b896dc)}.card-number[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#0000001a;color:#666;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px}.card-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:15px;background:linear-gradient(135deg,#5addc1dc,#19b896dc);display:flex;align-items:center;justify-content:center;margin-bottom:20px}.card-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#fff}.card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;margin-bottom:10px;color:#333}.card-description[_ngcontent-%COMP%]{color:#666;margin-bottom:20px;line-height:1.6}.card-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;border:none;padding:12px 25px;border-radius:25px;cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:600;transition:all .3s ease;width:100%;justify-content:center}.card-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0003}@media (max-width: 768px){.carousel-slide[_ngcontent-%COMP%]{height:300px}.carousel-overlay[_ngcontent-%COMP%]{padding:30px 20px}.carousel-title[_ngcontent-%COMP%]{font-size:2rem}.carousel-description[_ngcontent-%COMP%]{font-size:1rem}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px!important;height:40px!important;font-size:16px!important}.features-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.carousel-slide[_ngcontent-%COMP%]{height:250px}.carousel-title[_ngcontent-%COMP%]{font-size:1.8rem}.carousel-description[_ngcontent-%COMP%]{font-size:.9rem}.owl-carousel[_ngcontent-%COMP%]   .owl-nav[_ngcontent-%COMP%]{padding:0 10px}}']})}}return i})();function yd(i,r){i&1&&(a(0,"div",4),f(1,"div",5),a(2,"p"),l(3,"Loading your safety summary..."),s()())}function Cd(i,r){if(i&1){let e=T();a(0,"div",6)(1,"p"),l(2),s(),a(3,"button",7),v("click",function(){P(e);let n=h();return w(n.loadSafetySummary())}),l(4,"Try Again"),s()()}if(i&2){let e=h();c(2),C(e.error)}}function Sd(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Pd(i,r){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"h2"),f(3,"i",12),l(4),s(),a(5,"p"),l(6),s(),a(7,"div",13)(8,"h3"),l(9,"Missing Information:"),s(),a(10,"ul"),_(11,Sd,2,1,"li",14),s()(),a(12,"p",15),l(13),s(),a(14,"a",16),l(15," Complete My Profile Now "),s()()()),i&2){let e=h(2);c(4),C(e.safetySummary.title),c(2),C(e.safetySummary.message),c(5),u("ngForOf",e.safetySummary.missingFields),c(2),C(e.safetySummary.actionRequired)}}function wd(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Md(i,r){if(i&1&&(a(0,"div",30)(1,"h3"),l(2,"Top Recommendation"),s(),a(3,"div",31)(4,"div",32),f(5,"img",33),s(),a(6,"div",34)(7,"h4"),l(8),s(),a(9,"p"),l(10),s(),a(11,"p")(12,"strong"),l(13,"Active Ingredient:"),s(),l(14),s(),a(15,"p")(16,"strong"),l(17,"Price:"),s(),l(18),U(19,"currency"),s(),a(20,"p")(21,"strong"),l(22,"Safety Score:"),s(),l(23),s(),a(24,"p")(25,"strong"),l(26,"Effectiveness:"),s(),l(27),s(),a(28,"p",35),l(29),s()()()()),i&2){let e=h(3);c(5),u("src",e.safetySummary.topRecommendation.productPictureUrl,ee),c(3),C(e.safetySummary.topRecommendation.productName),c(2),C(e.safetySummary.topRecommendation.productDescription),c(4),S(" ",e.safetySummary.topRecommendation.activeIngredient,""),c(4),S(" ",J(19,8,e.safetySummary.topRecommendation.productPrice,"EGP"),""),c(5),S(" ",e.safetySummary.topRecommendation.safetyScore,"/5"),c(4),S(" ",e.safetySummary.topRecommendation.effectivenessScore,"/5"),c(2),C(e.safetySummary.topRecommendation.recommendationReason)}}function Od(i,r){if(i&1&&(a(0,"div",17)(1,"div",18)(2,"h2"),l(3,"Your Medication Safety Summary"),s(),a(4,"p",19),l(5),U(6,"date"),s()(),a(7,"div",20)(8,"p"),l(9),s()(),a(10,"div",21)(11,"h3"),l(12,"Overall Risk Assessment"),s(),a(13,"p"),l(14),s()(),a(15,"div",22)(16,"div",23)(17,"h4"),l(18,"Safe Recommendations"),s(),a(19,"p",24),l(20),s()(),a(21,"div",25)(22,"h4"),l(23,"Conflicted Items"),s(),a(24,"p",24),l(25),s()()(),a(26,"div",26)(27,"h3"),l(28,"Safety Highlights"),s(),a(29,"ul"),_(30,wd,2,1,"li",14),s()(),a(31,"div",27)(32,"p"),l(33),s()(),_(34,Md,30,11,"div",28),a(35,"div",29)(36,"h3"),l(37,"Recommended Action"),s(),a(38,"p"),l(39),s()()()),i&2){let e=h(2);c(5),S("Generated at: ",J(6,9,e.safetySummary==null?null:e.safetySummary.generatedAt,"medium"),""),c(4),C(e.safetySummary==null?null:e.safetySummary.aiPersonalizedMessage),c(5),C(e.safetySummary==null?null:e.safetySummary.overallRiskAssessment),c(6),C(e.safetySummary==null?null:e.safetySummary.totalSafeRecommendations),c(5),C(e.safetySummary==null?null:e.safetySummary.totalConflictedItems),c(5),u("ngForOf",e.safetySummary==null?null:e.safetySummary.safetyHighlights),c(3),C(e.safetySummary==null?null:e.safetySummary.summary),c(),u("ngIf",e.safetySummary==null?null:e.safetySummary.topRecommendation),c(5),C(e.safetySummary==null?null:e.safetySummary.recommendedAction)}}function Ed(i,r){if(i&1&&(a(0,"div"),_(1,Pd,16,4,"div",8)(2,Od,40,12,"div",9),s()),i&2){let e=h();c(),u("ngIf",(e.safetySummary==null?null:e.safetySummary.isProfileComplete)===!1),c(),u("ngIf",(e.safetySummary==null?null:e.safetySummary.isProfileComplete)!==!1)}}var ls=(()=>{class i{constructor(e){this.recommendationService=e,this.isLoading=!0,this.error=null}ngOnInit(){this.loadSafetySummary()}loadSafetySummary(){this.isLoading=!0,this.error=null,this.recommendationService.getSafetySummary().subscribe({next:e=>{this.safetySummary=e,this.isLoading=!1},error:e=>{this.error="Failed to load safety summary. Please try again later.",this.isLoading=!1,console.error("Error loading safety summary:",e)}})}static{this.\u0275fac=function(t){return new(t||i)(y(nt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-safety-rec"]],standalone:!0,features:[O],decls:4,vars:3,consts:[[1,"safety-summary-container"],["class","loading-container",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-message"],[1,"retry-button",3,"click"],["class","incomplete-profile ",4,"ngIf"],["class","complete-summary",4,"ngIf"],[1,"incomplete-profile"],[1,"alert","alert-warning","bg-light-subtle"],[1,"fa-solid","fa-warning","me-1","text-warning","fs-2"],[1,"missing-fields"],[4,"ngFor","ngForOf"],[1,"action-required"],["routerLink","/profile",1,"btn-complete-profile"],[1,"complete-summary"],[1,"summary-header"],[1,"generated-at"],[1,"personalized-message"],[1,"risk-assessment"],[1,"stats-container"],[1,"stat-box","safe"],[1,"stat-value"],[1,"stat-box","conflicted"],[1,"safety-highlights"],[1,"summary-text"],["class","top-recommendation",4,"ngIf"],[1,"recommended-action"],[1,"top-recommendation"],[1,"recommendation-card"],[1,"product-image"],["alt","Product image",3,"src"],[1,"product-details"],[1,"recommendation-reason"]],template:function(t,n){t&1&&(a(0,"div",0),_(1,yd,4,0,"div",1)(2,Cd,5,1,"div",2)(3,Ed,3,2,"div",3),s()),t&2&&(c(),u("ngIf",n.isLoading),c(),u("ngIf",n.error),c(),u("ngIf",!n.isLoading&&!n.error))},dependencies:[He,$,te,K,be],styles:['.safety-summary-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px}.spinner[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;padding:20px;border-radius:8px;color:#c62828;text-align:center}.retry-button[_ngcontent-%COMP%]{background-color:#1565c0;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin-top:10px}.retry-button[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.incomplete-profile[_ngcontent-%COMP%]{padding:20px;border-radius:8px;margin-bottom:20px}.alert-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.missing-fields[_ngcontent-%COMP%]{margin:15px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#616161}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.action-required[_ngcontent-%COMP%]{font-weight:700;color:#e65100}.complete-profile-button[_ngcontent-%COMP%]{display:inline-block;background-color:#0288d1;color:#fff;padding:10px 20px;border-radius:4px;text-decoration:none;margin-top:10px}.complete-profile-button[_ngcontent-%COMP%]:hover{background-color:#0277bd}.complete-summary[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:8px}.summary-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0}.generated-at[_ngcontent-%COMP%]{color:#757575;font-size:.9em;margin-bottom:20px}.personalized-message[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:15px;border-radius:8px;margin-bottom:20px}.risk-assessment[_ngcontent-%COMP%]{background-color:#e3f2fd;padding:15px;border-radius:8px;margin-bottom:20px}.stats-container[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.stat-box[_ngcontent-%COMP%]{flex:1;padding:15px;border-radius:8px;text-align:center}.stat-box.safe[_ngcontent-%COMP%]{background-color:#e8f5e9;border-left:5px solid #2e7d32}.stat-box.conflicted[_ngcontent-%COMP%]{background-color:#ffebee;border-left:5px solid #c62828}.stat-value[_ngcontent-%COMP%]{font-size:2em;font-weight:700;margin:10px 0}.stat-box.safe[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#2e7d32}.stat-box.conflicted[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#c62828}.safety-highlights[_ngcontent-%COMP%]{background-color:#fffde7;padding:15px;border-radius:8px;margin-bottom:20px}.safety-highlights[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.safety-highlights[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.summary-text[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:15px;border-radius:8px;margin-bottom:20px;line-height:1.6}.top-recommendation[_ngcontent-%COMP%]{margin-bottom:20px}.recommendation-card[_ngcontent-%COMP%]{display:flex;gap:20px;background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain;border:1px solid #e0e0e0;border-radius:4px}.product-details[_ngcontent-%COMP%]{flex:1}.recommendation-reason[_ngcontent-%COMP%]{font-style:italic;color:#2e7d32;margin-top:10px}.recommended-action[_ngcontent-%COMP%]{background-color:#e3f2fd;padding:15px;border-radius:8px}.incomplete-profile[_ngcontent-%COMP%]{margin-bottom:40px}.alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:32px;border-radius:20px;box-shadow:0 12px 32px #ffd89b4d}.alert[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:16px;font-weight:700}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;opacity:.9}.missing-fields[_ngcontent-%COMP%]{background:#ffffff1a;padding:20px;border-radius:12px;margin:20px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:12px;font-size:18px}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0 8px 24px;position:relative}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#ff6b6b;font-weight:700;position:absolute;left:0}.action-required[_ngcontent-%COMP%]{font-weight:600;margin:20px 0;font-size:16px}.btn-complete-profile[_ngcontent-%COMP%]{background:#ffffffe6;color:#333;border:none;padding:14px 28px;border-radius:25px;cursor:pointer;font-weight:700;font-size:16px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a;text-decoration:none;display:inline-block}.btn-complete-profile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}']})}}return i})();function Td(i,r){i&1&&(a(0,"div",4),f(1,"div",5),a(2,"p"),l(3,"Checking product safety..."),s()())}function kd(i,r){if(i&1){let e=T();a(0,"div",6)(1,"p"),l(2),s(),a(3,"button",7),v("click",function(){P(e);let n=h();return w(n.checkProductSafety())}),l(4,"Try Again"),s()()}if(i&2){let e=h();c(2),C(e.error)}}function Id(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Dd(i,r){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"h2"),f(3,"i",12),l(4),s(),a(5,"p"),l(6),s(),a(7,"div",13)(8,"h3"),l(9,"Missing Information:"),s(),a(10,"ul"),_(11,Id,2,1,"li",14),s()(),a(12,"p",15),l(13),s(),a(14,"a",16),l(15," Complete My Profile Now "),s()()()),i&2){let e=h(2);c(4),C(e.productInfo.title),c(2),C(e.productInfo.message),c(5),u("ngForOf",e.productInfo.missingFields),c(2),C(e.productInfo.actionRequired)}}function Ad(i,r){if(i&1&&(a(0,"div",39)(1,"div",40),f(2,"i",41),a(3,"h3"),l(4,"Potential Conflict Detected"),s()(),a(5,"p"),l(6),s()()),i&2){let e=h(3);c(6),C(e.productInfo==null?null:e.productInfo.conflictDetails)}}function Fd(i,r){if(i&1&&(a(0,"div",17)(1,"div",18)(2,"h2"),l(3,"Product Safety Information"),s(),a(4,"p",19),l(5),U(6,"date"),s()(),a(7,"div",20)(8,"div",21),f(9,"img",22),s(),a(10,"div",23)(11,"h3"),l(12),s(),a(13,"p"),l(14),s(),a(15,"div",24)(16,"div",25)(17,"span",26),l(18,"Active Ingredient:"),s(),a(19,"span",27),l(20),s()(),a(21,"div",25)(22,"span",26),l(23,"Price:"),s(),a(24,"span",27),l(25),U(26,"currency"),s()()()()(),a(27,"div",28)(28,"div",29)(29,"h4"),l(30,"Safety Score"),s(),a(31,"div",30),l(32),s(),a(33,"div",31),f(34,"div",32),s()(),a(35,"div",33)(36,"h4"),l(37,"Effectiveness"),s(),a(38,"div",30),l(39),s(),a(40,"div",31),f(41,"div",32),s()(),a(42,"div",34)(43,"h4"),l(44,"Value"),s(),a(45,"div",30),l(46),U(47,"number"),s(),a(48,"div",31),f(49,"div",32),s()()(),a(50,"div",35)(51,"h3"),l(52,"Overall Score"),s(),a(53,"div",36),l(54),U(55,"number"),s()(),_(56,Ad,7,1,"div",37),a(57,"div",38)(58,"h3"),l(59,"Recommendation"),s(),a(60,"p"),l(61),s()()()),i&2){let e=h(2);c(5),S("Generated at: ",J(6,19,e.productInfo==null?null:e.productInfo.createdAt,"medium"),""),c(4),u("src",e.productInfo==null?null:e.productInfo.productPictureUrl,ee)("alt",e.productInfo==null?null:e.productInfo.productName),c(3),C(e.productInfo==null?null:e.productInfo.productName),c(2),C(e.productInfo==null?null:e.productInfo.productDescription),c(6),C(e.productInfo==null?null:e.productInfo.activeIngredient),c(5),C(J(26,22,e.productInfo==null?null:e.productInfo.productPrice,"EGP")),c(7),S("",e.productInfo==null?null:e.productInfo.safetyScore,"/5"),c(2),Oe("width",(e.productInfo==null?null:e.productInfo.safetyScore)/5*100,"%"),c(5),S("",e.productInfo==null?null:e.productInfo.effectivenessScore,"/5"),c(2),Oe("width",(e.productInfo==null?null:e.productInfo.effectivenessScore)/5*100,"%"),c(5),S("",J(47,25,e.productInfo==null?null:e.productInfo.valueScore,"1.1-1"),"/5"),c(3),Oe("width",(e.productInfo==null?null:e.productInfo.valueScore)/5*100,"%"),c(5),S(" ",J(55,28,e.productInfo==null?null:e.productInfo.finalScore,"1.1-1")," "),c(2),u("ngIf",e.productInfo==null?null:e.productInfo.hasConflict),c(5),C(e.productInfo==null?null:e.productInfo.recommendationReason)}}function Nd(i,r){if(i&1&&(a(0,"div"),_(1,Dd,16,4,"div",8)(2,Fd,62,31,"div",9),s()),i&2){let e=h();c(),u("ngIf",(e.productInfo==null?null:e.productInfo.isProfileComplete)===!1),c(),u("ngIf",(e.productInfo==null?null:e.productInfo.isProfileComplete)!==!1)}}var cs=(()=>{class i{constructor(e,t){this.route=e,this.recommendationService=t,this.isLoading=!0,this.error=null,this.productId=null}ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("PId");t?(this.productId=+t,console.log("CheckSafetyComponent initialized with productId:",this.productId),this.checkProductSafety()):(this.error="Product ID is missing",this.isLoading=!1)})}checkProductSafety(){if(!this.productId){this.error="Invalid product ID",this.isLoading=!1;return}this.isLoading=!0,this.error=null,console.log("Making API call for product ID:",this.productId),this.recommendationService.checkProductSafety(this.productId).subscribe({next:e=>{console.log("API Response:",e.body),this.productInfo=e.body,this.isLoading=!1},error:e=>{console.error("API Error:",e),this.error="Failed to check product safety. Please try again later.",this.isLoading=!1},complete:()=>console.log("API call completed")})}static{this.\u0275fac=function(t){return new(t||i)(y(ye),y(nt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-check-safety"]],standalone:!0,features:[O],decls:4,vars:3,consts:[[1,"safety-check-container"],["class","loading-container",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-message"],[1,"retry-button",3,"click"],["class","incomplete-profile",4,"ngIf"],["class","product-safety-info",4,"ngIf"],[1,"incomplete-profile"],[1,"alert","alert-warning"],[1,"fa-solid","fa-warning","me-1","text-warning","fs-2"],[1,"missing-fields"],[4,"ngFor","ngForOf"],[1,"action-required"],["routerLink","/main/side-effects-questions",1,"btn-complete-profile"],[1,"product-safety-info"],[1,"product-header"],[1,"generated-at"],[1,"product-card"],[1,"product-image"],[3,"src","alt"],[1,"product-details"],[1,"product-meta"],[1,"meta-item"],[1,"meta-label"],[1,"meta-value"],[1,"safety-scores"],[1,"score-card","safety"],[1,"score-value"],[1,"score-bar"],[1,"bar-fill"],[1,"score-card","effectiveness"],[1,"score-card","value"],[1,"final-score"],[1,"score-circle"],["class","conflict-info",4,"ngIf"],[1,"recommendation-reason"],[1,"conflict-info"],[1,"conflict-alert"],[1,"fa-solid","fa-triangle-exclamation"]],template:function(t,n){t&1&&(a(0,"div",0),_(1,Td,4,0,"div",1)(2,kd,5,1,"div",2)(3,Nd,3,2,"div",3),s()),t&2&&(c(),u("ngIf",n.isLoading),c(),u("ngIf",n.error),c(),u("ngIf",!n.isLoading&&!n.error))},dependencies:[$,te,K,Vr,be,He,$e,Ce],styles:['.safety-check-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px}.spinner[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;padding:20px;border-radius:8px;color:#c62828;text-align:center}.retry-button[_ngcontent-%COMP%]{background-color:#1565c0;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin-top:10px}.retry-button[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.incomplete-profile[_ngcontent-%COMP%]{padding:20px;border-radius:8px;margin-bottom:20px}.alert-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff8f00;margin-top:0}.missing-fields[_ngcontent-%COMP%]{margin:15px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#616161}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.action-required[_ngcontent-%COMP%]{font-weight:700;color:#e65100}.complete-profile-button[_ngcontent-%COMP%]{display:inline-block;background-color:#0288d1;color:#fff;padding:10px 20px;border-radius:4px;text-decoration:none;margin-top:10px}.complete-profile-button[_ngcontent-%COMP%]:hover{background-color:#0277bd}.product-safety-info[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:8px}.product-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0}.generated-at[_ngcontent-%COMP%]{color:#757575;font-size:.9em;margin-bottom:20px}.product-card[_ngcontent-%COMP%]{display:flex;gap:20px;background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:20px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:contain;border:1px solid #e0e0e0;border-radius:4px}.product-details[_ngcontent-%COMP%]{flex:1}.product-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#1565c0}.product-meta[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px;margin-top:15px}.meta-item[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:10px;border-radius:4px}.meta-label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px;color:#616161}.meta-value[_ngcontent-%COMP%]{color:#212121}.safety-scores[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-bottom:20px}.score-card[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.score-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.score-value[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin-bottom:10px}.score-bar[_ngcontent-%COMP%]{height:10px;background-color:#e0e0e0;border-radius:5px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.safety[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{background-color:#4caf50}.effectiveness[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{background-color:#2196f3}.value[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{background-color:#ff9800}.final-score[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.score-circle[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background-color:#1565c0;color:#fff;display:flex;align-items:center;justify-content:center;font-size:2em;font-weight:700;margin:0 auto}.conflict-info[_ngcontent-%COMP%]{background-color:#ffebee;padding:15px;border-radius:8px;margin-bottom:20px;border-left:5px solid #c62828}.conflict-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#c62828}.recommendation-reason[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:15px;border-radius:8px;font-style:italic;color:#2e7d32}.incomplete-profile[_ngcontent-%COMP%]{margin-bottom:40px}.alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:32px;border-radius:20px;box-shadow:0 12px 32px #ffd89b4d}.alert[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:16px;font-weight:700}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;opacity:.9}.missing-fields[_ngcontent-%COMP%]{background:#ffffff1a;padding:20px;border-radius:12px;margin:20px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:12px;font-size:18px}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0 8px 24px;position:relative}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#ff6b6b;font-weight:700;position:absolute;left:0}.action-required[_ngcontent-%COMP%]{font-weight:600;margin:20px 0;font-size:16px}.btn-complete-profile[_ngcontent-%COMP%]{background:#ffffffe6;color:#333;border:none;padding:14px 28px;border-radius:25px;cursor:pointer;font-weight:700;font-size:16px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a}.btn-complete-profile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}']})}}return i})();function Rd(i,r){i&1&&(a(0,"div",4),f(1,"div",5),a(2,"p"),l(3,"Checking for medication conflicts..."),s()())}function zd(i,r){if(i&1){let e=T();a(0,"div",6)(1,"p"),l(2),s(),a(3,"button",7),v("click",function(){P(e);let n=h();return w(n.loadConflictingMedications())}),l(4,"Try Again"),s()()}if(i&2){let e=h();c(2),C(e.error)}}function Ld(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Vd(i,r){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"h2"),f(3,"i",12),l(4),s(),a(5,"p"),l(6),s(),a(7,"div",13)(8,"h3"),l(9,"Missing Information:"),s(),a(10,"ul"),_(11,Ld,2,1,"li",14),s()(),a(12,"p",15),l(13),s(),a(14,"a",16),l(15," Complete My Profile Now "),s()()()),i&2){let e=h(2);c(4),C(e.response.title),c(2),C(e.response.message),c(5),u("ngForOf",e.response.missingFields),c(2),C(e.response.actionRequired)}}function jd(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Bd(i,r){if(i&1&&(a(0,"div",28)(1,"h3"),l(2,"Conflict Warnings"),s(),a(3,"ul"),_(4,jd,2,1,"li",14),s()()),i&2){let e=h(3);c(4),u("ngForOf",e.response.conflictWarnings)}}function Hd(i,r){if(i&1&&(a(0,"div",31)(1,"div",32),f(2,"img",33),s(),a(3,"div",34)(4,"h4"),l(5),s(),a(6,"p"),l(7),s(),a(8,"p")(9,"strong"),l(10,"Active Ingredient:"),s(),l(11),s(),a(12,"p")(13,"strong"),l(14,"Price:"),s(),l(15),U(16,"currency"),s(),a(17,"div",35)(18,"p")(19,"strong"),l(20,"\u26A0\uFE0F Conflict:"),s(),l(21),s(),a(22,"p",36),l(23),s()()()()),i&2){let e=r.$implicit;c(2),kr("alt","",e.productName," image"),u("src",e.productPictureUrl,ee),c(3),C(e.productName),c(2),C(e.productDescription),c(4),S(" ",e.activeIngredient,""),c(4),S(" ",J(16,9,e.productPrice,"EGP"),""),c(6),S(" ",e.conflictDetails,""),c(2),C(e.recommendationReason)}}function $d(i,r){if(i&1&&(a(0,"div",29)(1,"h3"),l(2,"Conflicting Medications"),s(),_(3,Hd,24,12,"div",30),s()),i&2){let e=h(3);c(3),u("ngForOf",e.response.conflictingMedications)}}function qd(i,r){if(i&1&&(a(0,"li"),l(1),s()),i&2){let e=r.$implicit;c(),C(e)}}function Ud(i,r){if(i&1&&(a(0,"div",37)(1,"h3"),l(2,"Safety Advice"),s(),a(3,"ul"),_(4,qd,2,1,"li",14),s()()),i&2){let e=h(3);c(4),u("ngForOf",e.response.safetyAdvice)}}function Gd(i,r){if(i&1&&(a(0,"div",17)(1,"div",18)(2,"h2"),l(3,"Potential Medication Conflicts"),s(),a(4,"p",19),l(5),U(6,"date"),s()(),a(7,"div",20)(8,"p"),l(9),s()(),a(10,"div",21)(11,"div",22)(12,"h4"),l(13,"Potential Conflicts Found"),s(),a(14,"p",23),l(15),s()()(),a(16,"div",24)(17,"p"),l(18),s()(),_(19,Bd,5,1,"div",25)(20,$d,4,1,"div",26)(21,Ud,5,1,"div",27),s()),i&2){let e=h(2);c(5),S("Generated at: ",J(6,7,e.response==null?null:e.response.generatedAt,"medium"),""),c(4),C(e.response==null?null:e.response.aiPersonalizedMessage),c(6),C(e.response==null?null:e.response.totalConflictingItems),c(3),C(e.response==null?null:e.response.summary),c(),u("ngIf",e.response==null||e.response.conflictWarnings==null?null:e.response.conflictWarnings.length),c(),u("ngIf",e.response==null||e.response.conflictingMedications==null?null:e.response.conflictingMedications.length),c(),u("ngIf",e.response==null||e.response.safetyAdvice==null?null:e.response.safetyAdvice.length)}}function Wd(i,r){if(i&1&&(a(0,"div"),_(1,Vd,16,4,"div",8)(2,Gd,22,10,"div",9),s()),i&2){let e=h();c(),u("ngIf",(e.response==null?null:e.response.isProfileComplete)===!1),c(),u("ngIf",(e.response==null?null:e.response.isProfileComplete)!==!1)}}var ds=(()=>{class i{constructor(e){this.recommendationService=e,this.isLoading=!0,this.error=null}ngOnInit(){this.loadConflictingMedications()}loadConflictingMedications(){this.isLoading=!0,this.error=null,this.recommendationService.getConflictingMedications().subscribe({next:e=>{this.response=e,this.isLoading=!1},error:e=>{this.error="Failed to load conflicting medications. Please try again later.",this.isLoading=!1,console.error("Error loading conflicting medications:",e)}})}static{this.\u0275fac=function(t){return new(t||i)(y(nt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-conflict"]],standalone:!0,features:[O],decls:4,vars:3,consts:[[1,"conflicting-medications-container"],["class","loading-container",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-message"],[1,"retry-button",3,"click"],["class","incomplete-profile",4,"ngIf"],["class","conflicts-summary",4,"ngIf"],[1,"incomplete-profile"],[1,"alert","alert-warning","bg-light-subtle"],[1,"fa-solid","fa-warning","me-1","text-warning","fs-2"],[1,"missing-fields"],[4,"ngFor","ngForOf"],[1,"action-required"],["routerLink","/main/side-effects-questions",1,"btn-complete-profile"],[1,"conflicts-summary"],[1,"summary-header"],[1,"generated-at"],[1,"personalized-message"],[1,"stats-container"],[1,"stat-box","conflicts"],[1,"stat-value"],[1,"summary-text"],["class","conflict-warnings",4,"ngIf"],["class","medications-list",4,"ngIf"],["class","safety-advice",4,"ngIf"],[1,"conflict-warnings"],[1,"medications-list"],["class","medication-card",4,"ngFor","ngForOf"],[1,"medication-card"],[1,"medication-image"],[3,"src","alt"],[1,"medication-details"],[1,"conflict-details"],[1,"recommendation-reason"],[1,"safety-advice"]],template:function(t,n){t&1&&(a(0,"div",0),_(1,Rd,4,0,"div",1)(2,zd,5,1,"div",2)(3,Wd,3,2,"div",3),s()),t&2&&(c(),u("ngIf",n.isLoading),c(),u("ngIf",n.error),c(),u("ngIf",!n.isLoading&&!n.error))},dependencies:[$,te,K,be,He,Ce],styles:['.conflicting-medications-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px}.spinner[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #3498db;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;padding:20px;border-radius:8px;color:#c62828;text-align:center}.retry-button[_ngcontent-%COMP%]{background-color:#1565c0;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin-top:10px}.retry-button[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.incomplete-profile[_ngcontent-%COMP%]{padding:20px;border-radius:8px;margin-bottom:20px}.alert-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff8f00;margin-top:0}.missing-fields[_ngcontent-%COMP%]{margin:15px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#616161}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.action-required[_ngcontent-%COMP%]{font-weight:700;color:#e65100}.complete-profile-button[_ngcontent-%COMP%]{display:inline-block;background-color:#0288d1;color:#fff;padding:10px 20px;border-radius:4px;text-decoration:none;margin-top:10px}.complete-profile-button[_ngcontent-%COMP%]:hover{background-color:#0277bd}.conflicts-summary[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:8px}.summary-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#c62828;margin-top:0}.generated-at[_ngcontent-%COMP%]{color:#757575;font-size:.9em;margin-bottom:20px}.personalized-message[_ngcontent-%COMP%]{background-color:#ffebee;padding:15px;border-radius:8px;margin-bottom:20px}.stats-container[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.stat-box[_ngcontent-%COMP%]{flex:1;padding:15px;border-radius:8px;text-align:center}.stat-box.conflicts[_ngcontent-%COMP%]{background-color:#ffebee;border-left:5px solid #c62828}.stat-value[_ngcontent-%COMP%]{font-size:2em;font-weight:700;margin:10px 0}.stat-box.conflicts[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#c62828}.summary-text[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:15px;border-radius:8px;margin-bottom:20px;line-height:1.6}.conflict-warnings[_ngcontent-%COMP%]{background-color:#fff3e0;padding:15px;border-radius:8px;margin-bottom:20px}.conflict-warnings[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.conflict-warnings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;color:#e65100}.medications-list[_ngcontent-%COMP%]{margin-bottom:20px}.medication-card[_ngcontent-%COMP%]{display:flex;gap:20px;background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:15px;border-left:5px solid #c62828}.medication-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain;border:1px solid #e0e0e0;border-radius:4px}.medication-details[_ngcontent-%COMP%]{flex:1}.conflict-details[_ngcontent-%COMP%]{background-color:#ffebee;padding:10px;border-radius:4px;margin-top:10px}.recommendation-reason[_ngcontent-%COMP%]{font-style:italic;color:#c62828;margin-top:5px}.safety-advice[_ngcontent-%COMP%]{background-color:#e3f2fd;padding:15px;border-radius:8px}.safety-advice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.safety-advice[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.incomplete-profile-icon[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.incomplete-profile-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;height:auto;filter:drop-shadow(0 2px 6px rgba(0,0,0,.15));animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:.9}to{transform:scale(1.05);opacity:1}}.incomplete-profile[_ngcontent-%COMP%]{margin-bottom:40px}.alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:32px;border-radius:20px;box-shadow:0 12px 32px #ffd89b4d}.alert[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:16px;font-weight:700}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;opacity:.9}.missing-fields[_ngcontent-%COMP%]{background:#ffffff1a;padding:20px;border-radius:12px;margin:20px 0}.missing-fields[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:12px;font-size:18px}.missing-fields[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0 8px 24px;position:relative}.missing-fields[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#ff6b6b;font-weight:700;position:absolute;left:0}.action-required[_ngcontent-%COMP%]{font-weight:600;margin:20px 0;font-size:16px}.btn-complete-profile[_ngcontent-%COMP%]{background:#ffffffe6;color:#333;border:none;padding:14px 28px;border-radius:25px;cursor:pointer;font-weight:700;font-size:16px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a;text-decoration:none;display:inline-block}.btn-complete-profile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}']})}}return i})();function Qd(i,r){i&1&&(a(0,"div",9),l(1,` Loading orders...
`),s())}function Yd(i,r){i&1&&(a(0,"div",10),l(1,` No orders found.
`),s())}function Kd(i,r){if(i&1){let e=T();a(0,"div",12)(1,"div",13)(2,"div")(3,"div",14),l(4),s(),a(5,"div",15),l(6),U(7,"date"),s(),a(8,"div"),l(9,"Status: "),a(10,"span",16),l(11),s()()(),a(12,"button",17),v("click",function(){let n=P(e).$implicit,o=h(2);return w(o.goToOrder(n.id))}),l(13," View Details "),s()()()}if(i&2){let e=r.$implicit;c(4),S("Order #",e.id,""),c(2),C(J(7,3,e.orderDate,"dd MMM yyyy, HH:mm")),c(5),C(e.status)}}function Zd(i,r){if(i&1&&(a(0,"div",2),_(1,Kd,14,6,"div",11),s()),i&2){let e=h();c(),u("ngForOf",e.orders)}}var ps=(()=>{class i{constructor(e,t){this.orderService=e,this.router=t,this.orders=[],this.isLoading=!0}ngOnInit(){this.orderService.getUserOrders().subscribe({next:e=>{this.orders=e,this.isLoading=!1},error:()=>{this.isLoading=!1}})}goToOrder(e){this.router.navigate(["/main/orderstatus"],{queryParams:{orderId:e}})}static{this.\u0275fac=function(t){return new(t||i)(y(Yt),y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-orders-list"]],standalone:!0,features:[O],decls:10,vars:3,consts:[[1,"ms-5","min-vh-100"],[1,"products-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"page-title"],["class","text-center my-4",4,"ngIf"],["class","alert alert-info text-center",4,"ngIf"],["class","container",4,"ngIf"],[1,"text-center","my-4"],[1,"alert","alert-info","text-center"],["class","card mb-3 shadow-sm",4,"ngFor","ngForOf"],[1,"card","mb-3","shadow-sm"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"fw-bold"],[1,"text-muted","small"],[1,"badge","bg-primary"],[1,"btn","btn-outline-primary",3,"click"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l(6,"Your Orders"),s()()()()(),_(7,Qd,2,0,"div",6)(8,Yd,2,0,"div",7)(9,Zd,2,1,"div",8),s()),t&2&&(c(7),u("ngIf",n.isLoading),c(),u("ngIf",!n.isLoading&&n.orders.length===0),c(),u("ngIf",n.orders.length>0))},dependencies:[$,te,K,He],styles:[".products-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#19b896dc);color:#fff;padding:3rem 0;margin-bottom:2rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin-bottom:0}[_nghost-%COMP%]{min-height:100vh}"]})}}return i})();var Xd=i=>["/main/productdetails",i],Jd=i=>["/main/CheckSafety",i];function ep(i,r){i&1&&(a(0,"div",4),f(1,"div",5),a(2,"p",6),l(3,"Finding cost-effective alternatives..."),s()())}function tp(i,r){if(i&1){let e=T();a(0,"div",7)(1,"div",8),l(2,"\u26A0\uFE0F"),s(),a(3,"h3",9),l(4,"Unable to Load Alternatives"),s(),a(5,"p",10),l(6),s(),a(7,"button",11),v("click",function(){P(e);let n=h();return w(n.retryLoading())}),a(8,"span",12),l(9,"\u{1F504}"),s(),l(10," Try Again "),s()()}if(i&2){let e=h();c(6),C(e.error)}}function np(i,r){if(i&1&&(a(0,"div",45),f(1,"span",46),s()),i&2){let e=r.$implicit;c(),u("innerHTML",e,Ue)}}function ip(i,r){if(i&1&&(a(0,"div",41)(1,"h3",42),l(2,"\u{1F4A1} Key Savings Highlights"),s(),a(3,"div",43),_(4,np,2,1,"div",44),s()()),i&2){let e=h(2);c(4),u("ngForOf",e.alternativesData.costSavingHighlights)}}function rp(i,r){if(i&1&&(a(0,"span",47),l(1),s()),i&2){let e=h(2);c(),S(" ",e.sortOrder==="desc"?"\u2193":"\u2191"," ")}}function op(i,r){if(i&1&&(a(0,"span",47),l(1),s()),i&2){let e=h(2);c(),S(" ",e.sortOrder==="desc"?"\u2193":"\u2191"," ")}}function sp(i,r){if(i&1&&(a(0,"span",47),l(1),s()),i&2){let e=h(2);c(),S(" ",e.sortOrder==="desc"?"\u2193":"\u2191"," ")}}function ap(i,r){if(i&1&&(a(0,"span",47),l(1),s()),i&2){let e=h(2);c(),S(" ",e.sortOrder==="desc"?"\u2193":"\u2191"," ")}}function lp(i,r){i&1&&(a(0,"div",86),l(1," \u2713 Same Ingredient "),s())}function cp(i,r){if(i&1&&(a(0,"span",87),l(1," \u2B50 "),s()),i&2){let e=r.$implicit;re("full",e===1)("half",e===.5)("empty",e===0)}}function dp(i,r){if(i&1&&(a(0,"div",88)(1,"span",89),l(2,"\u2139\uFE0F"),s(),a(3,"span",90),l(4),s()()),i&2){let e=h().$implicit;c(4),C(e.safetyNote)}}function pp(i,r){if(i&1&&(a(0,"div",50)(1,"div",51)(2,"span",52),l(3),s(),a(4,"span",53),l(5,"OFF"),s()(),_(6,lp,2,0,"div",54),a(7,"div",55),f(8,"img",56),s(),a(9,"div",57)(10,"h3",58),l(11),s(),a(12,"p",59),l(13),s(),a(14,"p",60)(15,"span",61),l(16,"Active Ingredient:"),s(),l(17),s()(),a(18,"div",62)(19,"div",63)(20,"span",64),l(21),s(),a(22,"span",65),l(23),s()()(),a(24,"div",66)(25,"div",67)(26,"span",68),l(27,"Effectiveness:"),s(),a(28,"div",69),_(29,cp,2,6,"span",70),a(30,"span",71),l(31),s()()(),a(32,"div",67)(33,"span",68),l(34,"Safety:"),s(),a(35,"div",72)(36,"span",73),l(37),s(),a(38,"span",74),l(39,"\u{1F6E1}\uFE0F"),s()()()(),_(40,dp,5,1,"div",75),a(41,"div",76)(42,"span",77),l(43,"Why this alternative:"),s(),a(44,"span",78),l(45),s()(),a(46,"div",79)(47,"button",80)(48,"span",81),l(49,"\u{1F441}\uFE0F"),s(),l(50," View Details "),s(),a(51,"button",82)(52,"span",81),l(53,"\u{1F50D}"),s(),l(54," Safety Check "),s()(),a(55,"div",83)(56,"span",84),l(57),s(),a(58,"span",85),l(59),s()()()),i&2){let e=r.$implicit,t=h(3);c(),se(t.getSavingsBadgeColor(e.savingsPercentage)),c(2),S("",e.savingsPercentage,"%"),c(3),u("ngIf",e.isSameActiveIngredient),c(2),u("src",e.productPictureUrl,ee)("alt",e.productName),c(3),C(e.productName),c(2),C(e.productDescription),c(4),S(" ",e.activeIngredient," "),c(4),C(t.formatPrice(e.productPrice)),c(2),S("Save ",t.formatPrice(e.priceDifference),""),c(6),u("ngForOf",t.getStarRating(e.effectivenessScore)),c(2),S("(",e.effectivenessScore,")"),c(4),se(t.getSafetyScoreColor(e.safetyScore)),c(2),S("",e.safetyScore,"/5"),c(3),u("ngIf",e.safetyNote),c(5),C(e.alternativeReason),c(2),u("routerLink",pe(26,Xd,e.productId)),c(4),u("routerLink",pe(28,Jd,e.productId)),c(4),re("safe",e.isSafeForUser)("warning",!e.isSafeForUser),c(2),C(e.isSafeForUser?"\u2705":"\u26A0\uFE0F"),c(2),S(" ",e.isSafeForUser?"Safe for you":"Requires caution"," ")}}function mp(i,r){if(i&1&&(a(0,"div",48),_(1,pp,60,30,"div",49),s()),i&2){let e=h(2);c(),u("ngForOf",e.filteredAlternatives)("ngForTrackBy",e.trackByProductId)}}function up(i,r){if(i&1){let e=T();a(0,"button",96),v("click",function(){P(e);let n=h(3);return w(n.showOnlySameIngredient=!1)}),l(1," Clear Filters "),s()}}function gp(i,r){if(i&1&&(a(0,"div",91)(1,"div",92),l(2,"\u{1F50D}"),s(),a(3,"h3",93),l(4,"No alternatives found"),s(),a(5,"p",94),l(6," Try adjusting your filters or check back later for more options. "),s(),_(7,up,2,0,"button",95),s()),i&2){let e=h(2);c(7),u("ngIf",e.showOnlySameIngredient)}}function fp(i,r){if(i&1){let e=T();a(0,"div",13)(1,"div",14)(2,"div",15)(3,"h1",16),l(4,"\u{1F48A} Cost-Effective Alternatives"),s(),a(5,"div",17)(6,"h2",18),l(7),s(),a(8,"p",19),l(9),s(),a(10,"p",20),l(11),s()()(),a(12,"div",21)(13,"div",22),l(14,"\u{1F916}"),s(),a(15,"p",23),l(16),s()()(),_(17,ip,5,1,"div",24),a(18,"div",25)(19,"div",26)(20,"h4"),l(21,"Sort by:"),s(),a(22,"div",27)(23,"button",28),v("click",function(){P(e);let n=h();return w(n.toggleSort("savings"))}),l(24," \u{1F4B0} Savings "),_(25,rp,2,1,"span",29),s(),a(26,"button",28),v("click",function(){P(e);let n=h();return w(n.toggleSort("price"))}),l(27," \u{1F4B5} Price "),_(28,op,2,1,"span",29),s(),a(29,"button",28),v("click",function(){P(e);let n=h();return w(n.toggleSort("effectiveness"))}),l(30," \u2B50 Effectiveness "),_(31,sp,2,1,"span",29),s(),a(32,"button",28),v("click",function(){P(e);let n=h();return w(n.toggleSort("safety"))}),l(33," \u{1F6E1}\uFE0F Safety "),_(34,ap,2,1,"span",29),s()()(),a(35,"div",30)(36,"button",31),v("click",function(){P(e);let n=h();return w(n.toggleSameIngredientFilter())}),a(37,"span",32),l(38,"\u{1F50D}"),s(),l(39," Same Active Ingredient Only "),s()()(),a(40,"div",33)(41,"p",34),l(42),s()(),_(43,mp,2,2,"div",35)(44,gp,8,1,"div",36),a(45,"div",37)(46,"p",38)(47,"span",39),l(48,"\u{1F552}"),s(),l(49),U(50,"date"),s(),a(51,"p",40),l(52),s()()()}if(i&2){let e=h();c(7),C(e.alternativesData.originalProductName),c(2),S("Original Price: ",e.formatPrice(e.alternativesData.originalProductPrice),""),c(2),C(e.alternativesData.originalActiveIngredient),c(5),C(e.alternativesData.aiPersonalizedMessage),c(),u("ngIf",e.alternativesData.costSavingHighlights==null?null:e.alternativesData.costSavingHighlights.length),c(6),re("active",e.sortBy==="savings"),c(2),u("ngIf",e.sortBy==="savings"),c(),re("active",e.sortBy==="price"),c(2),u("ngIf",e.sortBy==="price"),c(),re("active",e.sortBy==="effectiveness"),c(2),u("ngIf",e.sortBy==="effectiveness"),c(),re("active",e.sortBy==="safety"),c(2),u("ngIf",e.sortBy==="safety"),c(2),re("active",e.showOnlySameIngredient),c(6),ut(" Showing ",e.filteredAlternatives.length," of ",e.alternativesData.totalAlternatives," alternatives "),c(),u("ngIf",e.filteredAlternatives.length>0),c(),u("ngIf",e.filteredAlternatives.length===0),c(5),S(" Generated on ",J(50,25,e.alternativesData.generatedAt,"medium")," "),c(3),C(e.alternativesData.summary)}}var ms=(()=>{class i{constructor(e,t,n){this.route=e,this.router=t,this.recommendationService=n,this.isLoading=!0,this.alternativesData=null,this.error=null,this.productId=null,this.sortBy="savings",this.sortOrder="desc",this.showOnlySameIngredient=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("PId");t?(this.productId=+t,console.log("ProductAlternativesComponent initialized with productId:",this.productId),this.getProductAlternatives()):(this.error="Product ID is missing",this.isLoading=!1)})}getProductAlternatives(){if(!this.productId){this.error="Invalid product ID",this.isLoading=!1;return}this.isLoading=!0,this.error=null,console.log("Making API call for product alternatives ID:",this.productId),this.recommendationService.getProductAlternatives(this.productId).subscribe({next:e=>{console.log("API Response:",e.body),this.alternativesData=e.body,this.isLoading=!1},error:e=>{console.error("API Error:",e),this.error="Failed to load product alternatives. Please try again later.",this.isLoading=!1},complete:()=>console.log("API call completed")})}get filteredAlternatives(){if(!this.alternativesData?.alternatives)return[];let e=this.alternativesData.alternatives;return this.showOnlySameIngredient&&(e=e.filter(t=>t.isSameActiveIngredient)),e.sort((t,n)=>{let o=0;switch(this.sortBy){case"price":o=t.productPrice-n.productPrice;break;case"savings":o=t.savingsPercentage-n.savingsPercentage;break;case"effectiveness":o=t.effectivenessScore-n.effectivenessScore;break;case"safety":o=t.safetyScore-n.safetyScore;break}return this.sortOrder==="asc"?o:-o})}toggleSort(e){this.sortBy===e?this.sortOrder=this.sortOrder==="asc"?"desc":"asc":(this.sortBy=e,this.sortOrder="desc")}toggleSameIngredientFilter(){this.showOnlySameIngredient=!this.showOnlySameIngredient}getSavingsBadgeColor(e){return e>=50?"high-savings":e>=25?"medium-savings":"low-savings"}getStarRating(e){let t=Math.floor(e),n=e%1>=.5,o=[];for(let d=0;d<5;d++)d<t?o.push(1):d===t&&n?o.push(.5):o.push(0);return o}viewProductDetails(e){this.router.navigate(["/product",e])}checkProductSafety(e){this.router.navigate(["/check-safety",e])}retryLoading(){this.getProductAlternatives()}formatPrice(e){return`${e.toFixed(2)} EGP`}getSafetyScoreColor(e){return e>=4.5?"excellent":e>=4?"good":e>=3.5?"fair":"poor"}trackByProductId(e,t){return t.productId}static{this.\u0275fac=function(t){return new(t||i)(y(ye),y(B),y(nt))}}static{this.\u0275cmp=M({type:i,selectors:[["app-alternatives"]],standalone:!0,features:[O],decls:4,vars:3,consts:[[1,"alternatives-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","alternatives-content",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"loading-text"],[1,"error-container"],[1,"error-icon"],[1,"error-title"],[1,"error-message"],[1,"retry-btn",3,"click"],[1,"retry-icon"],[1,"alternatives-content"],[1,"header-section"],[1,"original-product-info"],[1,"page-title"],[1,"original-product-card"],[1,"original-product-name"],[1,"original-price"],[1,"original-ingredient"],[1,"ai-summary-card"],[1,"ai-icon"],[1,"ai-message"],["class","highlights-section",4,"ngIf"],[1,"controls-section"],[1,"sort-controls"],[1,"sort-buttons"],[1,"sort-btn",3,"click"],["class","sort-arrow",4,"ngIf"],[1,"filter-controls"],[1,"filter-btn",3,"click"],[1,"filter-icon"],[1,"results-summary"],[1,"results-count"],["class","alternatives-grid",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"footer-info"],[1,"generation-info"],[1,"info-icon"],[1,"summary-text"],[1,"highlights-section"],[1,"highlights-title"],[1,"highlights-grid"],["class","highlight-card",4,"ngFor","ngForOf"],[1,"highlight-card"],[3,"innerHTML"],[1,"sort-arrow"],[1,"alternatives-grid"],["class","alternative-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"alternative-card"],[1,"savings-badge"],[1,"savings-percentage"],[1,"savings-text"],["class","same-ingredient-badge",4,"ngIf"],[1,"product-image-container"],[1,"product-image",3,"src","alt"],[1,"product-info"],[1,"product-name"],[1,"product-description"],[1,"active-ingredient"],[1,"ingredient-label"],[1,"pricing-info"],[1,"price-comparison"],[1,"current-price"],[1,"price-difference"],[1,"scores-section"],[1,"score-item"],[1,"score-label"],[1,"star-rating"],["class","star",3,"full","half","empty",4,"ngFor","ngForOf"],[1,"score-value"],[1,"safety-score"],[1,"safety-value"],[1,"safety-icon"],["class","safety-note",4,"ngIf"],[1,"alternative-reason"],[1,"reason-label"],[1,"reason-text"],[1,"action-buttons"],[1,"primary-btn",3,"routerLink"],[1,"btn-icon"],[1,"secondary-btn",3,"routerLink"],[1,"safety-status"],[1,"status-icon"],[1,"status-text"],[1,"same-ingredient-badge"],[1,"star"],[1,"safety-note"],[1,"safety-note-icon"],[1,"safety-note-text"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-title"],[1,"no-results-message"],["class","clear-filters-btn",3,"click",4,"ngIf"],[1,"clear-filters-btn",3,"click"]],template:function(t,n){t&1&&(a(0,"div",0),_(1,ep,4,0,"div",1)(2,tp,11,1,"div",2)(3,fp,53,28,"div",3),s()),t&2&&(c(),u("ngIf",n.isLoading),c(),u("ngIf",n.error&&!n.isLoading),c(),u("ngIf",n.alternativesData&&!n.isLoading&&!n.error))},dependencies:[$,te,K,He,$e,Ce],styles:[".alternatives-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #e3e3e3;border-top:4px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:18px;color:#666;font-weight:500}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;text-align:center;background:#fff;border-radius:15px;padding:40px;box-shadow:0 8px 32px #0000001a}.error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.error-title[_ngcontent-%COMP%]{color:#dc3545;font-size:24px;margin-bottom:10px;font-weight:600}.error-message[_ngcontent-%COMP%]{color:#666;font-size:16px;margin-bottom:30px;line-height:1.5}.retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:12px 24px;border-radius:25px;font-size:16px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .3s ease}.retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #007bff4d}.retry-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s linear infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.header-section[_ngcontent-%COMP%]{margin-bottom:30px}.page-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#2c3e50;margin-bottom:20px;text-align:center}.original-product-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:25px;border-radius:15px;margin-bottom:20px;box-shadow:0 8px 32px #0000001a}.original-product-name[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:10px}.original-price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:8px}.original-ingredient[_ngcontent-%COMP%]{font-size:16px;opacity:.9;margin-bottom:0}.ai-summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d);color:#fff;padding:20px;border-radius:15px;display:flex;align-items:flex-start;gap:15px;box-shadow:0 8px 32px #0000001a}.ai-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.ai-message[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;margin:0;font-weight:500}.highlights-section[_ngcontent-%COMP%]{margin-bottom:30px}.highlights-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#2c3e50;margin-bottom:15px}.highlights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px}.highlight-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;border-left:4px solid #28a745;font-size:16px;font-weight:500;color:#2c3e50}.controls-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:15px;margin-bottom:25px;box-shadow:0 4px 16px #0000001a;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:20px}.sort-controls[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#2c3e50;font-size:16px;font-weight:600}.sort-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.sort-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;padding:10px 16px;border-radius:25px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:5px;color:#495057}.sort-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-1px)}.sort-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border-color:#007bff}.sort-arrow[_ngcontent-%COMP%]{font-weight:700;margin-left:5px}.filter-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;padding:10px 16px;border-radius:25px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px;color:#495057}.filter-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-1px)}.filter-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border-color:#28a745}.filter-icon[_ngcontent-%COMP%]{font-size:16px}.results-summary[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.results-count[_ngcontent-%COMP%]{font-size:16px;color:#666;font-weight:500;margin:0}.alternatives-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:25px;margin-bottom:40px}.alternative-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:25px;box-shadow:0 8px 32px #0000001a;position:relative;transition:all .3s ease;border:1px solid #e9ecef}.alternative-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 40px #00000026}.savings-badge[_ngcontent-%COMP%]{position:absolute;top:-10px;right:20px;padding:8px 12px;border-radius:20px;color:#fff;font-weight:700;font-size:12px;display:flex;flex-direction:column;align-items:center;min-width:60px;box-shadow:0 4px 12px #0003}.savings-badge.high-savings[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.savings-badge.medium-savings[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fd7e14,#e55a00)}.savings-badge.low-savings[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#1e7e34)}.savings-percentage[_ngcontent-%COMP%]{font-size:16px;font-weight:800}.savings-text[_ngcontent-%COMP%]{font-size:10px;margin-top:2px}.same-ingredient-badge[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;background:linear-gradient(135deg,#17a2b8,#117a8b);color:#fff;padding:5px 10px;border-radius:15px;font-size:11px;font-weight:600}.product-image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;margin-top:20px}.product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:12px;border:2px solid #e9ecef}.product-info[_ngcontent-%COMP%]{margin-bottom:20px}.product-name[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#2c3e50;margin-bottom:10px;line-height:1.3}.product-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.5;margin-bottom:12px}.active-ingredient[_ngcontent-%COMP%]{font-size:13px;color:#495057;margin-bottom:0}.ingredient-label[_ngcontent-%COMP%]{font-weight:600;color:#007bff}.pricing-info[_ngcontent-%COMP%]{margin-bottom:20px}.price-comparison[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#f8f9fa;padding:15px;border-radius:12px}.current-price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#28a745}.price-difference[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#dc3545;background:#fff5f5;padding:5px 10px;border-radius:15px}.scores-section[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-direction:column;gap:12px}.score-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.score-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#495057}.star-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px}.star[_ngcontent-%COMP%]{font-size:16px;filter:grayscale(100%)}.star.full[_ngcontent-%COMP%]{filter:none}.star.half[_ngcontent-%COMP%]{filter:sepia(100%) saturate(200%) hue-rotate(40deg)}.score-value[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-left:5px}.safety-score[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:5px 10px;border-radius:15px;font-size:12px;font-weight:600}.safety-score.excellent[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.safety-score.good[_ngcontent-%COMP%]{background:#cce5f0;color:#0c5460}.safety-score.fair[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.safety-score.poor[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.safety-note[_ngcontent-%COMP%]{background:#e7f3ff;border-left:4px solid #007bff;padding:12px;border-radius:8px;margin-bottom:15px;display:flex;align-items:flex-start;gap:8px}.safety-note-icon[_ngcontent-%COMP%]{font-size:16px;flex-shrink:0}.safety-note-text[_ngcontent-%COMP%]{font-size:13px;color:#495057;line-height:1.4}.alternative-reason[_ngcontent-%COMP%]{background:#f8f9fa;padding:12px;border-radius:8px;margin-bottom:20px}.reason-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#007bff;display:block;margin-bottom:5px}.reason-text[_ngcontent-%COMP%]{font-size:13px;color:#495057;line-height:1.4}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:none;border-radius:25px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:6px}.primary-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #007bff4d}.secondary-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:2px solid #e9ecef}.secondary-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-1px)}.btn-icon[_ngcontent-%COMP%]{font-size:14px}.safety-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px;border-radius:25px;font-size:13px;font-weight:600}.safety-status.safe[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.safety-status.warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-icon[_ngcontent-%COMP%]{font-size:16px}.no-results[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:20px;box-shadow:0 4px 16px #0000001a}.no-results-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.no-results-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#2c3e50;margin-bottom:10px}.no-results-message[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:30px;line-height:1.5}.clear-filters-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 24px;border-radius:25px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.clear-filters-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d}.footer-info[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:15px;box-shadow:0 4px 16px #0000001a;text-align:center}.generation-info[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:10px;display:flex;align-items:center;justify-content:center;gap:8px}.info-icon[_ngcontent-%COMP%]{font-size:16px}.summary-text[_ngcontent-%COMP%]{font-size:16px;color:#2c3e50;font-weight:500;margin:0;line-height:1.5}@media (max-width: 768px){.alternatives-container[_ngcontent-%COMP%]{padding:15px}.page-title[_ngcontent-%COMP%]{font-size:24px}.controls-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.sort-buttons[_ngcontent-%COMP%]{justify-content:center}.alternatives-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.alternative-card[_ngcontent-%COMP%]{padding:20px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.price-comparison[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start}.highlights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.alternatives-container[_ngcontent-%COMP%]{padding:10px}.original-product-card[_ngcontent-%COMP%], .ai-summary-card[_ngcontent-%COMP%]{padding:20px}.alternative-card[_ngcontent-%COMP%]{padding:15px}.savings-badge[_ngcontent-%COMP%]{right:10px;top:-8px}}.alt-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem;background:linear-gradient(135deg,#19b896dc,#667eea);border-color:#2d94ea}"]})}}return i})();var us=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",component:ao,children:[{path:"",redirectTo:"explore",pathMatch:"full"},{path:"login",component:go,title:"login"},{path:"register",component:ho,title:"register"},{path:"explore",component:xo,title:"PharmAssist"},{path:"code-verification",component:vi,title:"OTP Verification",data:{nextRoute:"/auth/questions"}},{path:"CodeVerfication",component:vi,title:"OTP"},{path:"reset-code",component:Oo,title:"reset-code"},{path:"emaildone",component:wo,title:"Done"},{path:"forgetPassword",component:Mo,title:"forgetPassword"},{path:"reset-password",component:To,title:"reset-password"}]},{path:"main",component:po,canActivate:[Yo],children:[{path:"",redirectTo:"AllProducts",pathMatch:"full"},{path:"home",component:co,title:"home"},{path:"AllProducts",component:Vo,title:"AllProducts"},{path:"productdetails/:PId",component:Qo,title:"Details"},{path:"cart",component:Ko,title:"Cart"},{path:"MyRecommendation",component:Zo,title:"MyRecommendation"},{path:"safety",component:ls,title:"safety summray"},{path:"CheckSafety/:PId",component:cs,title:"Check Safety"},{path:"Conflict",component:ds,title:"Conflict"},{path:"Alternatives/:PId",component:ms,title:"Alternatives"},{path:"checkout",component:Jo,title:"Checkout"},{path:"add-address",component:es,title:"Add Address"},{path:"order-success",component:ts,title:"Order Success"},{path:"orderstatus",component:os,title:"Order Status"},{path:"profile",component:ns,title:"Profile"},{path:"edit-profile",component:rs,title:"Edit Profile"},{path:"orders-list",component:ps,title:"orders list"},{path:"FeatureCard",component:as,title:"Feature Card"},{path:"side-effects-questions",loadComponent:()=>import("./chunk-LZUIUPEA.js").then(i=>i.QuestionsComponent),title:"Side Effects Questions"},{path:"chatbot",loadComponent:()=>import("./chunk-KPSHBFJV.js").then(i=>i.DiagnosisChatComponent),title:"Chatbot"}]},{path:"**",component:mo}];function gs(i){return new W(3e3,!1)}function hp(){return new W(3100,!1)}function _p(){return new W(3101,!1)}function vp(i){return new W(3001,!1)}function xp(i){return new W(3003,!1)}function bp(i){return new W(3004,!1)}function yp(i,r){return new W(3005,!1)}function Cp(){return new W(3006,!1)}function Sp(){return new W(3007,!1)}function Pp(i,r){return new W(3008,!1)}function wp(i){return new W(3002,!1)}function Mp(i,r,e,t,n){return new W(3010,!1)}function Op(){return new W(3011,!1)}function Ep(){return new W(3012,!1)}function Tp(){return new W(3200,!1)}function kp(){return new W(3202,!1)}function Ip(){return new W(3013,!1)}function Dp(i){return new W(3014,!1)}function Ap(i){return new W(3015,!1)}function Fp(i){return new W(3016,!1)}function Np(i,r){return new W(3404,!1)}function Rp(i){return new W(3502,!1)}function zp(i){return new W(3503,!1)}function Lp(){return new W(3300,!1)}function Vp(i){return new W(3504,!1)}function jp(i){return new W(3301,!1)}function Bp(i,r){return new W(3302,!1)}function Hp(i){return new W(3303,!1)}function $p(i,r){return new W(3400,!1)}function qp(i){return new W(3401,!1)}function Up(i){return new W(3402,!1)}function Gp(i,r){return new W(3505,!1)}function ht(i){switch(i.length){case 0:return new ft;case 1:return i[0];default:return new tn(i)}}function Es(i,r,e=new Map,t=new Map){let n=[],o=[],d=-1,p=null;if(r.forEach(m=>{let g=m.get("offset"),x=g==d,b=x&&p||new Map;m.forEach((F,z)=>{let k=z,N=F;if(z!=="offset")switch(k=i.normalizePropertyName(k,n),N){case An:N=e.get(z);break;case et:N=t.get(z);break;default:N=i.normalizeStyleValue(z,k,N,n);break}b.set(k,N)}),x||o.push(b),p=b,d=g}),n.length)throw Rp(n);return o}function Zi(i,r,e,t){switch(r){case"start":i.onStart(()=>t(e&&Ti(e,"start",i)));break;case"done":i.onDone(()=>t(e&&Ti(e,"done",i)));break;case"destroy":i.onDestroy(()=>t(e&&Ti(e,"destroy",i)));break}}function Ti(i,r,e){let t=e.totalTime,n=!!e.disabled,o=Xi(i.element,i.triggerName,i.fromState,i.toState,r||i.phaseName,t??i.totalTime,n),d=i._data;return d!=null&&(o._data=d),o}function Xi(i,r,e,t,n="",o=0,d){return{element:i,triggerName:r,fromState:e,toState:t,phaseName:n,totalTime:o,disabled:!!d}}function je(i,r,e){let t=i.get(r);return t||i.set(r,t=e),t}function fs(i){let r=i.indexOf(":"),e=i.substring(1,r),t=i.slice(r+1);return[e,t]}var Wp=typeof document>"u"?null:document.documentElement;function Ji(i){let r=i.parentNode||i.host||null;return r===Wp?null:r}function Qp(i){return i.substring(1,6)=="ebkit"}var Ot=null,hs=!1;function Yp(i){Ot||(Ot=Kp()||{},hs=Ot.style?"WebkitAppearance"in Ot.style:!1);let r=!0;return Ot.style&&!Qp(i)&&(r=i in Ot.style,!r&&hs&&(r="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ot.style)),r}function Kp(){return typeof document<"u"?document.body:null}function Ts(i,r){for(;r;){if(r===i)return!0;r=Ji(r)}return!1}function ks(i,r,e){if(e)return Array.from(i.querySelectorAll(r));let t=i.querySelector(r);return t?[t]:[]}var er=(()=>{class i{validateStyleProperty(e){return Yp(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ts(e,t)}getParentElement(e){return Ji(e)}query(e,t,n){return ks(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,o,d,p=[],m){return new ft(n,o)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac})}}return i})(),kt=class{static{this.NOOP=new er}},It=class{};var Zp=1e3,Is="{{",Xp="}}",Ds="ng-enter",Ni="ng-leave",jn="ng-trigger",Un=".ng-trigger",_s="ng-animating",Ri=".ng-animating";function dt(i){if(typeof i=="number")return i;let r=i.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:zi(parseFloat(r[1]),r[2])}function zi(i,r){switch(r){case"s":return i*Zp;default:return i}}function Gn(i,r,e){return i.hasOwnProperty("duration")?i:Jp(i,r,e)}function Jp(i,r,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,d="";if(typeof i=="string"){let p=i.match(t);if(p===null)return r.push(gs(i)),{duration:0,delay:0,easing:""};n=zi(parseFloat(p[1]),p[2]);let m=p[3];m!=null&&(o=zi(parseFloat(m),p[4]));let g=p[5];g&&(d=g)}else n=i;if(!e){let p=!1,m=r.length;n<0&&(r.push(hp()),p=!0),o<0&&(r.push(_p()),p=!0),p&&r.splice(m,0,gs(i))}return{duration:n,delay:o,easing:d}}function em(i){return i.length?i[0]instanceof Map?i:i.map(r=>new Map(Object.entries(r))):[]}function it(i,r,e){r.forEach((t,n)=>{let o=tr(n);e&&!e.has(n)&&e.set(n,i.style[o]),i.style[o]=t})}function Tt(i,r){r.forEach((e,t)=>{let n=tr(t);i.style[n]=""})}function sn(i){return Array.isArray(i)?i.length==1?i[0]:bo(i):i}function tm(i,r,e){let t=r.params||{},n=As(i);n.length&&n.forEach(o=>{t.hasOwnProperty(o)||e.push(vp(o))})}var Li=new RegExp(`${Is}\\s*(.+?)\\s*${Xp}`,"g");function As(i){let r=[];if(typeof i=="string"){let e;for(;e=Li.exec(i);)r.push(e[1]);Li.lastIndex=0}return r}function ln(i,r,e){let t=`${i}`,n=t.replace(Li,(o,d)=>{let p=r[d];return p==null&&(e.push(xp(d)),p=""),p.toString()});return n==t?i:n}var nm=/-+([a-z0-9])/g;function tr(i){return i.replace(nm,(...r)=>r[1].toUpperCase())}function im(i,r){return i===0||r===0}function rm(i,r,e){if(e.size&&r.length){let t=r[0],n=[];if(e.forEach((o,d)=>{t.has(d)||n.push(d),t.set(d,o)}),n.length)for(let o=1;o<r.length;o++){let d=r[o];n.forEach(p=>d.set(p,nr(i,p)))}}return r}function Ve(i,r,e){switch(r.type){case V.Trigger:return i.visitTrigger(r,e);case V.State:return i.visitState(r,e);case V.Transition:return i.visitTransition(r,e);case V.Sequence:return i.visitSequence(r,e);case V.Group:return i.visitGroup(r,e);case V.Animate:return i.visitAnimate(r,e);case V.Keyframes:return i.visitKeyframes(r,e);case V.Style:return i.visitStyle(r,e);case V.Reference:return i.visitReference(r,e);case V.AnimateChild:return i.visitAnimateChild(r,e);case V.AnimateRef:return i.visitAnimateRef(r,e);case V.Query:return i.visitQuery(r,e);case V.Stagger:return i.visitStagger(r,e);default:throw bp(r.type)}}function nr(i,r){return window.getComputedStyle(i)[r]}var om=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Wn=class extends It{normalizePropertyName(r,e){return tr(r)}normalizeStyleValue(r,e,t,n){let o="",d=t.toString().trim();if(om.has(e)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let p=t.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&p[1].length==0&&n.push(yp(r,t))}return d+o}};var Qn="*";function sm(i,r){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(t=>am(t,e,r)):e.push(i),e}function am(i,r,e){if(i[0]==":"){let m=lm(i,e);if(typeof m=="function"){r.push(m);return}i=m}let t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(Ap(i)),r;let n=t[1],o=t[2],d=t[3];r.push(vs(n,d));let p=n==Qn&&d==Qn;o[0]=="<"&&!p&&r.push(vs(d,n))}function lm(i,r){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return r.push(Fp(i)),"* => *"}}var Bn=new Set(["true","1"]),Hn=new Set(["false","0"]);function vs(i,r){let e=Bn.has(i)||Hn.has(i),t=Bn.has(r)||Hn.has(r);return(n,o)=>{let d=i==Qn||i==n,p=r==Qn||r==o;return!d&&e&&typeof n=="boolean"&&(d=n?Bn.has(i):Hn.has(i)),!p&&t&&typeof o=="boolean"&&(p=o?Bn.has(r):Hn.has(r)),d&&p}}var Fs=":self",cm=new RegExp(`s*${Fs}s*,?`,"g");function Ns(i,r,e,t){return new Vi(i).build(r,e,t)}var xs="",Vi=class{constructor(r){this._driver=r}build(r,e,t){let n=new ji(e);return this._resetContextStyleTimingState(n),Ve(this,sn(r),n)}_resetContextStyleTimingState(r){r.currentQuerySelector=xs,r.collectedStyles=new Map,r.collectedStyles.set(xs,new Map),r.currentTime=0}visitTrigger(r,e){let t=e.queryCount=0,n=e.depCount=0,o=[],d=[];return r.name.charAt(0)=="@"&&e.errors.push(Cp()),r.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),p.type==V.State){let m=p,g=m.name;g.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,o.push(this.visitState(m,e))}),m.name=g}else if(p.type==V.Transition){let m=this.visitTransition(p,e);t+=m.queryCount,n+=m.depCount,d.push(m)}else e.errors.push(Sp())}),{type:V.Trigger,name:r.name,states:o,transitions:d,queryCount:t,depCount:n,options:null}}visitState(r,e){let t=this.visitStyle(r.styles,e),n=r.options&&r.options.params||null;if(t.containsDynamicStyles){let o=new Set,d=n||{};t.styles.forEach(p=>{p instanceof Map&&p.forEach(m=>{As(m).forEach(g=>{d.hasOwnProperty(g)||o.add(g)})})}),o.size&&e.errors.push(Pp(r.name,[...o.values()]))}return{type:V.State,name:r.name,style:t,options:n?{params:n}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;let t=Ve(this,sn(r.animation),e),n=sm(r.expr,e.errors);return{type:V.Transition,matchers:n,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:Et(r.options)}}visitSequence(r,e){return{type:V.Sequence,steps:r.steps.map(t=>Ve(this,t,e)),options:Et(r.options)}}visitGroup(r,e){let t=e.currentTime,n=0,o=r.steps.map(d=>{e.currentTime=t;let p=Ve(this,d,e);return n=Math.max(n,e.currentTime),p});return e.currentTime=n,{type:V.Group,steps:o,options:Et(r.options)}}visitAnimate(r,e){let t=um(r.timings,e.errors);e.currentAnimateTimings=t;let n,o=r.styles?r.styles:Fe({});if(o.type==V.Keyframes)n=this.visitKeyframes(o,e);else{let d=r.styles,p=!1;if(!d){p=!0;let g={};t.easing&&(g.easing=t.easing),d=Fe(g)}e.currentTime+=t.duration+t.delay;let m=this.visitStyle(d,e);m.isEmptyStep=p,n=m}return e.currentAnimateTimings=null,{type:V.Animate,timings:t,style:n,options:null}}visitStyle(r,e){let t=this._makeStyleAst(r,e);return this._validateStyleAst(t,e),t}_makeStyleAst(r,e){let t=[],n=Array.isArray(r.styles)?r.styles:[r.styles];for(let p of n)typeof p=="string"?p===et?t.push(p):e.errors.push(wp(p)):t.push(new Map(Object.entries(p)));let o=!1,d=null;return t.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(d=p.get("easing"),p.delete("easing")),!o)){for(let m of p.values())if(m.toString().indexOf(Is)>=0){o=!0;break}}}),{type:V.Style,styles:t,easing:d,offset:r.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(r,e){let t=e.currentAnimateTimings,n=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),r.styles.forEach(d=>{typeof d!="string"&&d.forEach((p,m)=>{let g=e.collectedStyles.get(e.currentQuerySelector),x=g.get(m),b=!0;x&&(o!=n&&o>=x.startTime&&n<=x.endTime&&(e.errors.push(Mp(m,x.startTime,x.endTime,o,n)),b=!1),o=x.startTime),b&&g.set(m,{startTime:o,endTime:n}),e.options&&tm(p,e.options,e.errors)})})}visitKeyframes(r,e){let t={type:V.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Op()),t;let n=1,o=0,d=[],p=!1,m=!1,g=0,x=r.steps.map(de=>{let me=this._makeStyleAst(de,e),we=me.offset!=null?me.offset:mm(me.styles),_e=0;return we!=null&&(o++,_e=me.offset=we),m=m||_e<0||_e>1,p=p||_e<g,g=_e,d.push(_e),me});m&&e.errors.push(Ep()),p&&e.errors.push(Tp());let b=r.steps.length,F=0;o>0&&o<b?e.errors.push(kp()):o==0&&(F=n/(b-1));let z=b-1,k=e.currentTime,N=e.currentAnimateTimings,X=N.duration;return x.forEach((de,me)=>{let we=F>0?me==z?1:F*me:d[me],_e=we*X;e.currentTime=k+N.delay+_e,N.duration=_e,this._validateStyleAst(de,e),de.offset=we,t.styles.push(de)}),t}visitReference(r,e){return{type:V.Reference,animation:Ve(this,sn(r.animation),e),options:Et(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:V.AnimateChild,options:Et(r.options)}}visitAnimateRef(r,e){return{type:V.AnimateRef,animation:this.visitReference(r.animation,e),options:Et(r.options)}}visitQuery(r,e){let t=e.currentQuerySelector,n=r.options||{};e.queryCount++,e.currentQuery=r;let[o,d]=dm(r.selector);e.currentQuerySelector=t.length?t+" "+o:o,je(e.collectedStyles,e.currentQuerySelector,new Map);let p=Ve(this,sn(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:V.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:d,animation:p,originalSelector:r.selector,options:Et(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(Ip());let t=r.timings==="full"?{duration:0,delay:0,easing:"full"}:Gn(r.timings,e.errors,!0);return{type:V.Stagger,animation:Ve(this,sn(r.animation),e),timings:t,options:null}}};function dm(i){let r=!!i.split(/\s*,\s*/).find(e=>e==Fs);return r&&(i=i.replace(cm,"")),i=i.replace(/@\*/g,Un).replace(/@\w+/g,e=>Un+"-"+e.slice(1)).replace(/:animating/g,Ri),[i,r]}function pm(i){return i?q({},i):null}var ji=class{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function mm(i){if(typeof i=="string")return null;let r=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;r=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;r=parseFloat(e.get("offset")),e.delete("offset")}return r}function um(i,r){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Gn(i,r).duration;return ki(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ki(0,0,"");return o.dynamic=!0,o.strValue=e,o}let n=Gn(e,r);return ki(n.duration,n.delay,n.easing)}function Et(i){return i?(i=q({},i),i.params&&(i.params=pm(i.params))):i={},i}function ki(i,r,e){return{duration:i,delay:r,easing:e}}function ir(i,r,e,t,n,o,d=null,p=!1){return{type:1,element:i,keyframes:r,preStyleProps:e,postStyleProps:t,duration:n,delay:o,totalTime:n+o,easing:d,subTimeline:p}}var cn=class{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let t=this._map.get(r);t||this._map.set(r,t=[]),t.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}},gm=1,fm=":enter",hm=new RegExp(fm,"g"),_m=":leave",vm=new RegExp(_m,"g");function Rs(i,r,e,t,n,o=new Map,d=new Map,p,m,g=[]){return new Bi().buildKeyframes(i,r,e,t,n,o,d,p,m,g)}var Bi=class{buildKeyframes(r,e,t,n,o,d,p,m,g,x=[]){g=g||new cn;let b=new Hi(r,e,g,n,o,x,[]);b.options=m;let F=m.delay?dt(m.delay):0;b.currentTimeline.delayNextStep(F),b.currentTimeline.setStyles([d],null,b.errors,m),Ve(this,t,b);let z=b.timelines.filter(k=>k.containsAnimation());if(z.length&&p.size){let k;for(let N=z.length-1;N>=0;N--){let X=z[N];if(X.element===e){k=X;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([p],null,b.errors,m)}return z.length?z.map(k=>k.buildKeyframes()):[ir(e,[],[],[],0,F,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){let t=e.subInstructions.get(e.element);if(t){let n=e.createSubContext(r.options),o=e.currentTimeline.currentTime,d=this._visitSubInstructions(t,n,n.options);o!=d&&e.transformIntoNewTimeline(d)}e.previousNode=r}visitAnimateRef(r,e){let t=e.createSubContext(r.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],e,t),this.visitReference(r.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=r}_applyAnimationRefDelays(r,e,t){for(let n of r){let o=n?.delay;if(o){let d=typeof o=="number"?o:dt(ln(o,n?.params??{},e.errors));t.delayNextStep(d)}}}_visitSubInstructions(r,e,t){let o=e.currentTimeline.currentTime,d=t.duration!=null?dt(t.duration):null,p=t.delay!=null?dt(t.delay):null;return d!==0&&r.forEach(m=>{let g=e.appendInstructionToTimeline(m,d,p);o=Math.max(o,g.duration+g.delay)}),o}visitReference(r,e){e.updateOptions(r.options,!0),Ve(this,r.animation,e),e.previousNode=r}visitSequence(r,e){let t=e.subContextCount,n=e,o=r.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==V.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Yn);let d=dt(o.delay);n.delayNextStep(d)}r.steps.length&&(r.steps.forEach(d=>Ve(this,d,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){let t=[],n=e.currentTimeline.currentTime,o=r.options&&r.options.delay?dt(r.options.delay):0;r.steps.forEach(d=>{let p=e.createSubContext(r.options);o&&p.delayNextStep(o),Ve(this,d,p),n=Math.max(n,p.currentTimeline.currentTime),t.push(p.currentTimeline)}),t.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(n),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){let t=r.strValue,n=e.params?ln(t,e.params,e.errors):t;return Gn(n,e.errors)}else return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){let t=e.currentAnimateTimings=this._visitTiming(r.timings,e),n=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),n.snapshotCurrentStyles());let o=r.style;o.type==V.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){let t=e.currentTimeline,n=e.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=n&&n.easing||r.easing;r.isEmptyStep?t.applyEmptyStep(o):t.setStyles(r.styles,o,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){let t=e.currentAnimateTimings,n=e.currentTimeline.duration,o=t.duration,p=e.createSubContext().currentTimeline;p.easing=t.easing,r.styles.forEach(m=>{let g=m.offset||0;p.forwardTime(g*o),p.setStyles(m.styles,m.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(n+o),e.previousNode=r}visitQuery(r,e){let t=e.currentTimeline.currentTime,n=r.options||{},o=n.delay?dt(n.delay):0;o&&(e.previousNode.type===V.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Yn);let d=t,p=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=p.length;let m=null;p.forEach((g,x)=>{e.currentQueryIndex=x;let b=e.createSubContext(r.options,g);o&&b.delayNextStep(o),g===e.element&&(m=b.currentTimeline),Ve(this,r.animation,b),b.currentTimeline.applyStylesToKeyframe();let F=b.currentTimeline.currentTime;d=Math.max(d,F)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){let t=e.parentContext,n=e.currentTimeline,o=r.timings,d=Math.abs(o.duration),p=d*(e.currentQueryTotal-1),m=d*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=p-m;break;case"full":m=t.currentStaggerTime;break}let x=e.currentTimeline;m&&x.delayNextStep(m);let b=x.currentTime;Ve(this,r.animation,e),e.previousNode=r,t.currentStaggerTime=n.currentTime-b+(n.startTime-t.currentTimeline.startTime)}},Yn={},Hi=class i{constructor(r,e,t,n,o,d,p,m){this._driver=r,this.element=e,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=o,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Kn(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;let t=r,n=this.options;t.duration!=null&&(n.duration=dt(t.duration)),t.delay!=null&&(n.delay=dt(t.delay));let o=t.params;if(o){let d=n.params;d||(d=this.options.params={}),Object.keys(o).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=ln(o[p],d,this.errors))})}}_copyOptions(){let r={};if(this.options){let e=this.options.params;if(e){let t=r.params={};Object.keys(e).forEach(n=>{t[n]=e[n]})}}return r}createSubContext(r=null,e,t){let n=e||this.element,o=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(r),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(r){return this.previousNode=Yn,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,t){let n={duration:e??r.duration,delay:this.currentTimeline.currentTime+(t??0)+r.delay,easing:""},o=new $i(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,n,r.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,t,n,o,d){let p=[];if(n&&p.push(this.element),r.length>0){r=r.replace(hm,"."+this._enterClassName),r=r.replace(vm,"."+this._leaveClassName);let m=t!=1,g=this._driver.query(this.element,r,m);t!==0&&(g=t<0?g.slice(g.length+t,g.length):g.slice(0,t)),p.push(...g)}return!o&&p.length==0&&d.push(Dp(e)),p}},Kn=class i{constructor(r,e,t,n){this._driver=r,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new i(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=gm,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles.set(r,e),this._globalTimelineStyles.set(r,e),this._styleSummary.set(r,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||et),this._currentKeyframe.set(e,et);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,t,n){e&&this._previousKeyframe.set("easing",e);let o=n&&n.params||{},d=xm(r,this._globalTimelineStyles);for(let[p,m]of d){let g=ln(m,o,t);this._pendingStyles.set(p,g),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??et),this._updateStyle(p,g)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,e)=>{this._currentKeyframe.set(e,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,r)}))}snapshotCurrentStyles(){for(let[r,e]of this._localTimelineStyles)this._pendingStyles.set(r,e),this._updateStyle(r,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((e,t)=>{let n=this._styleSummary.get(t);(!n||e.time>n.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((p,m)=>{let g=new Map([...this._backFill,...p]);g.forEach((x,b)=>{x===An?r.add(b):x===et&&e.add(b)}),t||g.set("offset",m/this.duration),n.push(g)});let o=[...r.values()],d=[...e.values()];if(t){let p=n[0],m=new Map(p);p.set("offset",0),m.set("offset",1),n=[p,m]}return ir(this.element,n,o,d,this.duration,this.startTime,this.easing,!1)}},$i=class extends Kn{constructor(r,e,t,n,o,d,p=!1){super(r,e,d.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],d=t+e,p=e/d,m=new Map(r[0]);m.set("offset",0),o.push(m);let g=new Map(r[0]);g.set("offset",bs(p)),o.push(g);let x=r.length-1;for(let b=1;b<=x;b++){let F=new Map(r[b]),z=F.get("offset"),k=e+z*t;F.set("offset",bs(k/d)),o.push(F)}t=d,e=0,n="",r=o}return ir(this.element,r,this.preStyleProps,this.postStyleProps,t,e,n,!0)}};function bs(i,r=3){let e=Math.pow(10,r-1);return Math.round(i*e)/e}function xm(i,r){let e=new Map,t;return i.forEach(n=>{if(n==="*"){t??=r.keys();for(let o of t)e.set(o,et)}else for(let[o,d]of n)e.set(o,d)}),e}function ys(i,r,e,t,n,o,d,p,m,g,x,b,F){return{type:0,element:i,triggerName:r,isRemovalTransition:n,fromState:e,fromStyles:o,toState:t,toStyles:d,timelines:p,queriedElements:m,preStyleProps:g,postStyleProps:x,totalTime:b,errors:F}}var Ii={},Zn=class{constructor(r,e,t){this._triggerName=r,this.ast=e,this._stateStyles=t}match(r,e,t,n){return bm(this.ast.matchers,r,e,t,n)}buildStyles(r,e,t){let n=this._stateStyles.get("*");return r!==void 0&&(n=this._stateStyles.get(r?.toString())||n),n?n.buildStyles(e,t):new Map}build(r,e,t,n,o,d,p,m,g,x){let b=[],F=this.ast.options&&this.ast.options.params||Ii,z=p&&p.params||Ii,k=this.buildStyles(t,z,b),N=m&&m.params||Ii,X=this.buildStyles(n,N,b),de=new Set,me=new Map,we=new Map,_e=n==="void",Dt={params:zs(N,F),delay:this.ast.options?.delay},We=x?[]:Rs(r,e,this.ast.animation,o,d,k,X,Dt,g,b),Me=0;return We.forEach(Ee=>{Me=Math.max(Ee.duration+Ee.delay,Me)}),b.length?ys(e,this._triggerName,t,n,_e,k,X,[],[],me,we,Me,b):(We.forEach(Ee=>{let _t=Ee.element,At=je(me,_t,new Set);Ee.preStyleProps.forEach(vt=>At.add(vt));let or=je(we,_t,new Set);Ee.postStyleProps.forEach(vt=>or.add(vt)),_t!==e&&de.add(_t)}),ys(e,this._triggerName,t,n,_e,k,X,We,[...de.values()],me,we,Me))}};function bm(i,r,e,t,n){return i.some(o=>o(r,e,t,n))}function zs(i,r){let e=q({},r);return Object.entries(i).forEach(([t,n])=>{n!=null&&(e[t]=n)}),e}var qi=class{constructor(r,e,t){this.styles=r,this.defaultParams=e,this.normalizer=t}buildStyles(r,e){let t=new Map,n=zs(r,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((d,p)=>{d&&(d=ln(d,n,e));let m=this.normalizer.normalizePropertyName(p,e);d=this.normalizer.normalizeStyleValue(p,m,d,e),t.set(p,d)})}),t}};function ym(i,r,e){return new Ui(i,r,e)}var Ui=class{constructor(r,e,t){this.name=r,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new qi(n.style,o,t))}),Cs(this.states,"true","1"),Cs(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Zn(r,n,this.states))}),this.fallbackTransition=Cm(r,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,t,n){return this.transitionFactories.find(d=>d.match(r,e,t,n))||null}matchStyles(r,e,t){return this.fallbackTransition.buildStyles(r,e,t)}};function Cm(i,r,e){let t=[(d,p)=>!0],n={type:V.Sequence,steps:[],options:null},o={type:V.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new Zn(i,o,r)}function Cs(i,r,e){i.has(r)?i.has(e)||i.set(e,i.get(r)):i.has(e)&&i.set(r,i.get(e))}var Sm=new cn,Gi=class{constructor(r,e,t){this.bodyNode=r,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,e){let t=[],n=[],o=Ns(this._driver,e,t,n);if(t.length)throw zp(t);n.length&&void 0,this._animations.set(r,o)}_buildPlayer(r,e,t){let n=r.element,o=Es(this._normalizer,r.keyframes,e,t);return this._driver.animate(n,o,r.duration,r.delay,r.easing,[],!0)}create(r,e,t={}){let n=[],o=this._animations.get(r),d,p=new Map;if(o?(d=Rs(this._driver,e,o,Ds,Ni,new Map,new Map,t,Sm,n),d.forEach(x=>{let b=je(p,x.element,new Map);x.postStyleProps.forEach(F=>b.set(F,null))})):(n.push(Lp()),d=[]),n.length)throw Vp(n);p.forEach((x,b)=>{x.forEach((F,z)=>{x.set(z,this._driver.computeStyle(b,z,et))})});let m=d.map(x=>{let b=p.get(x.element);return this._buildPlayer(x,new Map,b)}),g=ht(m);return this._playersById.set(r,g),g.onDestroy(()=>this.destroy(r)),this.players.push(g),g}destroy(r){let e=this._getPlayer(r);e.destroy(),this._playersById.delete(r);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(r){let e=this._playersById.get(r);if(!e)throw jp(r);return e}listen(r,e,t,n){let o=Xi(e,"","","");return Zi(this._getPlayer(r),t,o,n),()=>{}}command(r,e,t,n){if(t=="register"){this.register(r,n[0]);return}if(t=="create"){let d=n[0]||{};this.create(r,e,d);return}let o=this._getPlayer(r);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(r);break}}},Ss="ng-animate-queued",Pm=".ng-animate-queued",Di="ng-animate-disabled",wm=".ng-animate-disabled",Mm="ng-star-inserted",Om=".ng-star-inserted",Em=[],Ls={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ge="__ng_removed",dn=class{get params(){return this.options.params}constructor(r,e=""){this.namespaceId=e;let t=r&&r.hasOwnProperty("value"),n=t?r.value:r;if(this.value=Im(n),t){let o=r,{value:d}=o,p=cr(o,["value"]);this.options=p}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){let e=r.params;if(e){let t=this.options.params;Object.keys(e).forEach(n=>{t[n]==null&&(t[n]=e[n])})}}},an="void",Ai=new dn(an),Wi=class{constructor(r,e,t){this.id=r,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,qe(e,this._hostClassName)}listen(r,e,t,n){if(!this._triggers.has(e))throw Bp(t,e);if(t==null||t.length==0)throw Hp(e);if(!Dm(t))throw $p(t,e);let o=je(this._elementListeners,r,[]),d={name:e,phase:t,callback:n};o.push(d);let p=je(this._engine.statesByElement,r,new Map);return p.has(e)||(qe(r,jn),qe(r,jn+"-"+e),p.set(e,Ai)),()=>{this._engine.afterFlush(()=>{let m=o.indexOf(d);m>=0&&o.splice(m,1),this._triggers.has(e)||p.delete(e)})}}register(r,e){return this._triggers.has(r)?!1:(this._triggers.set(r,e),!0)}_getTrigger(r){let e=this._triggers.get(r);if(!e)throw qp(r);return e}trigger(r,e,t,n=!0){let o=this._getTrigger(e),d=new pn(this.id,e,r),p=this._engine.statesByElement.get(r);p||(qe(r,jn),qe(r,jn+"-"+e),this._engine.statesByElement.set(r,p=new Map));let m=p.get(e),g=new dn(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&m&&g.absorbOptions(m.options),p.set(e,g),m||(m=Ai),!(g.value===an)&&m.value===g.value){if(!Nm(m.params,g.params)){let N=[],X=o.matchStyles(m.value,m.params,N),de=o.matchStyles(g.value,g.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Tt(r,X),it(r,de)})}return}let F=je(this._engine.playersByElement,r,[]);F.forEach(N=>{N.namespaceId==this.id&&N.triggerName==e&&N.queued&&N.destroy()});let z=o.matchTransition(m.value,g.value,r,g.params),k=!1;if(!z){if(!n)return;z=o.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:z,fromState:m,toState:g,player:d,isFallbackTransition:k}),k||(qe(r,Ss),d.onStart(()=>{Kt(r,Ss)})),d.onDone(()=>{let N=this.players.indexOf(d);N>=0&&this.players.splice(N,1);let X=this._engine.playersByElement.get(r);if(X){let de=X.indexOf(d);de>=0&&X.splice(de,1)}}),this.players.push(d),F.push(d),d}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(e=>e.delete(r)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(n=>n.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let e=this._engine.playersByElement.get(r);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){let t=this._engine.driver.query(r,Un,!0);t.forEach(n=>{if(n[Ge])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(d=>d.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(r,e,t,n){let o=this._engine.statesByElement.get(r),d=new Map;if(o){let p=[];if(o.forEach((m,g)=>{if(d.set(g,m.value),this._triggers.has(g)){let x=this.trigger(r,g,an,n);x&&p.push(x)}}),p.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,d),t&&ht(p).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){let e=this._elementListeners.get(r),t=this._engine.statesByElement.get(r);if(e&&t){let n=new Set;e.forEach(o=>{let d=o.name;if(n.has(d))return;n.add(d);let m=this._triggers.get(d).fallbackTransition,g=t.get(d)||Ai,x=new dn(an),b=new pn(this.id,d,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:d,transition:m,fromState:g,toState:x,player:b,isFallbackTransition:!0})})}}removeNode(r,e){let t=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let n=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(r):[];if(o&&o.length)n=!0;else{let d=r;for(;d=d.parentNode;)if(t.statesByElement.get(d)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(r),n)t.markElementAsRemoved(this.id,r,!1,e);else{let o=r[Ge];(!o||o===Ls)&&(t.afterFlush(()=>this.clearElementCache(r)),t.destroyInnerAnimations(r),t._onRemovalComplete(r,e))}}insertNode(r,e){qe(r,this._hostClassName)}drainQueuedTransitions(r){let e=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let o=t.element,d=this._elementListeners.get(o);d&&d.forEach(p=>{if(p.name==t.triggerName){let m=Xi(o,t.triggerName,t.fromState.value,t.toState.value);m._data=r,Zi(t.player,p.phase,m,p.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(t)}),this._queue=[],e.sort((t,n)=>{let o=t.transition.ast.depCount,d=n.transition.ast.depCount;return o==0||d==0?o-d:this._engine.driver.containsElement(t.element,n.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}},Qi=class{_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}constructor(r,e,t,n){this.bodyNode=r,this.driver=e,this._normalizer=t,this.scheduler=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}get queuedPlayers(){let r=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&r.push(t)})}),r}createNamespace(r,e){let t=new Wi(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[r]=t}_balanceNamespaceList(r,e){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let d=!1,p=this.driver.getParentElement(e);for(;p;){let m=n.get(p);if(m){let g=t.indexOf(m);t.splice(g+1,0,r),d=!0;break}p=this.driver.getParentElement(p)}d||t.unshift(r)}else t.push(r);return n.set(e,r),r}register(r,e){let t=this._namespaceLookup[r];return t||(t=this.createNamespace(r,e)),t}registerTrigger(r,e,t){let n=this._namespaceLookup[r];n&&n.register(e,t)&&this.totalAnimations++}destroy(r,e){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(r);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(e),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){let e=new Set,t=this.statesByElement.get(r);if(t){for(let n of t.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}}return e}trigger(r,e,t,n){if($n(e)){let o=this._fetchNamespace(r);if(o)return o.trigger(e,t,n),!0}return!1}insertNode(r,e,t,n){if(!$n(e))return;let o=e[Ge];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(r){let d=this._fetchNamespace(r);d&&d.insertNode(e,t)}n&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),qe(r,Di)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Kt(r,Di))}removeNode(r,e,t){if($n(e)){this.scheduler?.notify();let n=r?this._fetchNamespace(r):null;n?n.removeNode(e,t):this.markElementAsRemoved(r,e,!1,t);let o=this.namespacesByHostElement.get(e);o&&o.id!==r&&o.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(r,e,t,n,o){this.collectedLeaveElements.push(e),e[Ge]={namespaceId:r,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(r,e,t,n,o){return $n(e)?this._fetchNamespace(r).listen(e,t,n,o):()=>{}}_buildInstruction(r,e,t,n,o){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,t,n,r.fromState.options,r.toState.options,e,o)}destroyInnerAnimations(r){let e=this.driver.query(r,Un,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(r,Ri,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(r){let e=this.playersByElement.get(r);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(r){let e=this.playersByQueriedElement.get(r);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return ht(this.players).onDone(()=>r());r()})}processLeaveNode(r){let e=r[Ge];if(e&&e.setForRemoval){if(r[Ge]=Ls,e.namespaceId){this.destroyInnerAnimations(r);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(r)}this._onRemovalComplete(r,e.setForRemoval)}r.classList?.contains(Di)&&this.markElementAsDisabled(r,!1),this.driver.query(r,wm,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];qe(n,Mm)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,r)}finally{for(let n=0;n<t.length;n++)t[n]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?ht(e).onDone(()=>{t.forEach(n=>n())}):t.forEach(n=>n())}}reportError(r){throw Up(r)}_flushAnimations(r,e){let t=new cn,n=[],o=new Map,d=[],p=new Map,m=new Map,g=new Map,x=new Set;this.disabledNodes.forEach(E=>{x.add(E);let I=this.driver.query(E,Pm,!0);for(let A=0;A<I.length;A++)x.add(I[A])});let b=this.bodyNode,F=Array.from(this.statesByElement.keys()),z=Ms(F,this.collectedEnterElements),k=new Map,N=0;z.forEach((E,I)=>{let A=Ds+N++;k.set(I,A),E.forEach(G=>qe(G,A))});let X=[],de=new Set,me=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){let I=this.collectedLeaveElements[E],A=I[Ge];A&&A.setForRemoval&&(X.push(I),de.add(I),A.hasAnimation?this.driver.query(I,Om,!0).forEach(G=>de.add(G)):me.add(I))}let we=new Map,_e=Ms(F,Array.from(de));_e.forEach((E,I)=>{let A=Ni+N++;we.set(I,A),E.forEach(G=>qe(G,A))}),r.push(()=>{z.forEach((E,I)=>{let A=k.get(I);E.forEach(G=>Kt(G,A))}),_e.forEach((E,I)=>{let A=we.get(I);E.forEach(G=>Kt(G,A))}),X.forEach(E=>{this.processLeaveNode(E)})});let Dt=[],We=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(A=>{let G=A.player,ue=A.element;if(Dt.push(G),this.collectedEnterElements.length){let xe=ue[Ge];if(xe&&xe.setForMove){if(xe.previousTriggersValues&&xe.previousTriggersValues.has(A.triggerName)){let xt=xe.previousTriggersValues.get(A.triggerName),Be=this.statesByElement.get(A.element);if(Be&&Be.has(A.triggerName)){let mn=Be.get(A.triggerName);mn.value=xt,Be.set(A.triggerName,mn)}}G.destroy();return}}let Qe=!b||!this.driver.containsElement(b,ue),Ne=we.get(ue),pt=k.get(ue),ie=this._buildInstruction(A,t,pt,Ne,Qe);if(ie.errors&&ie.errors.length){We.push(ie);return}if(Qe){G.onStart(()=>Tt(ue,ie.fromStyles)),G.onDestroy(()=>it(ue,ie.toStyles)),n.push(G);return}if(A.isFallbackTransition){G.onStart(()=>Tt(ue,ie.fromStyles)),G.onDestroy(()=>it(ue,ie.toStyles)),n.push(G);return}let lr=[];ie.timelines.forEach(xe=>{xe.stretchStartingKeyframe=!0,this.disabledNodes.has(xe.element)||lr.push(xe)}),ie.timelines=lr,t.append(ue,ie.timelines);let Ws={instruction:ie,player:G,element:ue};d.push(Ws),ie.queriedElements.forEach(xe=>je(p,xe,[]).push(G)),ie.preStyleProps.forEach((xe,xt)=>{if(xe.size){let Be=m.get(xt);Be||m.set(xt,Be=new Set),xe.forEach((mn,ii)=>Be.add(ii))}}),ie.postStyleProps.forEach((xe,xt)=>{let Be=g.get(xt);Be||g.set(xt,Be=new Set),xe.forEach((mn,ii)=>Be.add(ii))})});if(We.length){let E=[];We.forEach(I=>{E.push(Gp(I.triggerName,I.errors))}),Dt.forEach(I=>I.destroy()),this.reportError(E)}let Me=new Map,Ee=new Map;d.forEach(E=>{let I=E.element;t.has(I)&&(Ee.set(I,I),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,Me))}),n.forEach(E=>{let I=E.element;this._getPreviousPlayers(I,!1,E.namespaceId,E.triggerName,null).forEach(G=>{je(Me,I,[]).push(G),G.destroy()})});let _t=X.filter(E=>Os(E,m,g)),At=new Map;ws(At,this.driver,me,g,et).forEach(E=>{Os(E,m,g)&&_t.push(E)});let vt=new Map;z.forEach((E,I)=>{ws(vt,this.driver,new Set(E),m,An)}),_t.forEach(E=>{let I=At.get(E),A=vt.get(E);At.set(E,new Map([...I?.entries()??[],...A?.entries()??[]]))});let ni=[],sr=[],ar={};d.forEach(E=>{let{element:I,player:A,instruction:G}=E;if(t.has(I)){if(x.has(I)){A.onDestroy(()=>it(I,G.toStyles)),A.disabled=!0,A.overrideTotalTime(G.totalTime),n.push(A);return}let ue=ar;if(Ee.size>1){let Ne=I,pt=[];for(;Ne=Ne.parentNode;){let ie=Ee.get(Ne);if(ie){ue=ie;break}pt.push(Ne)}pt.forEach(ie=>Ee.set(ie,ue))}let Qe=this._buildAnimation(A.namespaceId,G,Me,o,vt,At);if(A.setRealPlayer(Qe),ue===ar)ni.push(A);else{let Ne=this.playersByElement.get(ue);Ne&&Ne.length&&(A.parentPlayer=ht(Ne)),n.push(A)}}else Tt(I,G.fromStyles),A.onDestroy(()=>it(I,G.toStyles)),sr.push(A),x.has(I)&&n.push(A)}),sr.forEach(E=>{let I=o.get(E.element);if(I&&I.length){let A=ht(I);E.setRealPlayer(A)}}),n.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<X.length;E++){let I=X[E],A=I[Ge];if(Kt(I,Ni),A&&A.hasAnimation)continue;let G=[];if(p.size){let Qe=p.get(I);Qe&&Qe.length&&G.push(...Qe);let Ne=this.driver.query(I,Ri,!0);for(let pt=0;pt<Ne.length;pt++){let ie=p.get(Ne[pt]);ie&&ie.length&&G.push(...ie)}}let ue=G.filter(Qe=>!Qe.destroyed);ue.length?Am(this,I,ue):this.processLeaveNode(I)}return X.length=0,ni.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();let I=this.players.indexOf(E);this.players.splice(I,1)}),E.play()}),ni}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,t,n,o){let d=[];if(e){let p=this.playersByQueriedElement.get(r);p&&(d=p)}else{let p=this.playersByElement.get(r);if(p){let m=!o||o==an;p.forEach(g=>{g.queued||!m&&g.triggerName!=n||d.push(g)})}}return(t||n)&&(d=d.filter(p=>!(t&&t!=p.namespaceId||n&&n!=p.triggerName))),d}_beforeAnimationBuild(r,e,t){let n=e.triggerName,o=e.element,d=e.isRemovalTransition?void 0:r,p=e.isRemovalTransition?void 0:n;for(let m of e.timelines){let g=m.element,x=g!==o,b=je(t,g,[]);this._getPreviousPlayers(g,x,d,p,e.toState).forEach(z=>{let k=z.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),z.destroy(),b.push(z)})}Tt(o,e.fromStyles)}_buildAnimation(r,e,t,n,o,d){let p=e.triggerName,m=e.element,g=[],x=new Set,b=new Set,F=e.timelines.map(k=>{let N=k.element;x.add(N);let X=N[Ge];if(X&&X.removedBeforeQueried)return new ft(k.duration,k.delay);let de=N!==m,me=Fm((t.get(N)||Em).map(Me=>Me.getRealPlayer())).filter(Me=>{let Ee=Me;return Ee.element?Ee.element===N:!1}),we=o.get(N),_e=d.get(N),Dt=Es(this._normalizer,k.keyframes,we,_e),We=this._buildPlayer(k,Dt,me);if(k.subTimeline&&n&&b.add(N),de){let Me=new pn(r,p,N);Me.setRealPlayer(We),g.push(Me)}return We});g.forEach(k=>{je(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>km(this.playersByQueriedElement,k.element,k))}),x.forEach(k=>qe(k,_s));let z=ht(F);return z.onDestroy(()=>{x.forEach(k=>Kt(k,_s)),it(m,e.toStyles)}),b.forEach(k=>{je(n,k,[]).push(z)}),z}_buildPlayer(r,e,t){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,t):new ft(r.duration,r.delay)}},pn=class{constructor(r,e,t){this.namespaceId=r,this.triggerName=e,this.element=t,this._player=new ft,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((e,t)=>{e.forEach(n=>Zi(r,t,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){let e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){je(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){let e=this._player;e.triggerCallback&&e.triggerCallback(r)}};function km(i,r,e){let t=i.get(r);if(t){if(t.length){let n=t.indexOf(e);t.splice(n,1)}t.length==0&&i.delete(r)}return t}function Im(i){return i??null}function $n(i){return i&&i.nodeType===1}function Dm(i){return i=="start"||i=="done"}function Ps(i,r){let e=i.style.display;return i.style.display=r??"none",e}function ws(i,r,e,t,n){let o=[];e.forEach(m=>o.push(Ps(m)));let d=[];t.forEach((m,g)=>{let x=new Map;m.forEach(b=>{let F=r.computeStyle(g,b,n);x.set(b,F),(!F||F.length==0)&&(g[Ge]=Tm,d.push(g))}),i.set(g,x)});let p=0;return e.forEach(m=>Ps(m,o[p++])),d}function Ms(i,r){let e=new Map;if(i.forEach(p=>e.set(p,[])),r.length==0)return e;let t=1,n=new Set(r),o=new Map;function d(p){if(!p)return t;let m=o.get(p);if(m)return m;let g=p.parentNode;return e.has(g)?m=g:n.has(g)?m=t:m=d(g),o.set(p,m),m}return r.forEach(p=>{let m=d(p);m!==t&&e.get(m).push(p)}),e}function qe(i,r){i.classList?.add(r)}function Kt(i,r){i.classList?.remove(r)}function Am(i,r,e){ht(e).onDone(()=>i.processLeaveNode(r))}function Fm(i){let r=[];return Vs(i,r),r}function Vs(i,r){for(let e=0;e<i.length;e++){let t=i[e];t instanceof tn?Vs(t.players,r):r.push(t)}}function Nm(i,r){let e=Object.keys(i),t=Object.keys(r);if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n];if(!r.hasOwnProperty(o)||i[o]!==r[o])return!1}return!0}function Os(i,r,e){let t=e.get(i);if(!t)return!1;let n=r.get(i);return n?t.forEach(o=>n.add(o)):r.set(i,t),e.delete(i),!0}var Zt=class{constructor(r,e,t,n){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new Qi(r.body,e,t,n),this._timelineEngine=new Gi(r.body,e,t),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(r,e,t,n,o){let d=r+"-"+n,p=this._triggerCache[d];if(!p){let m=[],g=[],x=Ns(this._driver,o,m,g);if(m.length)throw Np(n,m);g.length&&void 0,p=ym(n,x,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,n,p)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,t,n){this._transitionEngine.insertNode(r,e,t,n)}onRemove(r,e,t){this._transitionEngine.removeNode(r,e,t)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,t,n){if(t.charAt(0)=="@"){let[o,d]=fs(t),p=n;this._timelineEngine.command(o,e,d,p)}else this._transitionEngine.trigger(r,e,t,n)}listen(r,e,t,n,o){if(t.charAt(0)=="@"){let[d,p]=fs(t);return this._timelineEngine.listen(d,e,p,o)}return this._transitionEngine.listen(r,e,t,n,o)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}};function Rm(i,r){let e=null,t=null;return Array.isArray(r)&&r.length?(e=Fi(r[0]),r.length>1&&(t=Fi(r[r.length-1]))):r instanceof Map&&(e=Fi(r)),e||t?new Yi(i,e,t):null}var Yi=class i{static{this.initialStylesByElement=new WeakMap}constructor(r,e,t){this._element=r,this._startStyles=e,this._endStyles=t,this._state=0;let n=i.initialStylesByElement.get(r);n||i.initialStylesByElement.set(r,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&it(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(it(this._element,this._initialStyles),this._endStyles&&(it(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Tt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tt(this._element,this._endStyles),this._endStyles=null),it(this._element,this._initialStyles),this._state=3)}};function Fi(i){let r=null;return i.forEach((e,t)=>{zm(t)&&(r=r||new Map,r.set(t,e))}),r}function zm(i){return i==="display"||i==="position"}var Xn=class{constructor(r,e,t,n){this.element=r,this.keyframes=e,this.options=t,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){let e=[];return r.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(r,e,t){return r.animate(this._convertKeyframesToObject(e),t)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&r.set(n,this._finished?t:nr(this.element,n))}),this.currentSnapshot=r}triggerCallback(r){let e=r==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},Jn=class{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,e){return!1}containsElement(r,e){return Ts(r,e)}getParentElement(r){return Ji(r)}query(r,e,t){return ks(r,e,t)}computeStyle(r,e,t){return nr(r,e)}animate(r,e,t,n,o,d=[]){let p=n==0?"both":"forwards",m={duration:t,delay:n,fill:p};o&&(m.easing=o);let g=new Map,x=d.filter(z=>z instanceof Xn);im(t,n)&&x.forEach(z=>{z.currentSnapshot.forEach((k,N)=>g.set(N,k))});let b=em(e).map(z=>new Map(z));b=rm(r,b,g);let F=Rm(r,b);return new Xn(r,b,m,F)}};var qn="@",js="@.disabled",ei=class{constructor(r,e,t,n){this.namespaceId=r,this.delegate=e,this.engine=t,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,t,n=!0){this.delegate.insertBefore(r,e,t),this.engine.onInsert(this.namespaceId,e,r,n)}removeChild(r,e,t){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,t,n){this.delegate.setAttribute(r,e,t,n)}removeAttribute(r,e,t){this.delegate.removeAttribute(r,e,t)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,t,n){this.delegate.setStyle(r,e,t,n)}removeStyle(r,e,t){this.delegate.removeStyle(r,e,t)}setProperty(r,e,t){e.charAt(0)==qn&&e==js?this.disableAnimations(r,!!t):this.delegate.setProperty(r,e,t)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,t){return this.delegate.listen(r,e,t)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}},Ki=class extends ei{constructor(r,e,t,n,o){super(e,t,n,o),this.factory=r,this.namespaceId=e}setProperty(r,e,t){e.charAt(0)==qn?e.charAt(1)=="."&&e==js?(t=t===void 0?!0:!!t,this.disableAnimations(r,t)):this.engine.process(this.namespaceId,r,e.slice(1),t):this.delegate.setProperty(r,e,t)}listen(r,e,t){if(e.charAt(0)==qn){let n=Lm(r),o=e.slice(1),d="";return o.charAt(0)!=qn&&([o,d]=Vm(o)),this.engine.listen(this.namespaceId,n,o,d,p=>{let m=p._data||-1;this.factory.scheduleListenerCallback(m,t,p)})}return this.delegate.listen(r,e,t)}};function Lm(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function Vm(i){let r=i.indexOf("."),e=i.substring(0,r),t=i.slice(r+1);return[e,t]}var ti=class{constructor(r,e,t){this.delegate=r,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,o)=>{let d=o?.parentNode(n);d&&o.removeChild(d,n)}}createRenderer(r,e){let t="",n=this.delegate.createRenderer(r,e);if(!r||!e?.data?.animation){let g=this._rendererCache,x=g.get(n);if(!x){let b=()=>g.delete(n);x=new ei(t,n,this.engine,b),g.set(n,x)}return x}let o=e.id,d=e.id+"-"+this._currentId;this._currentId++,this.engine.register(d,r);let p=g=>{Array.isArray(g)?g.forEach(p):this.engine.registerTrigger(o,d,r,g.name,g)};return e.data.animation.forEach(p),new Ki(this,d,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,e,t){if(r>=0&&r<this._microtaskId){this._zone.run(()=>e(t));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[d,p]=o;d(p)}),this._animationCallbacksBuffer=[]})}),n.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Bm=(()=>{class i extends Zt{constructor(e,t,n){super(e,t,n,Z(yr,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||i)(j(Jt),j(kt),j(It))}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac})}}return i})();function Hm(){return new Wn}function $m(i,r,e){return new ti(i,r,e)}var Bs=[{provide:It,useFactory:Hm},{provide:Zt,useClass:Bm},{provide:Sr,useFactory:$m,deps:[Gr,Zt,mt]}],rr=[{provide:kt,useFactory:()=>new Jn},{provide:li,useValue:"BrowserAnimations"},...Bs],qm=[{provide:kt,useClass:er},{provide:li,useValue:"NoopAnimations"},...Bs],Hs=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?qm:rr}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=St({type:i})}static{this.\u0275inj=yt({providers:rr,imports:[Qr]})}}return i})();function $s(){return wr("NgEagerAnimations"),[...rr]}var qs=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac})}}return i})();var Us={providers:[{provide:Hr,useClass:qs,multi:!0},Xr(us,Jr()),_i(),_r(Hs,Ao),$r(Ur(),qr([])),Yr(),$,_i(),$s()]};var Gs=(()=>{class i{constructor(e){this.router=e,this.title="pharmAssist",this.router.events.subscribe(t=>{console.log("Router event:",t)})}static{this.\u0275fac=function(t){return new(t||i)(y(B))}}static{this.\u0275cmp=M({type:i,selectors:[["app-root"]],standalone:!0,features:[O],decls:6,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#2d94ea","type","ball-newton-cradle",3,"fullScreen"],[2,"color","white"]],template:function(t,n){t&1&&(a(0,"div"),f(1,"router-outlet"),s(),a(2,"ngx-spinner",0)(3,"p",1),l(4," Loading... "),s()(),f(5,"app-footer")),t&2&&(c(2),u("fullScreen",!0))},dependencies:[Ut,so,Do],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}"]})}}return i})();Wr(Gs,Us).catch(i=>console.error(i));
